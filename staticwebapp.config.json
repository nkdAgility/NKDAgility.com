{
  "platform": {
    "apiRuntime": "dotnet-isolated:8.0"
  },
  "auth": {
    "identityProviders": {
      "github": {
        "registration": {
          "clientIdSettingName": "GITHUB_CLIENT_ID",
          "clientSecretSettingName": "GITHUB_CLIENT_SECRET"
        }
      },
      "azureActiveDirectory": {
        "registration": {
          "openIdIssuer": "https://mynakedagility.ciamlogin.com/658c1a65-f834-4a61-b68c-91b9a7b3e481/v2.0/",
          "clientIdSettingName": "AZURE_AD_B2C_CLIENT_ID",
          "clientSecretSettingName": "AZURE_AD_B2C_CLIENT_SECRET"
        }
      }
    },
    "routes": [
      {
        "route": "/login/github",
        "allowedRoles": ["authenticated"],
        "redirect": "/.auth/login/github"
      },
      {
        "route": "/login/aad",
        "allowedRoles": ["authenticated"],
        "redirect": "/.auth/login/aad"
      },
      {
        "route": "/logout",
        "redirect": "/.auth/logout"
      },
      {
        "route": "/",
        "allowedRoles": ["anonymous"]
      }
    ]
  },
  "routes": [
    {
      "route": "/authenticated",
      "allowedRoles": ["authenticated"],
      "rewrite": "/index.html"
    },
    {
      "route": "/",
      "rewrite": "/index.html"
    }
  ]
}
