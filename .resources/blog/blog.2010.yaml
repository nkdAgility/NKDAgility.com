- FrontMatter:
    title: 'TFS 2010 Work Item Seed: TFS Work Item system.id at a predefined number'
    description: Learn how to set TFS 2010 Work Item IDs to start at a predefined number, avoiding conflicts with existing systems. Discover a supported API method!
    ResourceId: rRCNKBm5xct
    ResourceType: blog
    ResourceContentOrigin: Human
    ResourceImport: true
    ResourceImportId: 21
    ResourceImportSource: Wordpress
    ResourceImportOriginalSource: GeeksWithBlogs
    date: 2010-10-20
    weight: 840
    creator: Martin Hinshelwood
    layout: blog
    resourceTypes: blog
    slug: tfs-2010-work-item-seed-tfs-work-item-system-id-at-a-predefined-number
    aliases:
    - /resources/rRCNKBm5xct
    - /resources/blog/tfs-2010-work-item-seed-tfs-work-item-system.id-at-a-predefined-number
    aliasesArchive:
    - /blog/tfs-2010-work-item-seed-tfs-work-item-system-id-at-a-predefined-number
    - /tfs-2010-work-item-seed-tfs-work-item-system-id-at-a-predefined-number
    - /tfs-2010-work-item-seed--tfs-work-item-system-id-at-a-predefined-number
    - /blog/tfs-2010-work-item-seed--tfs-work-item-system-id-at-a-predefined-number
    - /resources/blog/tfs-2010-work-item-seed-tfs-work-item-system-id-at-a-predefined-number
    - /resources/blog/tfs-2010-work-item-seed-tfs-work-item-system.id-at-a-predefined-number
    tags:
    - Software Development
    - Windows
    categories:
    - Uncategorized
    preview: metro-binary-vb-128-link-5-5.png
  BodyContent: |
    This week my customer had a requirement to have all new work items created to have an ID greater than 40,000. They have another system that stores tickets and they don’t want any conflict.

    There have been a number of ways to achieve this through a database change, but it is not supported by Microsoft. This means that if you make the change and mess it up you are on your own.

    - [Start TFS Work Item system.id at a predefined number](http://social.msdn.microsoft.com/Forums/en-US/tfsprocess/thread/d84b451c-6963-4099-ad1a-11a9527a62b9)
    - [Set TFS 2010 Work Item ID Seed](http://social.msdn.microsoft.com/Forums/en/tfssetup/thread/21ebaf41-2e4f-43eb-87f6-5d301a4b6bff)

    In order to provide a supported way of doing this you need to use the API, and that is an interesting problem. We are going to have to use the API to create a specific number of work items, but we don’t really want those work items hanging around.

    We could:

    1. Create new Team Project
    2. Add 40,000 work items
    3. Delete the Team Project

    But there should be a neater way and to that end, lets connect to a Team Project that we can use to create the work items in.

    ```
    Dim projectPicker As New TeamProjectPicker(TeamProjectPickerMode.SingleProject, False)
    projectPicker.ShowDialog()

    If Not projectPicker.SelectedTeamProjectCollection Is Nothing Then

        projectPicker.SelectedTeamProjectCollection.EnsureAuthenticated()

        _Store = projectPicker.SelectedTeamProjectCollection.GetService(Of WorkItemStore)()
        _ProjectInfo = projectPicker.SelectedProjects(0)

    End If
    ```

    We can use the TeamProjectPicker class that the product team kindly provided to show the built in dialog to select a Team Project Collection and a a Team Project.

    ![SNAGHTML11ab84c](images/Start-creating-work-items-at-40000_119CF-SNAGHTML11ab84c-3-3.png)
    { .post-img }

    **Figure: Getting the user to select a Team Project could not be easyer**

    This dialog has some different modes depending on what you are trying to achieve. You can set it to select either a Team Project Collection, one Team Project or many Team Projects.

    ```
    Public Enum TeamProjectPickerMode
        ' Fields
        MultiProject = 2
        NoProject = 0
        SingleProject = 1
    End Enum
    ```

    Now that we have access to a WorkItemStore and know what Team Project to use to create the work items, we can start creating work items.

    ```
    Dim wi As WorkItem = project.WorkItemTypes(0).NewWorkItem
    wi.Title = String.Format("Seedgen {0} : Created by Hinshlabs TFS Work Item Seed Generator", i)
    wi.Description = String.Format("As a TFS Admin I want to have all new work items start at a number {0} larger than the current number", _WorkItemCount)
    wi.Save()
    ```

    This may fail as all I am doing is picking the first work item type that is available. A better solution would be to select the first work item type in the “Requirement” category, or to give the user a list to select whatever he wants. This is just a throw away, one time bit if code, so as long as it works…

    Just in case any of these work items are left at the end I have added a default Title and Description.

    Once we have created this work item, we need to immediately delete it. Now, this is something that can’t be done using the UI, but can be done in code.

    ```
    Dim WioError As IEnumerable(Of WorkItemOperationError)
    Dim ids As Integer() = {Convert.ToInt32(wi.Id)}
    WioError = _Store.DestroyWorkItems(ids)
    ```

    A tiny bit of code that solves a big problem. In versions before TFS 2010 this could only be done using the Power Tool, but the product team have seen the light and added it into the core product. Remember that Deleting a Work Item CAN’T be undone and once it is gone, it is gone.

    I have wrapped all of this into a ViewModel that can be used in an MVVM WPF application.

    ```
    Imports Microsoft.TeamFoundation.Client
    Imports Microsoft.TeamFoundation.WorkItemTracking.Client
    Imports Microsoft.TeamFoundation.Server
    Imports GalaSoft.MvvmLight.Command
    Imports GalaSoft.MvvmLight.Threading
    Imports System.Windows.Threading
    Imports System.Threading

    ''' <summary>
    ''' Seeding View Model using the MVVM Light framework
    ''' </summary>
    ''' <remarks></remarks>
    Public Class WorkItemSeedViewModel
        Inherits GalaSoft.MvvmLight.ViewModelBase

        Private _SelectServerCommand As RelayCommand
        Private _SeedWorkItemIdCommand As RelayCommand
        Private _Store As WorkItemStore
        Private _ProjectInfo As ProjectInfo
        Private _WorkItemCount As Integer = 0
        Private _IsProcessing As Boolean = False
        Private _LastWorkItemId As Integer = 0
        Private _CurrentlyProcessingItem As Integer = 0

        Public ReadOnly Property SelectTeamProjectCommand As RelayCommand
            Get
                Return _SelectServerCommand
            End Get
        End Property

        Public ReadOnly Property SeedWorkItemIdCommand As RelayCommand
            Get
                Return _SeedWorkItemIdCommand
            End Get
        End Property

        Public Property IsProcessing As Boolean
            Get
                Return _IsProcessing
            End Get
            Set(ByVal value As Boolean)
                If Not value.Equals(_IsProcessing) Then
                    Dim oldValue As Integer = _IsProcessing
                    _IsProcessing = value
                    MyBase.VerifyPropertyName("IsProcessing")
                    MyBase.RaisePropertyChanged(Of Boolean)("IsProcessing", oldValue, value, True)
                End If
            End Set
        End Property

        Public Property WorkItemCount As Integer
            Get
                Return _WorkItemCount
            End Get
            Set(ByVal value As Integer)
                If Not value.Equals(_WorkItemCount) Then
                    Dim oldValue As Integer = _WorkItemCount
                    _WorkItemCount = value
                    MyBase.VerifyPropertyName("WorkItemCount")
                    MyBase.RaisePropertyChanged(Of Integer)("WorkItemCount", oldValue, value, True)
                End If
            End Set
        End Property

        Public Property LastWorkItemId As Integer
            Get
                Return _LastWorkItemId
            End Get
            Set(ByVal value As Integer)
                If Not value.Equals(_LastWorkItemId) Then
                    Dim oldValue As Integer = _LastWorkItemId
                    _LastWorkItemId = value
                    MyBase.VerifyPropertyName("LastWorkItemId")
                    MyBase.RaisePropertyChanged(Of Integer)("LastWorkItemId", oldValue, value, True)
                End If
            End Set
        End Property

        Public Property CurrentlyProcessingItem As Integer
            Get
                Return _CurrentlyProcessingItem
            End Get
            Set(ByVal value As Integer)
                If Not value.Equals(_CurrentlyProcessingItem) Then
                    Dim oldValue As Integer = _CurrentlyProcessingItem
                    _CurrentlyProcessingItem = value
                    MyBase.VerifyPropertyName("CurrentlyProcessingItem")
                    MyBase.RaisePropertyChanged(Of Integer)("CurrentlyProcessingItem", oldValue, value, True)
                End If
            End Set
        End Property

        Public Sub New()
            ' Create and wire up the Commands that I will be using
            _SelectServerCommand = New GalaSoft.MvvmLight.Command.RelayCommand(AddressOf OnSelectServerCommandExecute)
            _SeedWorkItemIdCommand = New GalaSoft.MvvmLight.Command.RelayCommand(AddressOf OnSeedWorkItemIdCommandExecute, Function() Not _ProjectInfo Is Nothing And Not IsProcessing)
        End Sub

        ''' <summary>
        ''' Calls the TFS 2010 API Dialog for selecting a Single Team Project and saves the WorkItemStore and ProjectInfo instances
        ''' </summary>
        ''' <remarks>Called by the Command object</remarks>
        Private Sub OnSelectServerCommandExecute()
            Dim projectPicker As New TeamProjectPicker(TeamProjectPickerMode.SingleProject, False)
            projectPicker.ShowDialog()

            If Not projectPicker.SelectedTeamProjectCollection Is Nothing Then

                projectPicker.SelectedTeamProjectCollection.EnsureAuthenticated()

                _Store = projectPicker.SelectedTeamProjectCollection.GetService(Of WorkItemStore)()
                _ProjectInfo = projectPicker.SelectedProjects(0)

            End If

            _SeedWorkItemIdCommand.RaiseCanExecuteChanged()

        End Sub

        ''' <summary>
        ''' Starts the Work Item generating method on a thread
        ''' </summary>
        ''' <remarks></remarks>
        Private Sub OnSeedWorkItemIdCommandExecute()
            Dim thread As New System.Threading.Thread(New ParameterizedThreadStart(Sub() ProcessWorkItems(_WorkItemCount)))
            thread.Start()
        End Sub

        ''' <summary>
        ''' Generates and then deletes each work item for the count specified by the value of Count
        ''' </summary>
        ''' <param name="count"></param>
        ''' <remarks></remarks>
        Private Sub ProcessWorkItems(ByVal count As Integer)
            ' These calls martial the action code back onto the UI thread
            DispatcherHelper.CheckBeginInvokeOnUI(New Action(Sub() IsProcessing = True))

            Dim project As Project = _Store.Projects(_ProjectInfo.Name)

            For i As Integer = 0 To count - 1
                DispatcherHelper.CheckBeginInvokeOnUI(New Action(Sub() CurrentlyProcessingItem = i))

                Dim wi As WorkItem = project.WorkItemTypes(0).NewWorkItem

                wi.Title = String.Format("Seedgen {0} : Created by Hinshlabs TFS Work Item Seed Generator", i)
                wi.Description = String.Format("As a TFS Admin I want to have all new work items start at a number {0} larger than the current number", _WorkItemCount)
                wi.Save()

                DispatcherHelper.CheckBeginInvokeOnUI(New Action(Sub() LastWorkItemId = wi.Id))


                Dim WioError As IEnumerable(Of WorkItemOperationError)

                Dim ids As Integer() = {Convert.ToInt32(wi.Id)}

                WioError = _Store.DestroyWorkItems(ids)
                If WioError.Count > 0 Then
                    ' Currently eats and failures to delete. Not good, but easy to fix
                    'MessageBox.Show(String.Format("Failed to delete Work Item {0}", wi.Id))
                    Exit For
                Else
                    DispatcherHelper.CheckBeginInvokeOnUI(New Action(Sub() WorkItemCount = WorkItemCount - 1))

                End If
            Next
            DispatcherHelper.CheckBeginInvokeOnUI(New Action(Sub() IsProcessing = False))
        End Sub


    End Class
    ```

    I have tried to comment at least some of this, but again this is proof-of-concept code with no warranty and could do with lots of improving.

    This is a supported method of incrementing the Work Item ID to any number you like. It will take a while to get to 40,000 but I have added a “Time taken” calculation and it looks like you can increment the top ID by around 600 every minute.

    ![SNAGHTML14175c1](images/Start-creating-work-items-at-40000_119CF-SNAGHTML14175c1-4-4.png)
    { .post-img }

    **Figure: As you can see, I am an artist**

    I have been running this with a local TFS running on my Windows 7 laptop with SQL Express so actual times may not be as advertised.

    How stable is this? Well, to be honest, not very. I threw this together quickly, but with all my debugging, killing and general mashing it only left 1 erroneous work item that will need to be deleted manually.

    ![image](images/Start-creating-work-items-at-40000_119CF-image_-2-2.png)
    { .post-img }

    **Figure: One lonely work item that did not get destroyed**

    To delete this errant work item you can:

    - [Deleting Work Items in TFS – a UI](http://devmatter.blogspot.com/2009/04/deleting-work-items-in-tfs-ui.html)

    - [TFS API Part 21: Delete Work Item using WorkItemStore](http://blogs.microsoft.co.il/blogs/shair/archive/2010/02/19/tfs-api-part-21-delete-work-item-using-workitemstore-demo-application.aspx)

    ## Conclusion

    You can get your work item ID from 0 to 40000 in around 40 minutes with this app which solves the immediate problem.

    [![image](images/Start-creating-work-items-at-40000_119CF-image_-2-2.png)](http://hinshlabs.codeplex.com/releases/view/54305 "TFS Work item Seed Generator Download")
    { .post-img }

    Technorati Tags: [TFS](http://technorati.com/tags/TFS),[TFS 2010](http://technorati.com/tags/TFS+2010),[API](http://technorati.com/tags/API)
  FilePath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-10-20-tfs-2010-work-item-seed-tfs-work-item-system-id-at-a-predefined-number\index.md
  FolderPath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-10-20-tfs-2010-work-item-seed-tfs-work-item-system-id-at-a-predefined-number
- FrontMatter:
    title: TFS vs. Subversion fact check
    description: Explore the key differences between TFS and Subversion in this insightful fact check. Discover solutions to common SVN user challenges with TFS 2010.
    ResourceId: Tpk1xLI-Ygd
    ResourceType: blog
    ResourceContentOrigin: Human
    ResourceImport: true
    ResourceImportId: 22
    ResourceImportSource: Wordpress
    ResourceImportOriginalSource: GeeksWithBlogs
    date: 2010-10-14
    weight: 840
    creator: Martin Hinshelwood
    layout: blog
    resourceTypes: blog
    slug: tfs-vs-subversion-fact-check
    aliases:
    - /resources/Tpk1xLI-Ygd
    - /resources/blog/tfs-vs.-subversion-fact-check
    aliasesArchive:
    - /blog/tfs-vs-subversion-fact-check
    - /tfs-vs-subversion-fact-check
    - /tfs-vs--subversion-fact-check
    - /blog/tfs-vs--subversion-fact-check
    - /resources/blog/tfs-vs-subversion-fact-check
    - /resources/blog/tfs-vs.-subversion-fact-check
    tags: []
    categories:
    - Uncategorized
  BodyContent: |
    ![subversion](images/32ab51073e36_8B5F-subversion_-6-6.png)I spotted a good comparison of [TFS vs. Subversion](http://dotnet.dzone.com/news/tfs-vs-subversion) by [Jarosław Dobrzański](http://dobrzanski.net) on DZone (you can also read the [original post](http://dobrzanski.net/2010/04/17/tfs-subversion/)) but I feel that a couple of the points were either out of date, or borne out of a lack of knowledge of the product, or even more likely I just missed the point. This article was taken from the perspective of an SVN user who has moved to TFS, and I am not in that category.
    { .post-img }

    - **Updated 15th October 2010**
      - [Adam Cogan](http://www.adamcogan.com/) provided some very useful fixes to make this a little more readable.
      - [Sven Hubert](http://blogs.msdn.com/b/willy-peter_schaub/archive/2010/07/20/introducing-the-visual-studio-alm-rangers-sven-hubert.aspx) wanted some advantages as well, but with this post I wanted to specifically target the issues and problems that an SVN user had encountered which is why I only targeted weaknesses.
      - [Bahadir ARSLAN](http://www.maxiasp.net/) wanted to call out the shell integration provided by the Power Tools.
    - **Updated 18th October 2010**
      - [Jeroen Haegebaert](http://jeroen.haegebaert.com/) provided some useful comments on Checking out which I have answered inline.
    - **Updated 19th October 2010**
      - [Ben Day](http://blog.benday.com/) provided some useful updates
      - Simon Bromberger made some excellent points about rollback being a little hidden, but any TFS Admin with his salt can use a command line

    ---

    I want to take a look at each of the “Weak points” mentioned and see if there is anything in them. There are numerous things that TFS does that are not even possible in SVN as SVN is just a source control system and not a full ALM platform. The goal of this post is specifically to dispel myths and target issues that users have moving from SVN to TFS.

    ## #1 – Branch confusion

    > \>>Subversion promotes a very clear view (similar to CVS) on the files tree on the server: trunk, branches, tags. In TFS everything is in one bag – branches are simple directories among the other content of ‘the trunk’. It still looks messy to me.  
    > \-[Jarosław Dobrzański](http://dobrzanski.net)

    Fixed in TFS 2010: This was the case in versions prior to TFS 2010, but with the new branching features it is easy to both see where your branches are and what change sets have been merged to which branches.

    ![image](images/32ab51073e36_8B5F-image_-4-4.png)  
    { .post-img }
    **Figure: Branches are easy to identify**

    If you have your branches setup as just directories in the trunk then it is probably the case that your company is just doing it wrong. You should have a standard layout as I have shown above, and indeed this is the format that is recommended in the [TFS Branching Guidance](http://tfsbranchingguideiii.codeplex.com/) and I would recommend that you read it before you just dive into branching.

    ## #2 – Checking out

    > \>>If you want to edit a file you need to check it out for edit so that it’s listed in _Pending Changes_ window after it’s changed. If you edit a file directly in Visual Studio it checks it out for edit automatically; however, if you make the changes outside Visual Studio (you need to change Read-only property prior to that) and forget to check it out for edit in Visual Studio the file is not listed in _Pending Changes_ window. Consequently, the risk of not including that item while making a check-in increases (I personally experienced that a couple of times….)  
    > \-[Jarosław Dobrzański](http://dobrzanski.net)

    Having never used SVN and having come from a Visual SourceSafe background I have not had this problem, but I have heard this from many other SVN users and I completely agree and understand the perspective. Although I find it difficult to understand how you know which files you have checked out when you don’t have this, it looks like all the source control products are going in this distributed direction and I will just have to go with the flow.

    > But if he will setup TFS Power Tools, he has doesn't need to use Visual Studio. At Window Explorer, he can see which files are binded to a source control or he can check-out or check-in. Just install Power Tools..  
    > \-Bahadir ARSLAN

    > \>>Subversion simply gives you an easy way to determine which files have \*changed\* against their repository version. This is MUCH more useful than the VSS/TFS counterpart, which only gives a view of "which files I have touched since my last checkin".  
    > \- [Jeroen Haegebaert](http://jeroen.haegebaert.com/)

    This does not help me if I did not check out the file and have no access to the disk it was checked out on:

    - As the TFS admin or Project Manager I want to be able to see which files you have been working on so I can make sure I understand the depth and complexity of something I thought was a simple change.
    - As a developer I want to check who else has a file checked out so I can coordinate me efforts with them. I don’t want to make sweeping refactor changes if you are also making a bunch of changes that will be irrelevant once I check in.

    > \>>Qny edited file stay checked out, even if you (manually) revert your changes (think CTRL-Z). So in the end the "checked out files" list is often not very useful anymore.  
    > \- [Jeroen Haegebaert](http://jeroen.haegebaert.com/)

    This is really just a difference in the products. Just like VSS users needed to get used to the lack of Sharing and the differences in labelling, there will be habits that work weak for SVN, but not so much for TFS.

    With TFS you should be using the tools provided so this never happens. If you call “Undo Checkout” it will automatically revert to the server version. You never know the server version may have changed since you last checked out

    ![image](images/32ab51073e36_8B5F-image_-3-3.png)
    { .post-img }

    **Figure: Using Windows Explorer you never get your checkout’s out of sync**

    ## #3 – Windows only

    > \>>It’s dedicated to Windows platforms only, but this is hardly a problem for a team who uses Visual Studio.  
    > \-[Jarosław Dobrzański](http://dobrzanski.net)

    ![image](images/32ab51073e36_8B5F-image_-2-2.png)Fixed in TFS 2010: This one is just plain wrong. I don’t blame the author, I would be much more inclined to blame the marketing team a Microsoft for not making this as big a deal as it should be. Can you say “[Team Explorer Everywhere](http://www.microsoft.com/downloads/en/details.aspx?FamilyID=af1f5168-c0f7-47c6-be7a-2a83a6c02e57&displaylang=en)”.
    { .post-img }

    This was originally a third party product called Teamprise that integrated Eclipse into TFS, but with its purchase by Microsoft and the launch of TFS 2010 they have beefed it up so that it supports:

    - Apple Mac OS X
    - HP-UX
    - IBM AIX
    - Linux
    - Solaris
    - Unix
    - Windows

    On top of that it also supports :

    - Eclipse
    - IBM Rational Application Developer
    - Adobe Flex Builder
    - Aptana Studio
    - others

    This is a massive move by Microsoft to increase the reach of TFS to other platforms, and with the TFS application model being completely service based more diverse support will be coming in the future.

    ## #4 – Reverting changes

    > \>>Weak support for reverting changes  
    > \-[Jarosław Dobrzański](http://dobrzanski.net)

    I don’t know if weak is the correct word, but yes it is difficult. It was designed to be difficult as you don’t want your developers thinking that it is OK to check-in crap because they can always revert it. I don’t know about you, but I do not want to ever have to revert a change. If I do, it shows a failing in a quality gate somewhere that needs fixed.

    - [Rollback Command (Team Foundation Version Control)](http://msdn.microsoft.com/en-us/library/dd380776.aspx) (I need to rollback and entire change set)
    - [How to revert changes checked into TFS Version Control](http://msmvps.com/blogs/vstsblog/archive/2009/01/10/how-to-revert-changes-checked-into-tfs-version-control.aspx "http://msmvps.com/blogs/vstsblog/archive/2009/01/10/how-to-revert-changes-checked-into-tfs-version-control.aspx") (I just need to rollback one file)

    > Seems a red-herring because it does already work, but developers don’t need to use this feature as they use history and annotate to see what happened only.  
    > \-Adam Cogan, Chief Architect at SSW

    I like this being hard…

    ## #5 – Cost

    > \>>It’s not a free tool

    ![msdn_com](images/32ab51073e36_8B5F-msdn_com_-5-5.png)This is really only partly true. Anyone with a MSDN subscription has a license to both run a TFS server and to connect to any TFS instance, couple that with SQL Server Standard being included in the definition of a TFS License then you can pretty much run TFS for free. If you have some business users that do not have MSDN, then yes, you will need to buy some retail CAL’s, but with the retail TFS 2010 at £500 that includes 5 users without CAL’s price is not an excuse not to use TFS.  
    { .post-img }

    ![CP_banner_111x111_gen](images/32ab51073e36_8B5F-CP_banner_111x111_gen_-1-1.jpg)If you are an open source developer with no MSDN subscription then you can use [Codeplex](http://www.codeplex.com/) which is completely free from end to end.  
    { .post-img }

    One thing I always think about for cost is the on-going support cost. With SVN you are at the mercy of forums and community support that, while often good, is not always timely. TFS is a fully supported retail product, and with the addition of Work Items, Build and Lab all from the same product you don't even need to think about nor support the communication between them.

    ## #6 – Difficult to install

    > \>>Complex installation  
    > \-[Jarosław Dobrzański](http://dobrzanski.net)

    Fixed in TFS 2010: This was VERY true in TFS 2005 and TFS 2008, but in TFS 2010 the installation is so easy my Dad could do it. I blogged about this during the beta and managed to install and configure TFS 2010 in under 30 minutes.

    - [Installing Visual Studio 2010 Team Foundation Server on Windows Vista in 3 minutes](http://blog.hinshelwood.com/archive/2009/10/20/installing-visual-studio-2010-team-foundation-server-on-windows-vista.aspx)
    - [Configuring Visual Studio 2010 Team Foundation Server on Vista in 12 minutes](http://geekswithblogs.net/hinshelm/archive/2009/10/20/configuring-visual-studio-2010-team-foundation-server-on-vista-in.aspx)

    ## #7 – Switching between branches

    > \>>Lack of switching feature. With Subversion I could easily switch between trunk and branches / tags, still using the same source directory. The action was straightforward and quick. On TFS you need to make a full check out of the other branch, which is longer and requires additional actions (e.g. IIS settings for new virtual directories)  
    > \-[Jarosław Dobrzański](http://dobrzanski.net)

    I don’t really see this as a product issue but a source control issue. And since you would always use source control and have this problem the point is moot.

    However I do see that this is kind of true as TFS enforces folder/source parity. So I can agree with this, but I also agree with the way that TFS does things. I do not want developers to be under any ambiguity of which branch they are working with, nor do I want them to be able to mistakenly check into the wrong branch.

    I always run each branch separately on my local development computer and the minor setup of IIS or other stuff is really just that, minor.

    ## #8 – Reverting changes again

    > \>>Poor support for revert (roll back). It’s not that easy to revert a check in (especially if it includes lots of files). [Official roll back instruction](http://msdn.microsoft.com/en-us/library/ms194956%28VS.80%29.aspx) sounds like a workaround…  
    > \-[Jarosław Dobrzański](http://dobrzanski.net)

    Duplicate? Having covered this already I don’t know why it is in here twice, but never mind. The official link above while for VS 2005 is a good solution for rolling back a single file. Remember that there is high fidelity between files checked in at the same time and a check-in becomes an atomic unit. If you want to rollback a single file, then this is the easiest and least painful way. There are methods for rolling back whole change sets, but again these are things you do not really want your developers doing.

    I should also note that in my 3 years as an ALM MVP and 9 years using source control I have only had to do a rollback on one occasion. It should be an edge case with edge case support so developers learn to do things correctly in the first place.

    > \>>I'm not sure that it is reasonable to say that rolling back change sets in TFS should be a pain because your developers are doing it wrong. Unfortunately this has been a requirement several times for at crucial project points.  
    > \-Simon B

    When I said difficult I was being a little facetious :). I do like that it is not an obvious feature, and in fact you need elevated permissions to run the tf.exe rollback command, not just any developer has the power.

    > \>>I would argue that it is clearly a missing feature and that making the process byzantine in its complexity is not helpful and if it is intentional, the intention must have been to cause pain.
    >
    > When we are dealing with complex builds against non-MS data sources and the only way to verify fully that builds are working is to check in code. With the best will in the world inconsistencies occur between developer and build machines, between development and staging/live database environments. You might say that in TFS 2010 we can simply use gated check-ins. However this is not quite the "magic bullet" it appears. As far as I understand this requires the server to carry out on-the-fly automated merges which even if you've done a forward integration beforehand may present you with merge issues  
    > \-Simon B

    Regardless of the reason I do not want developers to check-in anything that has not passed a build and test. I agree that Gated Check-in is not a silver bullet (nothing is) but with the right amount of effort in the build and test stages there is nothing you can’t do. You are right that it is possible for a gated Check-in to fail because you were piped-at-the-post by another developer, but is that any different than multiple feature teams merging into the same Main branch. This is just the cost of doing business for developers and I would posit that it would be worse if the first developer checked-in something that broke the build and prevented the other developers from checking in. I am not saying that this could never happen, but minimising this is key.

    With TFS 2010 if you really want to kick that nut in the head then enable Gated Check-in’s on all of your branches. Then developers can’t check-in until the build with all of the tests pass.

    > \>>Developer do make mistakes, please let TFS admins undo them with the minimum of pain.  
    > \-Simon B

    We can all make mistakes and it could not be easier for a TFS Admin to undo a developer change with the power of TF.exe

    ## Conclusion

    I really liked this post by [Jarosław Dobrzański](http://dobrzanski.net), and I hope my response clears up some of the misconceptions surrounding TFS. It is always good when people that have had to move from SVN to TFS describe the differences once they have worked with it for a while.

    Technorati Tags: [TFS](http://technorati.com/tags/TFS),[TFS 2010](http://technorati.com/tags/TFS+2010),[Version Control](http://technorati.com/tags/Version+Control)
  FilePath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-10-14-tfs-vs-subversion-fact-check\index.md
  FolderPath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-10-14-tfs-vs-subversion-fact-check
- FrontMatter:
    title: Syncing many Dynamics AX instances to a single TFS 2010 Team Project
    description: Discover how to streamline multiple Dynamics AX instances into a single TFS 2010 Team Project, simplifying management and enhancing collaboration.
    ResourceId: cYRmqyXmGQf
    ResourceType: blog
    ResourceContentOrigin: Human
    ResourceImport: true
    ResourceImportId: 23
    ResourceImportSource: Wordpress
    ResourceImportOriginalSource: GeeksWithBlogs
    date: 2010-10-08
    weight: 665
    creator: Martin Hinshelwood
    layout: blog
    resourceTypes: blog
    slug: syncing-many-dynamics-ax-instances-to-a-single-tfs-2010-team-project
    aliases:
    - /resources/cYRmqyXmGQf
    aliasesArchive:
    - /blog/syncing-many-dynamics-ax-instances-to-a-single-tfs-2010-team-project
    - /syncing-many-dynamics-ax-instances-to-a-single-tfs-2010-team-project
    - /resources/blog/syncing-many-dynamics-ax-instances-to-a-single-tfs-2010-team-project
    tags:
    - Software Development
    - Install and Configuration
    - System Configuration
    - Modern Source Control
    - Pragmatic Thinking
    categories:
    - Uncategorized
  BodyContent: |
    ![](images/c51bf204-d93f-4485-9873-88fd0e8f4659.png)I have been working with a customer who had been frustrated with the need to have new Team Project for every instance of AX that they use. In fact with 3 instances per customer and lots of customers it can very quickly get complicated and I wanted to see if there was a solution for them.  
    { .post-img }

    ---

    There is a White Paper for configuring AX 2009 to connect to TFS 2008 which will allow you to get all of the basics right. I suggest you follow that first.

    [Microsoft Dynamics AX 2009 White Paper: Team Foundation Server Version Control Setup](http://www.microsoft.com/downloads/en/details.aspx?FamilyId=EFC24EDC-522E-40AA-8F36-6367ED7AB92D&displaylang=en)

    AX 2009 uses the Team Explorer 2008 API to connect to TFS. You can’t just get it to use the 2010 API, but there is a big push to make this sort of interaction version independent in future versions. However for now, you need to use Team Explorer 2008.

    On your AX server you will need to install the following components:

    1. [Visual Studio Team System 2008 Team Explorer](http://www.microsoft.com/downloads/en/details.aspx?FamilyID=0ed12659-3d41-4420-bbb0-a46e51bfca86&displaylang=en)
    2. [Microsoft Visual Studio 2008 Service Pack 1](http://www.microsoft.com/downloads/en/details.aspx?FamilyId=FBEE1648-7106-44A7-9649-6D9F6D58056E&displaylang=en)
    3. [Visual Studio Team System 2008 Service Pack 1 Forward Compatibility Update for Team Foundation Server 2010](http://www.microsoft.com/downloads/en/details.aspx?FamilyID=cf13ea45-d17b-4edc-8e6c-6c5b208ec54d&displaylang=en)

    Once you have these products installed you can quite happily store the source code for AX Dynamics in TFS 2010 by linking between an AX instance and a Team Project.

    ![image](images/849aa7d71ae4_C9AF-image_-6-6.png)  
    { .post-img }
    **Figure: Select the TFS server and the local workspace path that is bound to you TFS Team Project**

    ![image](images/849aa7d71ae4_C9AF-image_-3-3.png)  
    { .post-img }
    **Figure: Set the Server name and the Team Project name**

    This gets you started, but if you are a consultancy that has many clients and you have the usual Development, Testing and Production instances of AX for each client you can see how this could quickly become difficult to manage on TFS. If you had 10 clients this would leave you with 30 team projects all linked to different instances of TFS with separate work item queues.

    The first things you would need to have done is have a good naming strategy for your projects as you CAN NOT rename a team project. You can see how this could very quickly get messy…

    One option to mitigate the work item problem would be to have a single team project for the work items for all of your project. You can categorise them using the “Area” tree and only have AX store the source in the individual Team Projects

    ![image](images/849aa7d71ae4_C9AF-image_-5-5.png)  
    { .post-img }
    **Figure: Using Area to categorise your work items in a single Team Project**

    This works pretty well, but still leaves you with 30 odd Team Projects to manage including your single work item repository project.

    ## Solution: Have all your AX code under a single Team Project

    There are actually a few ways to configure this, including the way described in the white paper:

    1. One Team Project per AX instance (As per the white paper)
    2. One Team Project per Customer
    3. One Team Project.

    Options #2 and #3 are setup in the same way, so I am only going to discuss #3 as it conforms to me previous guidance on [when should I use Areas in TFS instead of Team Projects in Team Foundation Server 2010](http://blog.hinshelwood.com/hinshelm/archive/2010/03/09/when-should-i-use-areas-in-tfs-instead-of-team.aspx).

    ![image](images/849aa7d71ae4_C9AF-image_-1-1.png)  
    { .post-img }
    **Figure: Ideally map to sub folders**

    Laying out your source in this way allows you to have a single Team Project to manage while keeping each of your Products/Customers separate. it also means that you can easily merge features from a Feature branch into Main and from there create new Release branches that go to the customer.

    ![image](images/849aa7d71ae4_C9AF-image_-4-4.png)  
    { .post-img }
    **Figure: Main Branch hierarchy should be replicated for each customer**

    Tip: If you are only ever going to have one Feature branch that you continue to work in then you could call it “Current” instead of a feature name.

    Lets go back to one of the setting windows for AX 2009.

    ![image](images/849aa7d71ae4_C9AF-image_-2-2.png)  
    { .post-img }
    **Figure: The Repository folder links to a TFS Mapped folder locally**

    AX saves a copy of the customisations in a fixed structure to the path specified in the “Repository folder” textbox. This folder is mapped to TFS and it syncs with that mapping.

    ![SNAGHTML990c33](images/849aa7d71ae4_C9AF-SNAGHTML990c33-7-7.png)  
    { .post-img }
    **Figure: Cheating AX into mapping to a specific folder**

    In this case if you change the “Repository folder” value to be “c:WorkspacesNorthwindProduct1Feature1” then AX will sync with the correct folder and you have no need to have separate team projects for each instance.

    ## Advantages

    In addition to those listed in [when should I use Areas in TFS instead of Team Projects in Team Foundation Server 2010](http://blog.hinshelwood.com/hinshelm/archive/2010/03/09/when-should-i-use-areas-in-tfs-instead-of-team.aspx).

    - **Ease of branching and merging –** Branching and merging can be confusing at the best of times, but without a consistent folder layout it can quickly become a confusing disaster

    ## Disadvantages

    In addition to those listed in [when should I use Areas in TFS instead of Team Projects in Team Foundation Server 2010](http://blog.hinshelwood.com/hinshelm/archive/2010/03/09/when-should-i-use-areas-in-tfs-instead-of-team.aspx).

    - **You need to configure Workspaces carefully –** Although this is not difficult it does add a level of complexity that does not exist in option #1.

    ## Conclusion

    The advantages of this approach far out way the slight added complexity in setup and will allow a company to manage all of their source under one roof. They can also easily move work items from one project to another and make it easy for developers to identify where they are working and what effect it will have without them having to refer to documentation.

    Ultimately keeping everything under a single format across the company regardless of team or topic allows everyone to understand the source and the impact of changes a little better. And that is never a bad thing…

    Technorati Tags: [TFS](http://technorati.com/tags/TFS),[AX](http://technorati.com/tags/AX),[AX2009](http://technorati.com/tags/AX2009),[TFS2010](http://technorati.com/tags/TFS2010)
  FilePath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-10-08-syncing-many-dynamics-ax-instances-to-a-single-tfs-2010-team-project\index.md
  FolderPath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-10-08-syncing-many-dynamics-ax-instances-to-a-single-tfs-2010-team-project
- FrontMatter:
    title: Database corruption in TFS 2005 causes TF246017 during upgrade
    description: Discover how to resolve TF246017 during TFS 2005 to 2010 upgrades. Learn about database corruption fixes to ensure a smooth transition. Read more!
    ResourceId: YVhqKOWo2QQ
    ResourceType: blog
    ResourceContentOrigin: Human
    ResourceImport: true
    ResourceImportId: 24
    ResourceImportSource: Wordpress
    ResourceImportOriginalSource: GeeksWithBlogs
    date: 2010-09-29
    weight: 1000
    creator: Martin Hinshelwood
    layout: blog
    resourceTypes: blog
    slug: database-corruption-in-tfs-2005-causes-tf246017-during-upgrade
    aliases:
    - /resources/YVhqKOWo2QQ
    aliasesArchive:
    - /blog/database-corruption-in-tfs-2005-causes-tf246017-during-upgrade
    - /database-corruption-in-tfs-2005-causes-tf246017-during-upgrade
    - /resources/blog/database-corruption-in-tfs-2005-causes-tf246017-during-upgrade
    tags:
    - Troubleshooting
    - Software Development
    preview: metro-visual-studio-2005-128-link-1-1.png
    categories:
    - Uncategorized
  BodyContent: |
    ![ErrorOcurred](images/UpgradingTFS2005toTFS2010_10E2E-ErrorOcurred_-2-2.jpg)Today I was on-site to do a test upgrade of TFS 2005 to TFS 2010 and we encountered an error that would have caused major delays while we investigated and perhaps requiring additional help from Microsoft.
    { .post-img }

    ---

    Everything progressed smoothly until we tried to run the actual upgrade command and I encountered a message I had not seen before.

    ```
    Warning Message:
    [2010-09-29 10:05:26Z] Servicing step Upgrade Version Control database to V2 failed. (ServicingOperation: UpgradePreTfs2010Databases; Step group: AttachPreTFS2010Databases.VersionControlWhidbeyToOrcas)
    ```

    This perplexing message talks about not being able to connect to the SQL Server database. But were we not just doing that for steps 1 to 4.

    ![image](images/UpgradingTFS2005toTFS2010_10E2E-image_-3-3.png)
    { .post-img }

    **Figure: At least it got to step 4**

    At the beginning of the command you can see the location of the log file that will be used during the running of the command. Looking in that log file we see the actual error that occurred.

    ```
    [Info   @10:29:30.956] [2010-09-29 10:29:27Z][Error] upd_ToV2.sql Block #22 Error: TF246017: Team Foundation Server could not connect to the database. Verify that the server that is hosting the database is operational, and that network problems are not blocking communication with the server. (4 of 208)
    [Info   @10:29:30.956] [2010-09-29 10:29:27Z][Informational] Microsoft.TeamFoundation.Framework.Server.CollectionServicingException: upd_ToV2.sql Block #22 Error: TF246017: Team Foundation Server could not connect to the database. Verify that the server that is hosting the database is operational, and that network problems are not blocking communication with the server. ---> Microsoft.TeamFoundation.Framework.Server.DatabaseRuntimeException: TF246017: Team Foundation Server could not connect to the database. Verify that the server that is hosting the database is operational, and that network problems are not blocking communication with the server. ---> System.Data.SqlClient.SqlException: Warning: Fatal error 824 occurred at Sep 29 2010 11:29AM. Note the error and time, and contact your system administrator.
    Could not drop constraint. See previous errors.
    Dropping PK_tbl_LocalVersion
       at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection)
       at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning()
       at System.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
       at System.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean async)
       at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(DbAsyncResult result, String methodName, Boolean sendToPipe)
       at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
       at Microsoft.TeamFoundation.Framework.Server.TeamFoundationSqlResourceComponent.Execute(ExecuteType executeType, CommandBehavior behavior)
       --- End of inner exception stack trace ---
       at Microsoft.TeamFoundation.Framework.Server.TeamFoundationSqlResourceComponent.TranslateException(Int32 errorNumber, SqlException sqlException, SqlError sqlError)
       at Microsoft.TeamFoundation.Framework.Server.TeamFoundationSqlResourceComponent.TranslateException(SqlException sqlException)
       at Microsoft.TeamFoundation.Framework.Server.TeamFoundationSqlResourceComponent.MapException(SqlException ex, QueryExecutionState queryState)
       at Microsoft.TeamFoundation.Framework.Server.TeamFoundationSqlResourceComponent.HandleException(SqlException ex)
       at Microsoft.TeamFoundation.Framework.Server.TeamFoundationSqlResourceComponent.Execute(ExecuteType executeType, CommandBehavior behavior)
       at Microsoft.TeamFoundation.Framework.Server.TeamFoundationSqlResourceComponent.ExecuteNonQuery(Boolean bindReturnValue)
       at Microsoft.TeamFoundation.Framework.Server.SqlScriptResourceComponent.ExecuteSql(String sqlScriptResourceName, String[] lines, SqlParameter[] sqlParameters)
       --- End of inner exception stack trace ---
       at Microsoft.TeamFoundation.Framework.Server.SqlScriptResourceComponent.ExecuteSql(String sqlScriptResourceName, String[] lines, SqlParameter[] sqlParameters)
       at Microsoft.TeamFoundation.Framework.Server.SqlScriptResourceComponent.ExecuteSql(Stream sqlScriptResource, String sqlScriptResourceName, SqlParameter[] sqlParameters, Boolean retryIfLostConnection)
       at Microsoft.TeamFoundation.Server.Servicing.TFCollection.FrameworkStepPerformer.ExecuteSql(String stepData, ServicingContext servicingContext, Boolean validateOnly)
       at Microsoft.TeamFoundation.Framework.Server.TeamFoundationStepPerformerBase.Microsoft.TeamFoundation.Framework.Server.IStepPerformer.PerformStep(String servicingOperation, String stepType, String stepData, ServicingContext servicingContext)
       at Microsoft.TeamFoundation.Framework.Server.ServicingStepDriver.PerformServicingStep(ServicingStep step, ServicingContext servicingContext, ServicingStepGroup group, ServicingOperation servicingOperation, Boolean validateOnly) (4 of 208)
    ```

    If you Google TF246017 you will find a bunch of knowledge base articles and forum posts, most of which don’t really relate to the problem that we have been experiencing. The only thing that stood out was on of the additional questions to a post that the poster answered for themselves. They found that they had a corrupted database and much like running chkdisk on your PC when you have a corrupted disk there is such a command on SQL for bad databases.

    ```
    dbcc checkdb
    ```

    If you run this command in the context of a database it will give you a report and sure enough there were corruptions in the page file of the database.

    ```
    dbcc checkdb ('TfsVersionControl',repair)
    ```

    Having identified the problem running the command again with the “repair” will fix the issue. With the upgrade successful we are good to go for a production upgrade on Monday.

    Technorati Tags: [TFS](http://technorati.com/tags/TFS),[TFS 2005](http://technorati.com/tags/TFS+2005),[TFS 2010](http://technorati.com/tags/TFS+2010)
  FilePath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-09-29-database-corruption-in-tfs-2005-causes-tf246017-during-upgrade\index.md
  FolderPath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-09-29-database-corruption-in-tfs-2005-causes-tf246017-during-upgrade
- FrontMatter:
    title: Team Foundation Server 2010 Event Handling with Subscribers
    description: Explore event handling in TFS 2010 with subscribers. Learn to create complex handlers and enhance your development process with this comprehensive guide.
    ResourceId: FzwWmNio6fH
    ResourceType: blog
    ResourceContentOrigin: Human
    ResourceImport: true
    ResourceImportId: 25
    ResourceImportSource: Wordpress
    ResourceImportOriginalSource: GeeksWithBlogs
    date: 2010-09-16
    weight: 840
    creator: Martin Hinshelwood
    layout: blog
    resourceTypes: blog
    slug: team-foundation-server-2010-event-handling-with-subscribers
    aliases:
    - /resources/FzwWmNio6fH
    aliasesArchive:
    - /blog/team-foundation-server-2010-event-handling-with-subscribers
    - /team-foundation-server-2010-event-handling-with-subscribers
    - /resources/blog/team-foundation-server-2010-event-handling-with-subscribers
    tags:
    - Software Development
    - Windows
    - Technical Mastery
    - Install and Configuration
    categories:
    - Uncategorized
    preview: metro-binary-vb-128-link-4-4.png
  BodyContent: |
    ![ConfigurationRequired](images/d85ca9bb3b8b_B971-ConfigurationRequired_-1-1.jpg)There is a lot of references and blog posts on how to handle SOAP events raised by Team Foundation Server 2005, 2008 and 2010 but is there anything new in 2010 that supersedes this? Even though I knew it was there, n o amount of google-fu brought back any results relevant to anything new, so hopefully this will fill that gap.
    { .post-img }

    ---

    In Team Foundation Server (TFS) 2010 you can write event subscribers that are called and run within the context of the TFS server itself. This means that you have access to all the goodies within TFS directly without having to call back to the TFS server.

    This is the first proof-of-concept handler I have written in a process leading to rewriting the TFS Event Handler to use this method of handling events as it will be much slicker with the ability to write much more complex handlers.

    In order for your new Event Handler to be loaded and run you need to put it somewhere that TFS knows to look. As TFS is primarily made up of a bunch of web services you would be putting any output assemblies into the “**%Program Files%Microsoft Team Foundation Server 2010Application TierWeb ServicesbinPlugins**” directory. TFS will look through any assemblies in this folder and load any classes that implement any of the extension interfaces.

    In this case we are extending TFS using the **ISubscriber** interface.

    ```
    Public Interface ISubscriber
        ' Methods
        Function ProcessEvent(ByVal requestContext As TeamFoundationRequestContext, _
    			  ByVal notificationType As NotificationType, _
    			  ByVal notificationEventArgs As Object, _
    			  <Out> ByRef statusCode As Integer, _
    			  <Out> ByRef statusMessage As String, _
    			  <Out> ByRef properties As ExceptionPropertyCollection) As EventNotificationStatus
        Function SubscribedTypes() As Type()

        ' Properties
        ReadOnly Property Name As String
        ReadOnly Property Priority As SubscriberPriority
    End Interface
    ```

    The **ISubscriber** interface can be found in the “**Microsoft.TeamFoundation.Framework.Server**” assembly and gives you the basics for wiring up to a particular Event.

    ```
    Imports Microsoft.TeamFoundation.Framework.Server
    Imports Microsoft.TeamFoundation.WorkItemTracking.Server

    Public Class AssignedToHandler
        Implements ISubscriber

        Public ReadOnly Property Name As String Implements ISubscriber.Name
            Get

            End Get
        End Property

        Public ReadOnly Property Priority As SubscriberPriority Implements ISubscriber.Priority
            Get

            End Get
        End Property

        Public Function ProcessEvent(ByVal requestContext As TeamFoundationRequestContext, _
    			      ByVal notificationType As NotificationType, _
    			      ByVal notificationEventArgs As Object, _
    			      ByRef statusCode As Integer, _
    			      ByRef statusMessage As String, _
    			      ByRef properties As ExceptionPropertyCollection) As EventNotificationStatus Implements ]ISubscriber.ProcessEvent

        End Function

        Public Function SubscribedTypes() As System.Type() Implements ISubscriber.SubscribedTypes

        End Function

    End Class
    ```

    Once you have implemented the interface your method stubs will be created for you.

    ```
    Public ReadOnly Property Name As String Implements Microsoft.TeamFoundation.Framework.Server.ISubscriber.Name
        Get
            Return "Hinshlabs test handler 1"
        End Get
    End Property
    ```

    Although the name does not immediately look like it is useful I would assume that any error output would include the name as a reference so it would probably be best to pick something that is easily recognisable.

    ```
    Public ReadOnly Property Priority As SubscriberPriority Implements ISubscriber.Priority
        Get
            Return SubscriberPriority.Normal
        End Get
    End Property
    ```

    I am really not sure of the impact of changing the Priority, but I think it would influence the order in which any Subscribers are executed, with the higher priority subscribers getting first dibs. This would be important if we were implementing the Decision points ability that has been built into events.

    ```
    Public Enum SubscriberPriority
        ' Fields
        AboveNormal = 3
        BelowNormal = 1
        High = 4
        Low = 0
        Normal = 2
    End Enum
    ```

    Some of the events allow you to cancel or change the action mid stride. Think of cancelling a Check-in if your company policy is not met.

    You can find a full list of events and which ones support Decision points on my previous [post](http://blog.hinshelwood.com/archive/2010/07/07/tfs-event-handler-for-team-foundation-server-2010.aspx).

    ```
    Public Function SubscribedTypes() As System.Type() Implements ISubscriber.SubscribedTypes
        Return New Type() {GetType(WorkItemChangedEvent)}
    End Function
    ```

    As the Subscribers can handle any type of event this is were you can start the filtering process and only have events you are interested in passed your way. This is also where you have to pull in other assemblies to reference the specific events as they are peppered all over the assemblies for TFS.

    In this case we need to reference the “**Microsoft.TeamFoundation.WorkItemTracking.Server.DataAccessLayer.dll**” assembly as it contains the **WorkItemChangedEvent** under the “**Microsoft.TeamFoundation.WorkItemTracking.Server**” namespace. I am not really sure why it is hidden away in this assembly, but I think there were many things that were not finished before RTM and probably moving these classes did not make the cut.

    All you need to do is pass back an array of the types of events you want to handle.

    ```
    Public Function ProcessEvent(ByVal requestContext As TeamFoundationRequestContext, _
    			  ByVal notificationType As NotificationType, _
    			  ByVal notificationEventArgs As Object, _
    			  ByRef statusCode As Integer, _
    			  ByRef statusMessage As String, _
    			  ByRef properties As ExceptionPropertyCollection) As EventNotificationStatus Implements ISubscriber.ProcessEvent
        statusCode = 0
        properties = Nothing
        statusMessage = String.Empty
        If (notificationType = notificationType.Notification) AndAlso (TypeOf notificationEventArgs Is WorkItemChangedEvent) Then
           'TODO: Do something with the recieved event
        End If
        Return EventNotificationStatus.ActionPermitted
    End Function
    ```

    Now that we have told TFS what events we want to process when we implement the **ProcessEvent** method we can be reasonably certain that it is the right one, but it is always prudent to do an additional test so you don’t process any non event specific code by accident.

    The **requestContext** has many of the options and information you will be familiar with on a **TeamFoundationServer** or **TeamProjectCollection** object, but without the thing that are really only relevant when you are accessing a remote server. This is an object with many properties and functions that will let you access almost any facet of your TFS server from security to version control.

    ```
    Public Enum NotificationType
        ' Fields
        DecisionPoint = 0
        Notification = 1
    End Enum
    ```

    The notification Type can be used to identify which call you want to handle. For those events that have a decision point as well ProcessEvent would likely be called twice, once for the decision and if the process is permitted to complete once for the notification.

    ```
    Public Enum EventNotificationStatus
        ' Fields
        ActionApproved = 2
        ActionDenied = 0
        ActionPermitted = 1
    End Enum
    ```

    Once you have completed any tasks that you want to action you would then pass back the ActionPermited by default. I am not sure yet of the implications of the other options, but all of the built in subscribers pass that back as the default so I will as well.

    ```
    Imports Microsoft.TeamFoundation.Framework.Server
    Imports Microsoft.TeamFoundation.WorkItemTracking.Server

    Public Class AssignedToHandler
        Implements ISubscriber

        Public ReadOnly Property Name As String Implements ISubscriber.Name
            Get
                Return "test handler"
            End Get
        End Property

        Public ReadOnly Property Priority As SubscriberPriority Implements ISubscriber.Priority
            Get
                Return SubscriberPriority.Normal
            End Get
        End Property

        Public Function ProcessEvent(ByVal requestContext As TeamFoundationRequestContext, _
    				 ByVal notificationType As NotificationType, _
    				 ByVal notificationEventArgs As Object, _
    				 ByRef statusCode As Integer, _
    				 ByRef statusMessage As String, _
    				 ByRef properties As ExceptionPropertyCollection) As EventNotificationStatus Implements ISubscriber.ProcessEvent
            Try
                statusCode = 0
                properties = Nothing
                statusMessage = String.Empty
                If (notificationType = notificationType.Notification) AndAlso (TypeOf notificationEventArgs Is WorkItemChangedEvent) Then
                    Dim objWriter As New System.IO.StreamWriter("c:tempAssignedToHandler.txt")
                    objWriter.WriteLine("Recieved WorkItemChangedEvent ")

                    objWriter.Close()
                End If
            Catch ex As Exception
                My.Application.Log.WriteException(ex)
            End Try
            Return EventNotificationStatus.ActionPermitted
        End Function

        Public Function SubscribedTypes() As System.Type() Implements ISubscriber.SubscribedTypes
            Return New Type() {GetType(WorkItemChangedEvent)}
        End Function


    End Class
    ```

    All I am doing here is writing an event received acknowledgements to a text file, but it is enough for me to prove that the event is captured. All I have to do is copy the assembly output to the right place and make a change to a work item.

    ![SNAGHTMLf0653c](images/d85ca9bb3b8b_B971-SNAGHTMLf0653c-2-2.png)
    { .post-img }

    **Figure: Putting the assembly in the right place is very strait forward**

    ![SNAGHTMLf22466](images/d85ca9bb3b8b_B971-SNAGHTMLf22466-3-3.png)
    { .post-img }

    **Figure: Make any sort of change to a work item and save it**

    Now lets look into the output file:

    ```
    Recieved WorkItemChangedEvent
    ```

    As you can see we received the event with our event receiver, handled it successfully and wrote some useless text to a file.

    ## Conclusion

    This is a heck of a lot easier than subscribing to events through web services, but you need access to the TFS server locally to be able to add the DLL’s. If you are looking for a zero touch approach you can achieve this through WCF web service soap calls from TFS, but if you want a little more intimacy and structure then you should be using server side events.

    **Which method will you be using?**

    Technorati Tags: [TFS Customisation](http://technorati.com/tags/TFS+Customisation),[TFS 2010](http://technorati.com/tags/TFS+2010),[CodeProject](http://technorati.com/tags/CodeProject)
  FilePath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-09-16-team-foundation-server-2010-event-handling-with-subscribers\index.md
  FolderPath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-09-16-team-foundation-server-2010-event-handling-with-subscribers
- FrontMatter:
    title: Calculating the Rank of your blog posts or pages
    description: Discover how to rank your blog posts using an innovative algorithm that leverages social media metrics and Google Page Rank to enhance content visibility.
    ResourceId: DrHRcRNSIRX
    ResourceType: blog
    ResourceContentOrigin: Human
    ResourceImport: true
    ResourceImportId: 26
    ResourceImportSource: Wordpress
    ResourceImportOriginalSource: GeeksWithBlogs
    date: 2010-09-10
    weight: 1000
    creator: Martin Hinshelwood
    layout: blog
    resourceTypes: blog
    slug: calculating-the-rank-of-your-blog-posts-or-pages
    aliases:
    - /resources/DrHRcRNSIRX
    aliasesArchive:
    - /blog/calculating-the-rank-of-your-blog-posts-or-pages
    - /calculating-the-rank-of-your-blog-posts-or-pages
    - /resources/blog/calculating-the-rank-of-your-blog-posts-or-pages
    tags: []
    categories:
    - Uncategorized
    preview: metro-binary-vb-128-link-11-11.png
  BodyContent: |
    ![WeeManWithQuestions](images/e72c59b050ae_D1D8-WeeManWithQuestions_-9-9.png)I had an idea to have blog posts, or Rules listed not in date order, or an arbitrary order, but in some sort of calculated order. For this I would need to get data from somewhere and I fancied using; Number of Comments, Number of Trackbacks, Reddit, Digg, FriendFeed Twitter and Google Page rank. In this sample I use the term Rangler as a cross between Wrangler and Rank, but they are really Data Collectors.
    { .post-img }

    ---

    This is really an exploratory brain dump and proof-of-concept, so please excuse any bad code or practices ![Smile](images/e72c59b050ae_D1D8-wlEmoticon-smile_2-10-10.png)
    { .post-img }

    ## What is the goal?

    The idea is to call some external services and pull the data locally. Then calculate based on an algorithm:

    ```
    Rank = ([Facebook Likes] + [Tweets] + [Digs] + [Pingbacks/Trackbacks]) * [Google Rank]
    ```

    **Figure: Proposed Algorithm**

    I would then be able to order the content based on this value and see what the most popular content is. You could also augment this by adding Views as well, but I did not have that data readily available.

    I only really have time time to create a proof-of-concept and there are lots of data services out there that you could call, so I am picking two data feeds. There are lots of data services out there, but BackType gives quite a few bits of data and Google Page Rank is a well know quality indicator.

    ##### What is the result?

    I built a really simple interface that I could use to test the concept with all the core functionality sitting behind a web service.

    ![image](images/e72c59b050ae_D1D8-image_-7-7.png)
    { .post-img }

    **Figure: This blog post gets a rank of 2460**

    As you can see my UI skills are fantastic ![Smile](images/e72c59b050ae_D1D8-wlEmoticon-smile_2-10-10.png)
    { .post-img }

    ![image](images/e72c59b050ae_D1D8-image_-4-4.png)
    { .post-img }

    **Figure: Only 1 tweet for this rule**

    If you rank your pages this way then you can see which pages are lost causes and which it is worth spending some time keeping up to date and augmenting. Or visa-versa if you are looking for content that has not had much love in a while and you want to try and increase its standing.

    ##### How was it done?

    It was implemented as a WPF application that calls a web service to get the data. It is only POC, but it is extensible:

    ![image](images/e72c59b050ae_D1D8-image_-6-6.png)
    { .post-img }

    **Figure: Adding a new “Rangler” is a matter of adding a new assembly to the bin folder. No need to touch existing code.**

    As you can see I don’t have many tests and I really just used them to test each layer prior to getting the UI up and running. I think I wrote 4 tests in total.

    ![image](images/e72c59b050ae_D1D8-image_-8-8.png)
    { .post-img }

    **Figure: Ranglers are loaded dynamically if they are placed in the Bin directory of the website.**

    I wanted a rudimentarily extensible platform even at this stage as I like to switch code in and out to see which performs best. One of the first improvements I would use at this stage is to hand the calculating of the score over to the individual Ranglers as you may want to have some crazy calculation changes at a later date.

    There are a number of ways to load things dynamically, and I think this is the quick and dirty way.

    ```
    Private Sub LoadRanglers()
        ' Load all ranglers contained within asseblies available localy.
        Dim path As String = Assembly.GetExecutingAssembly.CodeBase.Replace("file:///", "")
        path = System.IO.Path.GetDirectoryName(path)
        For Each file In System.IO.Directory.EnumerateFiles(path, "*rangler*.dll", IO.SearchOption.AllDirectories)
            Dim ass = System.Reflection.Assembly.LoadFile(file)
            Dim ranglers = From x In ass.GetTypes Where x.GetInterfaces.Contains(GetType(IRangler))
            ranglers.ToList.ForEach(Sub(y) _Ranglers.Add(Activator.CreateInstance(y)))
        Next
    End Sub
    ```

    **Figure: This is the code that searches through the types in all the assemblies for classes that implement IRangler**

    You can also use MEF and other frameworks to make this even more extensible in the future.

    ![image](images/e72c59b050ae_D1D8-image_-5-5.png)
    { .post-img }

    **Figure: The UI calls the Service**

    The reason I used a web service is that I can see a more generic use for this capability in the future. It allows you to get quite a lot of statistical information just now, but it could be extended to allow the retrieval of all the Tweets, comments and other bits of information that make up the stats.

    ![image](images/e72c59b050ae_D1D8-image_-3-3.png)
    { .post-img }

    **Figure: Which does all of the calculation and calls for all of the Ranglers that it finds**

    The web service calls the RanglerManager which is responsible for looking after the Ranglers and caching the data to make subsequent calls a lot faster for the same URL.

    ![clip_image014](images/e72c59b050ae_D1D8-clip_image014_-1-1.jpg)
    { .post-img }

    **Figure: The BackType Rangler pulls back an XML feed from BackType’s servers with lots of data**

    The BackType Rangler calls the BackType API and parses out the returned statistics in a custom data class.

    ![image](images/e72c59b050ae_D1D8-image_-2-2.png)
    { .post-img }

    **Figure: The Google Rangler does some scary mumbo jumbo to get the Page Rank**

    The Google Page Rank Rangler is a little bit of a trickier one as you can’t just get the data, but it implemented just fine and you can see the results in the UI shots above.

    See [Request Google's Page-rank Programmatically](http://www.codeproject.com/KB/aspnet/Google_Pagerank.aspx) to see how all the internals work.

    ## Conclusion

    Although this is just a small proof-of-concept you can imagine this applied to hundreds of pages on your site, and I think you would be surprised what floats to the top. If I was perusing this further I would like to implement a lot more data collectors

    Calculation for [http://www.ssw.com.au/SSW/Standards/Rules/RulestoBetterEmail.aspx](http://www.ssw.com.au/SSW/Standards/Rules/RulestoBetterEmail.aspx) (yes I know it is not one rule, but it is one page) would be based on:

    - Facebook Likes: 0  
       ([http://www.backtype.com/page/www.ssw.com.au%2FSSW%2FStandards%2FRules%2FRulestoBetterEmail.aspx](http://www.backtype.com/page/www.ssw.com.au%2FSSW%2FStandards%2FRules%2FRulestoBetterEmail.aspx))

    - Tweets: 9  
       ([http://www.backtype.com/page/www.ssw.com.au%2FSSW%2FStandards%2FRules%2FRulestoBetterEmail.aspx](http://www.backtype.com/page/www.ssw.com.au%2FSSW%2FStandards%2FRules%2FRulestoBetterEmail.aspx))

    - Digs: 16  
       ([http://digg.com/tech_news/SSW_Rules_to_Better_Email)](http://digg.com/tech_news/SSW_Rules_to_Better_Email))

    - Links: 56  
       ([http://www.google.co.uk/#hl=en&source=hp&q=links%3Ahttp%3A%2F%2Fwww.ssw.com.au%2FSSW%2FStandards%2FRules%2FRulestoBetterEmail.aspx&btnG=Google+Search&rlz=1R2GGLL_enAU343&aq=f&aqi=&aql=&oq=links%3Ahttp%3A%2F%2Fwww.ssw.com.au%2FSSW%2FStandards%2FRules%2FRulestoBetterEmail.aspx&gs_rfai=&fp=abea52fcfe603f61)](http://www.google.co.uk/#hl=en&source=hp&q=links%3Ahttp%3A%2F%2Fwww.ssw.com.au%2FSSW%2FStandards%2FRules%2FRulestoBetterEmail.aspx&btnG=Google+Search&rlz=1R2GGLL_enAU343&aq=f&aqi=&aql=&oq=links%3Ahttp%3A%2F%2Fwww.ssw.com.au%2FSSW%2FStandards%2FRules%2FRulestoBetterEmail.aspx&gs_rfai=&fp=abea52fcfe603f61))

    - Google: **3/10  
       ([http://www.prchecker.info/check_page_rank.php](http://www.prchecker.info/check_page_rank.php))**

    The whole purpose of this is to surface content on your site that is popular, and to identify where you should spend your time; be it at the bottom or the top.

    - **What do you think of this approach?**

    - **What other data collectors would you like to see?**

    Technorati Tags: [Links](http://technorati.com/tags/Links),[.NET](http://technorati.com/tags/.NET),[WCF](http://technorati.com/tags/WCF)
  FilePath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-09-10-calculating-the-rank-of-your-blog-posts-or-pages\index.md
  FolderPath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-09-10-calculating-the-rank-of-your-blog-posts-or-pages
- FrontMatter:
    title: How to deal with a stuck or infinitely queued build
    description: Learn how to troubleshoot stuck or infinitely queued builds in Team Foundation Server. Optimize your build process and ensure timely completions with expert tips!
    ResourceId: gfvOPIZKbEI
    ResourceType: blog
    ResourceContentOrigin: Human
    ResourceImport: true
    ResourceImportId: 27
    ResourceImportSource: Wordpress
    ResourceImportOriginalSource: GeeksWithBlogs
    date: 2010-09-09
    weight: 665
    creator: Martin Hinshelwood
    layout: blog
    resourceTypes: blog
    slug: how-to-deal-with-a-stuck-or-infinitely-queued-build
    aliases:
    - /resources/gfvOPIZKbEI
    aliasesArchive:
    - /blog/how-to-deal-with-a-stuck-or-infinitely-queued-build
    - /how-to-deal-with-a-stuck-or-infinitely-queued-build
    - /resources/blog/how-to-deal-with-a-stuck-or-infinitely-queued-build
    tags:
    - Software Development
    - Troubleshooting
    - Azure Pipelines
    - Azure DevOps
    preview: metro-SSWLogo-128-link-11-11.png
    categories:
    - Uncategorized
  BodyContent: |
    ![BuildIcon_Large](images/Howtodealwithastuckorinfinitelyqueuedbui_D645-BuildIcon_Large_-1-1.png)
    { .post-img }

    Team Foundation Build can be a difficult beast, but not usually because of itself. Although people do experience problems when adding solutions that have been around for a while with no build run, it really does do a fantastic job.

    On occasion I have seen what I call a “Stuck Build” which is a build that never completes, this tends to only happen on builds setup on large codebases that have never been built before. It also usually also occurs at the point in the build after everything has been built and Team Foundation Build is trying to upload the data it has collected to Team Foundation Server.

    ---

    Developers should always make sure that any builds they queue complete in a timely fashion.

    > _I queued a build at 3:51. It is still there at 4:21. It seems stuck._
    >
    > _![clip_image001](images/Howtodealwithastuckorinfinitelyqueuedbui_D645-clip_image001_-2-2.jpg)\_
    > { .post-img }
    >
    > _**\-George Gong, SSW**_

    If you see a Queued build that never completes then there is probably a stuck build somewhere. George;s build has not even run yet, it is still waiting in the queue.

    > I created a new build for SSW.Website and now it stays in the queue for over 30 minutes.
    >
    > ![clip_image002[4]](images/Howtodealwithastuckorinfinitelyqueuedbui_D645-clip_image0024_-4-4.jpg)
    > { .post-img }
    >
    > But the [TFS](http://msdn2.microsoft.com/en-us/teamsystem/aa718934.aspx "Team Foundation Server") build controller is ok.
    >
    > ![clip_image004[4]](images/Howtodealwithastuckorinfinitelyqueuedbui_D645-clip_image0044_-5-5.jpg)
    > { .post-img }
    >
    > ![clip_image006[4]](images/Howtodealwithastuckorinfinitelyqueuedbui_D645-clip_image0064_-7-7.jpg)
    > { .post-img }
    >
    > I have just installed the VS2010 RTM and Team Explorer. Did I miss something?
    >
    > **\-Brite Cheng, SSW**

    Again, this build is queued, it never started. It is queued as there is another build running. Evan though we now have more than one build server queues will always exist. All it takes is for one more build than we have capacity for to be sent to the controller at the same time. Someone will always have to wait. But they should not have to wait for long. We should probably have something line [http://buildmonitor.codeplex.com/](http://buildmonitor.codeplex.com/) setup so we can quickly look and see what builds are running J but in the mean time you can run the “Build Notifications” application to see what builds are running.

    ![clip_image002](images/Howtodealwithastuckorinfinitelyqueuedbui_D645-clip_image002_-3-3.jpg)  
    { .post-img }
    **Figure: Where to find the build monitor on the Start menu**

    Sometimes a build can get Stuck. They usually get stuck when they are uploading assets into TFS. This could be a communication problem or purely a size problem, or a little of both. One thing to look at is how many data collectors you have running during the build and maybe reduce them to get a consistent pass.

    You can log onto the server and kill the running build, but make sure it is stuck first… No build should take longer than 30 minutes (Unless it always does).

    I would expect any developer to follow the process that comes next:

    #### How to Debug a stuck build:

    In this case there is a stuck build of SSW.Framework running:

    ![image](images/Howtodealwithastuckorinfinitelyqueuedbui_D645-image_-10-10.png)
    { .post-img }

    **Figure: Build list**

    I can tell that it is stuck by looking at the running time:

    ![clip_image006](images/Howtodealwithastuckorinfinitelyqueuedbui_D645-clip_image006_-6-6.jpg)  
    { .post-img }
    **Figure: A very stuck build**

    After cancelling the build, it did not free up the Build Service (stuck) so I need to restart the build service.

    Launch the Admin Console on the build server and restart the build service

    ![clip_image007](images/Howtodealwithastuckorinfinitelyqueuedbui_D645-clip_image007_-8-8.jpg)
    { .post-img }

    **Figure: Restart the build service**

    Then we need to queue another build.

    ![clip_image009](images/Howtodealwithastuckorinfinitelyqueuedbui_D645-clip_image009_-9-9.jpg)
    { .post-img }

    **Figure: build is now successful**

    Done

    Technorati Tags: [TFBS](http://technorati.com/tags/TFBS),[TFS 2010](http://technorati.com/tags/TFS+2010)
  FilePath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-09-09-how-to-deal-with-a-stuck-or-infinitely-queued-build\index.md
  FolderPath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-09-09-how-to-deal-with-a-stuck-or-infinitely-queued-build
- FrontMatter:
    title: 'A change for the better #3 - SSW to Northwest Cadence'
    description: Join Martin Hinshelwood as he shares his journey from SSW to Northwest Cadence, highlighting key lessons in Agile, Scrum, and ALM. Discover his insights!
    ResourceId: a_PdCAmRAp9
    ResourceType: blog
    ResourceContentOrigin: Human
    ResourceImport: true
    ResourceImportId: 28
    ResourceImportSource: Wordpress
    ResourceImportOriginalSource: GeeksWithBlogs
    date: 2010-09-07
    weight: 390
    creator: Martin Hinshelwood
    layout: blog
    resourceTypes: blog
    slug: a-change-for-the-better-3
    aliases:
    - /resources/a_PdCAmRAp9
    aliasesArchive:
    - /blog/a-change-for-the-better-3
    - /a-change-for-the-better-3
    - /a-change-for-the-better--3---ssw-to-northwest-cadence
    - /blog/a-change-for-the-better--3---ssw-to-northwest-cadence
    - /resources/blog/a-change-for-the-better-3
    tags:
    - Software Development
    categories:
    - Scrum
    preview: metro-nwc-128-link-2-2.png
  BodyContent: |
    Over the last 11 months, I have worked for a fantastic group of people at SSW and on a fantastic array of projects. However, the time has now come to specialise in one specific area. I have worked with Visual Studio ALM since its launch in 2005 and more recently with Scrum and the Professional Scrum Developer course that launched in April. Therefore, to this end I am leaving my job as a Solution Architect at [SSW](http://ssw.com.au) for an ALM Consultant role at [Northwest Cadence](http://nwcadence.com).   
     As you may or may not know, my last day at SSW is Friday 10th September and I want to express my thanks to Adam, Anastasia and the rest of the guys for making me welcome, even with the disability of being Scottish.

    During the last 11 months, Adam Cogan and the rest of the people at SSW have coached me to be a better developer, implementer, integrator and trainer. We have surmounted many issues and problem within the company to forge an effective ALM and Scrum strategy that has earned SSW soaring accolades from its customers.

    ## What did I learn?

    There are four main things that I learned at SSW:

    1. **Rules** – Rules and standards are arguably more important in software than anywhere else is. SSW’s rules, while initially overbearing represent the standard approach that everyone at the company take. The dedication to and the maintenance of the rules is core to the corporate identity and helps define that identity. I played a part in many of the rule sets, and here are the highlights:

       - [Rules to Better Email](http://sharepoint.ssw.com.au/Standards/Communication/RulesToBetterEmail/Pages/default.aspx)
       - [Rules to Better Social Networking](http://sharepoint.ssw.com.au/Standards/Communication/RulesToBetterSocialNetworking/Pages/default.aspx)
       - [Rules to Better Twitter](http://sharepoint.ssw.com.au/Standards/Communication/RulesToBetterTwitter/Pages/Default.aspx)
       - [Rules to Better Scrum using TFS](http://sharepoint.ssw.com.au/Standards/Management/RulesToBetterScrumUsingTFS/Pages/default.aspx)
       - [Rules to Better Source Control With TFS](http://www.ssw.com.au/ssw/Standards/Rules/RulesToBetterSourceControlwithTFS.aspx)
       - [Rules to Better TFS 2010 Migration](http://sharepoint.ssw.com.au/Standards/TFS/RulesToBetterTFS2010Migration/Pages/default.aspx)

       I remember speaking to Matt Nunn after a presentation he did in Glasgow and he commented

       > “You SSW guys are everywhere.”  
       > \-Matt Nunn in Edinburgh

       See Rules to better branding #8: [Do you brand your employees?](http://www.ssw.com.au/ssw/Standards/Rules/#BrandingEmployees)

    2. **Process** – Since I started my quest to learn and implement Scrum at SSW earlier this year I have learned the importance of process in what we do. I knew it was important, but I had little idea of how imperative it was to being able to deliver software. In my time at SSW I have become both a Certified ScrumMaster and a Professional Scrum Developer Trainer, not to mention all the other processes and practices that I now have familiarity with:

       - Scrum
       - Agile
       - Lean
       - Kanban
       - TDD
       - BDD
       - Continuous Integration
       - Continuous Deployment

       These are all pieces of the same puzzle and if you get the right combination, you can ship quality code quickly that meets the customers’ needs, which is ultimately the goal of all software projects.

    3. **Technology** – Boy does SSW keep to the cutting edge. No sooner is something released than they pushing it to clients and they already have people fully qualified and familiar with all of its inner workings. This is key to keeping at the top of the game, and long-time clients are happy to be Guiney pigs as they know that all the guys are ready and able to fix any problems. With two Regional Directors and three MVP’s it can be hard to argue with their expertise and confidence. Technologies I have used in anger:

       - Silverlight 4
       - Visual Studio 2010
       - Dynamics CRM 4
       - SharePoint 2010
       - Team Foundation Build 2010
       - Microsoft Test Manager
       - Microsoft .NET 4

       It always surprises me the number of developers that are not technologists and in this ever-changing world only the technologists float to the top of the pile. The obscure things that sort the good developers from the bad and having an understanding of things that are not strictly in their field of view sets them apart.

    4. **Communication** – If I took nothing else from SSW it would be the [Rules to better Email](http://www.ssw.com.au/ssw/Standards/Rules/RulesToBetterEmail.aspx) which, along with other things, helped me function as a member of all the teams over 10 hours and 10,000 miles distant. You may also have noticed that around ten months ago my blog started getting a lot better.

       Look back at blog posts I made over a year ago and you will see the influence that Adam Cogan had over my blogging style. Adam can make your posts go from [this](http://blog.hinshelwood.com/archive/2009/07/30/finding-features-calendar-preview.aspx), to [this](http://blog.hinshelwood.com/archive/2010/07/07/active-directory-groups-not-syncing-with-team-foundation-server-2010.aspx) in no time at all using nothing but his critical eye and direct Australian attitude. I have really appreciated all of his help.

    ## Who did I learn from?

    - **Adam Cogan** – Adam has mentored me into a lean mean ALM machine and I would not have the courage to do the things I have done over the last year without his support. It can be painfully frustrating at times always being corrected and referred to rules, but his unwavering quest to better everyone that works for him pays off.
    - **Paul Neumeyer** – I worked with Paul on many subjects around process and technical implementations. When you have a parallel processing Ph.D. this stuff must be easy. Paul has been instrumental in implementing Scrum within SSW and has paved the way with fantastic recommendations from the customers he has worked with. His knowledge of the finer details of project management and where the failing have been in the past has lead him to enthusiastically adopt Scrum at SSW and the results are amassing. If I was ever wanting to bounce an idea off someone or just to gain advice in incite on anything from client engagement to market interest in a product then Paul always had well though out answers that always made sense. I would love to get a chance to work with Paul in the future…
    - **Allan Zhou** – Although Allan no longer works at SSW \[he may be going back\] working with him was a pleasure and while overcoming the language barrier was not easy at times his skills with technology more than made up for it.
    - **Lei Xu** – What can I say about the first Regional Director in China? Lei as always works hard to make the integration between Beijing and Sydney run a slickly as possible. He even managed to accommodate some strange fellow in Glasgow.
    - **Mark Hetherington** – The King of process if ever there was one. Mark took to Scrum like a fish in water as fits his background in Process. He helped me get to grips with Scrum early on and was a fantastic sounding block for all things Process.

    > Sae lang an' cheers fur aw th' fesh.

    ## Where am I going?

    ![feature-300x200](images/Achangeforthebetter3_8F02-feature-300x200_-1-1.png)
    { .post-img }

    Over the last year, I have been steadily heading towards a point that converges on ALM. I have always had an interest in how developers work and in supporting those developers to increase their productivity and efficiency. This is what ALM is all about and unfortunately, SSW is not an ALM shop. Although I have worked with SharePoint and CRM, Silverlight and MVC, and all manner of other interesting things, I really want to concentrate on that witch has been termed Application Lifecycle Management.

    To this end, I have been looking for work in the dedicated ALM space. I had resigned myself to the fact that I would have to leave my hometown Glasgow but I had thought it would be for London or Reading in the UK. During an attempt at “inbox to 0”, I chanced upon an email from one Steven Borg way back in February on the ALM Champs group looking for [their next great ALM Consultant](http://blog.nwcadence.com/2010/02/now-hiring-our-next-great-alm-consultant/). I took a chance and sent him an email asking if they were still looking and this was the response:

    > Perfect timing!  We’d love to talk with you!…\[removed for terseness\]…By the way, you have one of the most useful blogs in existence!  Great information on there, and a common reference point for me (and I suppose everyone else in the [TFS](http://msdn2.microsoft.com/en-us/teamsystem/aa718934.aspx "Team Foundation Server") business!)  
    > **\-Steven Borg**

    There is very little as fulfilling as notoriety, especially when it is positive.

    To cut a long story short, [Northwest Cadence](http://www.nwcadence.com) has offered me a job as an ALM Consultant in **Seattle, Washington, USA**. This is a big move, as we will be moving not only a Husband and Wife, but also two small children and a dog.

    This is not the beginning however as we still have to apply for and receive an H1b visa for the US which will allow me to work there for three years. This process is slow and expensive for North West Cadence and they wanted to make sure we would be happy, so they flew my wife and I out to Seattle last week. Jadie and I only had 3 days in Seattle, but it was a packed 3 days. I met with most of the people at North West Candace and Steven Borg spent lots of time with us showing off Seattle and the surrounding areas. We even had a day looking around houses for rent and two evenings out for dinner on our own, once in Bellevue and once in Renton.

    Both Jadie and I loved Seattle and for some reason everyone at North West Cadence liked us. Although Jadie was very upset when on the first day a shop assistant though she was German, she had a complex about that for the rest of the trip.

    We should move in November, depending on when the visas come back, but the lawyer said that the best reassurance she could give was 50%. Although this is low, I can’t think of any reason that I would be refused and I guess it is all down to wither the person vetting my visa likes my face.

    Northwest Cadence is the A-Team of the ALM world and they have a heck of a lot of big clients. If you look at their [blog](http://blog.nwcadence.com/) you can see that it has not been updated in while and this is due to a lack of slack in their schedule. They want me to introduce some of that slack so they have time to look at new technologies, blog and most importantly be able to service more of their customers quickly.

    Northwest Cadence work heavily in areas of Process with a solid foundation in the technical facets of the Visual Studio ALM toolset and although I have a technical depth of knowledge in Visual Studio ALM I am only just starting my journey into the world of process. Although I am familiar with some of the concepts of other methods I only have deep knowledge of Scrum and even that knowledge is only 8 months old. It will take time for me to learn the other indicate processes that will help me shape and improve the delivery of software for teams around the world and [Steven Borg](http://blog.nwcadence.com/author/stevenborg/) and [Jeff Levinson](http://blog.nwcadence.com/author/jefflevinson/) are the best people to teach me.

    The whole family is now really looking forward to this, but for to all the things we have to do between now and then.

    ## What now?

    I will have a couple of months between leaving SSW and starting at Northwest Cadence, and I need some work to fill that gap. SSW has offered 1-2 days per week which I am gladly taking, but I am also looking for anyone who is:

    - Upgrading to TFS 2010
    - Migrating to TFS 2010
    - Installing TFS 2010
    - Integrating with SharePoint 2007/2010
    - Migrating from one Process template to another
    - Private [Professional Scrum Developer](http://msdn.microsoft.com/en-us/vstudio/ff433643.aspx) courses
    - Anything else you can think of that is TFS related

    **If you know of anyone who is looking for a TFS/ALM Consultant and no one else can help, if you can find me. Then call… (doot do dodoot doooo, do doot doooo…)**

    Technorati Tags: [Northwest Cadence](http://technorati.com/tags/Northwest+Cadence),[ALM](http://technorati.com/tags/ALM),[SSW](http://technorati.com/tags/SSW),[TFS 2010](http://technorati.com/tags/TFS+2010),[Visual Studio](http://technorati.com/tags/Visual+Studio)
  FilePath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-09-07-a-change-for-the-better-3\index.md
  FolderPath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-09-07-a-change-for-the-better-3
- FrontMatter:
    title: Running Android 2.2 (Frodo) on your HD2
    description: Discover how to run Android 2.2 (Frodo) on your HD2 for a superior mobile experience. Step-by-step guide and tips for optimal performance await!
    ResourceId: pEjQq9m7081
    ResourceType: blog
    ResourceContentOrigin: Human
    ResourceImport: true
    ResourceImportId: 29
    ResourceImportSource: Wordpress
    ResourceImportOriginalSource: GeeksWithBlogs
    date: 2010-09-02
    weight: 1000
    creator: Martin Hinshelwood
    layout: blog
    resourceTypes: blog
    slug: running-android-2-2-frodo-on-your-hd2
    aliases:
    - /resources/pEjQq9m7081
    - /resources/blog/running-android-2.2-frodo-on-your-hd2
    aliasesArchive:
    - /blog/running-android-2-2-frodo-on-your-hd2
    - /running-android-2-2-frodo-on-your-hd2
    - /running-android-2-2-(frodo)-on-your-hd2
    - /blog/running-android-2-2-(frodo)-on-your-hd2
    - /resources/blog/running-android-2-2-frodo-on-your-hd2
    - /resources/blog/running-android-2.2-frodo-on-your-hd2
    tags: []
    categories:
    - Uncategorized
    preview: metro-android-1-1.png
  BodyContent: |
    ![image](images/RunningAndroid2.2FroDoonyourHD2_89C9-image_-6-6.png)While my HD2 was away getting fixed I had to slum it using an Android phone from Vodafone. It was a small cheap Vodafone 845 running Android 2.1 and you know what… I loved it.
    { .post-img }

    Don’t get me wrong… the phone was crap… but Android is good.

    While I wait to get my hands on Windows Phone 7 I would rather use Android than Windows Mobile 6, but how can I do that without buying a new phone?

    - **Update: 8th September 2010** – Make sure that you have HSPL 2 and Radio 2.12.\* installed otherwise you may encounter freezing when you phone wakes from standby.
    - **Update: 8th September 2010** – You may also want to get a hold of SetCPU to change the 800mhz cap on your device. make sure you are careful though as increasing the min cap can reduce battery life.  
       [http://www.xda-developers.com/android/setcpu-for-android-root-users/](http://www.xda-developers.com/android/setcpu-for-android-root-users/ "http://www.xda-developers.com/android/setcpu-for-android-root-users/")

    ---

    Running Android on your HD2 is not the easiest thing to wrap your head around. Basically you start Android from Windows, but it turns off Windows Mobile during the process. This means that you can start any version of Android, or even Ubuntu you want.

    It is worth mentioning is that the entire OS runs from your SD card, which does impact battery life but the performance is very close to native.

    I started by finding a version of Android that I liked on the  [HD2 Android Development](http://forum.xda-developers.com/forumdisplay.php?f=735) forum. I have been running [FroyoStone Sense - V1 from darkstone](http://forum.xda-developers.com/showthread.php?t=747492) for about 24 hours without a problem. While writing this post I noticed that they have just released v2, so I will be updating to that.

    If you are going down this road then you are going to have to accept that there are some things that just do not work, and others that mostly work. However if you keep an eye on the forums you will see that they release updates quite regularly and more things work with every version.

    ![SNAGHTMLa83b3e](images/RunningAndroid2.2FroDoonyourHD2_89C9-SNAGHTMLa83b3e-8-8.png)  
    { .post-img }
    **Figure: Downloading may take some time unless you have a premium account**

    Once you have it downloaded you need to copy it to SD card. It is best to keep each version in its own folder so you can easily switch if you are not happy with the new one.

    ![SNAGHTML147d31d](images/RunningAndroid2.2FroDoonyourHD2_89C9-SNAGHTML147d31d-7-7.png)  
    { .post-img }
    **Figure: Always keep the old version around until you are happy**

    I like to use the default “Android” folder as it causes me a lot less pain than trying to use a custom folder. If you are a more advanced user I am sure you could solve the problems, but I could not be bothered. I just want something that works…

    Make sure you read the “readme” to get the latest information, but you can now just run the “CLRCAD.exe” and then the “haret.exe” applications. However I have found this to be problematic and I guess other have as well as there is now a little runner application for Windows Mobile.

    Install [Exceller Multiple Build Loader for Android/Ubuntu 2.1](http://forum.xda-developers.com/showthread.php?t=737001) on your windows mobile so you can choose the version you want. You can also use this application to Auto-Run the version of Android you want, which is nice.

    ![image](images/RunningAndroid2.2FroDoonyourHD2_89C9-image_-3-3.png)  
    { .post-img }
    **Figure: I have added the Loader application to the home screen**

    There is really no requirement to do this, it just makes it quicker to launch after booting into Windows.

    ![image](images/RunningAndroid2.2FroDoonyourHD2_89C9-image_-4-4.png)  
    { .post-img }
    **Figure: You need to tap to change the version of Android you want to load**

    You can see the Auto boot options at the bottom that allow you to just turn on your phone and have it ultimately running Android.

    ![image](images/RunningAndroid2.2FroDoonyourHD2_89C9-image_-5-5.png)  
    { .post-img }
    **Figure: You can tap anywhere around the Android logo to run this version**

    Once you start Android you will have to wait for a while ![Smile](images/RunningAndroid2.2FroDoonyourHD2_89C9-wlEmoticon-smile_2-9-9.png) and even longer if this is the first time you have booted that version. In fact it could take as long as 5-10 minutes on first boot, but you just need to wait. With this new v2 it creates a 1gb data file which takes a while and eats your battery. This is normal, and will only happen the first time you boot.
    { .post-img }

    If you notice the message “failed to find rootfs.img on SD card” then you probably have an issue. Similarly if you notice that your phone has been “Booting” for over 30 minutes its probably configured incorrectly. If this is the case then you should retry and watch the boot sequence. You will see an “Error with XXX” or a “Could not access XXX” and just Google the exact message to find the problem. This is why I went back to using just the “Android” folder.

    ![Android4](images/RunningAndroid2.2FroDoonyourHD2_89C9-Android4_-2-2.png)  
    { .post-img }
    **Figure: Running Android on your HD2 is very nice on the 4.2” screen.**

    I really do like Android, and if Windows Phone 7 does not live up to its expectations this is probably the OS I will run. I had first exposure to it when my wife got her first Android (HTC Tattoo) and recently I used a Vodafone 845. These phones are small, but they still offer a far better experience than Windows Mobile 6.

    Running Android on my HD2 is such a superior experience that Windows Phone 7 will need to be almost perfect beat it; I really hope it is…

    Technorati Tags: [Android](http://technorati.com/tags/Android),[HD2](http://technorati.com/tags/HD2),[WM6](http://technorati.com/tags/WM6)
  FilePath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-09-02-running-android-2-2-frodo-on-your-hd2\index.md
  FolderPath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-09-02-running-android-2-2-frodo-on-your-hd2
- FrontMatter:
    title: Rangers shipped Visual Studio 2010 Database Guide
    description: Unlock the potential of Visual Studio 2010 with the ALM Rangers' Database Guide, featuring hands-on labs and practical tips for real-world projects.
    ResourceId: cPIxk6Q_Dan
    ResourceType: blog
    ResourceContentOrigin: Human
    ResourceImport: true
    ResourceImportId: 30
    ResourceImportSource: Wordpress
    ResourceImportOriginalSource: GeeksWithBlogs
    date: 2010-08-25
    weight: 665
    creator: Martin Hinshelwood
    layout: blog
    resourceTypes: blog
    slug: rangers-shipped-visual-studio-2010-database-guide
    aliases:
    - /resources/cPIxk6Q_Dan
    aliasesArchive:
    - /blog/rangers-shipped-visual-studio-2010-database-guide
    - /rangers-shipped-visual-studio-2010-database-guide
    - /resources/blog/rangers-shipped-visual-studio-2010-database-guide
    tags:
    - Software Development
    categories:
    - Uncategorized
    preview: metro-visual-studio-2010-128-link-1-1.png
  BodyContent: |
    **![vs2010almRanger](images/RangersshippedVisualStudio2010DatabaseGu_C070-vs2010almRanger_-2-2.png)**
    { .post-img }

    Have you ever struggled with the Database Developer (was DataDude) components of Visual Studio? Well I have…and now the ALM Rangers have released a new guide to help us all get the benefits. There is Guidance as well as Hands-On-Labs and even how to do WIX integration for deployment.

    ---

    The [Visual Studio 2010 Database Guide](http://vsdatabaseguide.codeplex.com/) is available to download from Codeplex and you should try it out and submit some feedback. Wondering what this is all about? Well…

    ## Project Description

    Practical guidance for Visual Studio 2010 Database projects, which is focused on 5 topic areas:

    - Solution and Project Management
    - Source Code Control and Configuration Management
    - Integrating External Changes with the Project System
    - Build and Deployment Automation with Visual Studio Database Projects
    - Database Testing and Deployment Verification

    This release includes common guidance, usage scenarios, hands on labs, and lessons learned from real world engagements and the community discussions.  
    The goal is to deliver examples that can support you in real world scenarios, instead of an in-depth tour of the product features.

    ## Visual Studio ALM Rangers

    This guidance is created by the Visual Studio ALM Rangers, who have the mission to provide out of band solutions for missing features or guidance. This content was created with support from Microsoft Product Group, Microsoft Consulting Services, Microsoft Most Valued Professionals (MVPs) and technical specialists from technology communities around the globe, giving you a real-world view from the field, where the technology has been tested and used.  
    For more information on the Rangers please visit [http://msdn.microsoft.com/en-us/vstudio/ee358786.aspx](http://msdn.microsoft.com/en-us/vstudio/ee358786.aspx) and for more a list of other Rangers projects please see [http://msdn.microsoft.com/en-us/vstudio/ee358787.aspx](http://msdn.microsoft.com/en-us/vstudio/ee358787.aspx).

    ## What is in the package?

    The content is packaged in 3 separate zip files to give you the choice of selective downloads, but the default download is the first of the listed packages:

    - Visual Studio Guidance for Database Projects **\--> Start here**
    - Visual Studio Database Projects Hands-On-Labs document
    - Hands-On-Labs (HOLs), including:
      - Solution and Project Management
        - Refactoring a Visual Studio Database Solution to Leverage Shared Code
      - Source Code Control and Configuration Management
        - Single Team Branching Model
        - Multiple Team Branching Model
      - Integrating External Changes with the Project System
        - Maintaining Linked Servers in a Visual Studio Database Project
        - Complex data movement
      - Build and Deployment Automation
        - WiX-Integration with deployment of databases
        - The Integrate with Team Build Scenario
        - Building and deploying outside team build
      - Database Testing and Deployment Verification
        - The “Basic” Create Unit Test Scenario
        - The “Advanced” Create Unit Test Scenario
        - Find Model drifts Scenario

    ## Team

    Obviously this type of work would not be possible without many people contributing their free time to make it happen.

    - **Contributors:** Shishir Abhyanker (MSFT), Chris Burrows (MSFT), [David V Corbin (MVP)](http://blogs.msdn.com/b/willy-peter_schaub/archive/2010/08/21/www.dynconcepts.com), Ryan Frazier (MSFT), [Larry Guger (MVP)](http://continuouslyintegrating.blogspot.com/), Barclay Hill (MSFT), Bob Leithiser (MSFT), Pablo Rincon (MSFT), Scott Sharpe (MSFT), Jens K. Süßmeyer (MSFT), LeRoy Tuttle (MSFT)
    - **Reviewers:** Christian Bitter (MSFT), Regis Gimenis (MSFT), Rob Jarrat (MSFT), Bijan Javidi (MSFT), [Mathias Olausson (MVP)](http://msmvps.com/blogs/molausson/), Willy-Peter Schaub (MSFT)

    Technorati Tags: [ALM](http://technorati.com/tags/ALM),[TFS 2010](http://technorati.com/tags/TFS+2010),[VS 2010](http://technorati.com/tags/VS+2010),[Visual Studio](http://technorati.com/tags/Visual+Studio)
  FilePath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-08-25-rangers-shipped-visual-studio-2010-database-guide\index.md
  FolderPath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-08-25-rangers-shipped-visual-studio-2010-database-guide
- FrontMatter:
    title: Commit to Visual Studio ALM on Area51
    description: Join the Visual Studio ALM community on Area51! Help us reach the commitment stage and shape the future of ALM discussions. Your vote matters!
    ResourceId: czqyZFQxRrp
    ResourceType: blog
    ResourceContentOrigin: Human
    ResourceImport: true
    ResourceImportId: 31
    ResourceImportSource: Wordpress
    ResourceImportOriginalSource: GeeksWithBlogs
    date: 2010-08-15
    weight: 1000
    creator: Martin Hinshelwood
    layout: blog
    resourceTypes: blog
    slug: commit-to-visual-studio-alm-on-area51
    aliases:
    - /resources/czqyZFQxRrp
    aliasesArchive:
    - /blog/commit-to-visual-studio-alm-on-area51
    - /commit-to-visual-studio-alm-on-area51
    - /resources/blog/commit-to-visual-studio-alm-on-area51
    tags: []
    categories:
    - Uncategorized
    preview: metro-visual-studio-2010-128-link-1-1.png
  BodyContent: |
    ![image](images/VisualStudioALMonArea51_98A3-image_-3-3.png)
    { .post-img }

    A few weeks ago I proposed a new community for StackExchange and it has been growing at an exponential rate. We are about half way there, but we need **your** help to make this community a success.

    - Update 16th August 2010 – The Proposal has now moved from Proposed to the Committed stage and we need your commitment.  
       [http://area51.stackexchange.com/proposals/15894/visual-studio-alm?referrer=vtx1N5_bjYysH8mQCaDCxQ2](http://area51.stackexchange.com/proposals/15894/visual-studio-alm?referrer=vtx1N5_bjYysH8mQCaDCxQ2 "http://area51.stackexchange.com/proposals/15894/visual-studio-alm?referrer=vtx1N5_bjYysH8mQCaDCxQ2")

    ---

    ### Monday 16th August 2010 – Commit to Visual Studio ALM on Area51

    If you are not familiar with StackExchange, it has a community driven voting system for creating new sites like Stack Overflow.

    Thanks everyone for your efforts and excellent questions. Although we suffered a little from question overload at the Proposal stage I think this is a good omen for the future beta.

    [![clip_image002](images/VisualStudioALMonArea51_98A3-clip_image002_-2-2.jpg)](http://area51.stackexchange.com/proposals/15894/visual-studio-alm?referrer=vtx1N5_bjYysH8mQCaDCxQ2)
    { .post-img }

    We are now in the Commitment stage and need a score of 2000 user points (which gets us to 100%) to proceed to the Beta. This is apparently calculated based on a user’s reputation:

    > _To get a feel for it:_
    >
    > - _A user with no reputation gets a score of 1_
    > - _A user with 200 reputation on 1 site gets a score of 1.7_
    > - _A user with 200 reputation on 3 sites gets a score of 3.1_
    > - _A user with 10000 reputation on 1 site gets a score of 7.2_
    > - _A user with 10000 reputation on 3 sites gets a score of 19.6 (these are extremely rare)  
    >    \_\_Source [http://meta.stackoverflow.com/questions/53650/area-51-commit-percent](http://meta.stackoverflow.com/questions/53650/area-51-commit-percent)_

    So if you are interested in Visual Studio ALM or any of its features, be sure to Commit and send this to anyone you know who might be interested.

    [Commit to Visual Studio ALM](http://area51.stackexchange.com/proposals/15894/visual-studio-alm?referrer=vtx1N5_bjYysH8mQCaDCxQ2)

    ### Friday 13th August 2010 – Vote for Visual Studio ALM on Area51

    [Visual Studio ALM StackExchange Proposal](http://area51.stackexchange.com/proposals/15894/visual-studio-alm?referrer=vtx1N5_bjYysH8mQCaDCxQ2 "http://area51.stackexchange.com/proposals/15894/visual-studio-alm?referrer=vtx1N5_bjYysH8mQCaDCxQ2")

    We have now reached 1 of the three milestones required to get the site to the “commit” stage.

    ![image](images/VisualStudioALMonArea51_98A3-image_-4-4.png)  
    { .post-img }
    **Figure: We have enough followers but not enough votes**

    We now have question overload and need to concentrate on getting those top 5 On Topic and 5 Off Topic questions to have 20 votes each.

    ##### Top 5 On-Topic

    - What’s a backup and recovery process for Team Foundation Server 2010?
    - How can I automatically version my assemblies in TFS Build 2010?
    - How can I sync two Team Foundation Servers?
    - How do I do branching if I want to be able to create hotfixes?
    - Default value: Are they assigned only when a work item is created?

    ##### Top 5 Off-Topic

    - Do I need to purchase additional Client access Licenses for TFS 2010?
    - How do I migrate my TFS content to Visual SourceSafe?
    - What and who are the ALM Rangers and what role do they play within Microsoft?
    - How do you install Visual Studio 2003?
    - How do I debug my WPF application?

    **If everyone can concentrate their votes in at least the current top 10 we should have enough! If you currently have a vote on a question with fewer than 10 votes it may be worth removing it and adding it to one of the questions higher up.**

    [Visual Studio ALM StackExchange Proposal](http://area51.stackexchange.com/proposals/15894/visual-studio-alm?referrer=vtx1N5_bjYysH8mQCaDCxQ2 "http://area51.stackexchange.com/proposals/15894/visual-studio-alm?referrer=vtx1N5_bjYysH8mQCaDCxQ2")  
    You have 5 on-topic and 5 off-topic votes to cast.
  FilePath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-08-15-commit-to-visual-studio-alm-on-area51\index.md
  FolderPath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-08-15-commit-to-visual-studio-alm-on-area51
- FrontMatter:
    title: The search for a single point of truth
    description: Discover effective strategies for syncing your contacts across platforms and achieving a single point of truth. Streamline your connections today!
    ResourceId: nWNc5jUb0Up
    ResourceType: blog
    ResourceContentOrigin: Human
    ResourceImport: true
    ResourceImportId: 34
    ResourceImportSource: Wordpress
    ResourceImportOriginalSource: GeeksWithBlogs
    date: 2010-07-07
    weight: 1000
    creator: Martin Hinshelwood
    layout: blog
    resourceTypes: blog
    slug: the-search-for-a-single-point-of-truth
    aliases:
    - /resources/nWNc5jUb0Up
    aliasesArchive:
    - /blog/the-search-for-a-single-point-of-truth
    - /the-search-for-a-single-point-of-truth
    - /resources/blog/the-search-for-a-single-point-of-truth
    tags: []
    categories:
    - Uncategorized
    preview: nakedalm-logo-128-link-19-19.png
  BodyContent: |
    ![image](images/7b88707dd37e_F009-image_-8-11.png)It may be a trivial matter to get your contacts on your phone, but if you do the social network thing, then you need to do a little jiggery pokery to get everything to sync so you have the same contacts everywhere. Over the last couple of weeks I have vowed to get them sorted.
    { .post-img }

    \[Updated 7th July 2010\] – I found a client that works with Outlook 2010 [http://sourceforge.net/projects/syncmldotnet/](http://sourceforge.net/projects/syncmldotnet/ "http://sourceforge.net/projects/syncmldotnet/")

    ---

    What we want is a “single point of truth” that will suck all of our contacts in and try and make sure that we have no duplicates.

    ![SNAGHTML2e12b72](images/7b88707dd37e_F009-SNAGHTML2e12b72-17-17.png)
    { .post-img }

    **Figure: Target model of a single point of truth**

    Before today I was a premium Plaxo user, but I have been steadily disenfranchised by their increase in social networking features and decrees in effort on the core Contact Sync features. I used to be able to sync my LinkedIn, Live Contacts, Google contacts and more. They provided a basic Windows Mobile application and a decent outlook client. If you are also a Plaxo user you will have seen a steady move from Sync points to Imports, which in my opinion sucks. It also does not sync pictures.

    I have over 1700 contacts built up over a long time. Yes, some of them are crap, but it is very difficult to get rid of the crap in favour of the good stuff. Today I went looking for a solution.

    I tried lots of local apps:

    - **OutSync** – Invaluable for importing your Facebook pictures
    - androgyny – Good Facebook app for getting the pictures into Google, but lacks stability.
    - GO Contact Sync – Sucks... could not get it to work with Outlook 2010
    - Xobni – No sync capability as it is just an overlay (to lock you in)

    This is all well and good for Facebook, but what about LinkedIn or Live? I want all my contacts and pictures to be the same on all of my sites that “stores” contacts. So no Sync with LinkedIn or Facebook, but it should pull the valuable updates to details and pictures.

    I tried re-doing Plaxo, but no luck. I used uber-google-fu to find very little and the I stumbled across some sites. But first lets look at what I want to sync. In an ideal world I want to be able to sync everything.

    - Outlook
    - Google Contacts
    - Google Calander
    - Facebook (One way)
    - LinkedIn (One way)
    - Windows Live Contacts
    - Yahoo Contacts
    - Twitter (Not sure how this would work)
    - Windows Mobile
    - Android
    - Plaxo
    - Soocial
    - SheduleWorld
    - UNYK
    - Vodafone 360

    You may be thinking, why the hell do you have so many services. Well, I have been on the internet a number of years and I have contacts and links and settings on services that I  have moved away from, but me contacts have not. I even still pull email from my old cable & wireless email account that I had pre 2000. Why, because people may only have my old email address and try to contact me. You know, old friends and family who are incapable of updating their contacts.

    Its the same reason that I have had the same mobile phone number for 12 years and landline number for just as long even though I have moved house, district and providers. I like to be consistent.

    Its not hard to do, it just takes a little effort, and I can’t understand why I get a new mobile number from some people every year when they change mobile.

    What **_is_** that all about?

    Lets look at a couple of the “sync your contacts” services.

    ### Plaxo – [http://plaxo.com](http://plaxo.com)

    ![image](images/7b88707dd37e_F009-image_-11-3.png)I used to consider this the best, but it seems to have gone backwards in features and is no longer useful as a single point of truth.
    { .post-img }

    Used to sync with Google, Live and Facebook… now? Nothing…

    Its still good for keeping the contacts you do have in there updated, and it is worth checking periodically if people have joined as you will get updated details automatically.

    ![SNAGHTML278f1ba](images/7b88707dd37e_F009-SNAGHTML278f1ba-15-15.png)
    { .post-img }

    **Figure: Plaxo**

    Syncing with Plaxo is a must…

    ### Soocial - [http://www.soocial.com/](http://www.soocial.com/ "http://www.soocial.com/")

    ![image](images/7b88707dd37e_F009-image_-10-2.png)Soocial provides good but limited functionality for syncing. After checking the feature requests and when they were requested there seems to be very little development going on. It has by far the nicest UI, but what use is a nice UI with no features.  
    { .post-img }

    ![SNAGHTML27b1e17](images/7b88707dd37e_F009-SNAGHTML27b1e17-16-16.png)  
    { .post-img }
    **Figure: Soocial**

    So what does it sync with?

    ![image](images/7b88707dd37e_F009-image_-7-10.png)  
    { .post-img }
    **Figure: Soocial syncs with a few, Yahoo, Gmail and Live**

    This was the first service I tried after Plaxo, and with 1700 contacts I had to pay to prove that it was no use for me. Sucks, but true.

    But where is Facebook? Well, I went looking and found a support thread that stated that they would have the feature within they next couple of months. Hmmm, dated 12 months ago… not good. I checked other threads and found a similar story.

    If you are going to provide Sync you have to sync everything and do it well…

    ### Memotoo - [http://www.memotoo.com/](http://www.memotoo.com/ "http://www.memotoo.com/")

    ![image](images/7b88707dd37e_F009-image_-2-5.png)Memotoo has an initially unfriendly user interface, but boy do the features make up for it. Not only that but I reported 3 bugs and asked for 1 new feature and had them all implemented in under 24 hours. Its stable and fast as well.  
    { .post-img }

    ![SNAGHTML275a292](images/7b88707dd37e_F009-SNAGHTML275a292-14-14.png)  
    { .post-img }
    **Figure: Memotoo**

    This is the only service that can act as the core of any single source of truth due to it breadth of connections.

    ![image](images/7b88707dd37e_F009-image_-6-9.png)  
    { .post-img }
    **Figure: Could you imagine more connections?**

    Well I can imagine more connection ![Smile](images/7b88707dd37e_F009-wlEmoticon-smile_2-18-18.png) But did you see the “Synchronize a SynML server”?
    { .post-img }

    You would be surprised by how many services use SyncML. I was.

    I remember reading an article in the mid naugties that talked about community sites. If you were building them, you just had to provide a method of getting peoples connection in and out in an easy standard manor. SyncML has grown to be this solution and there are some open source SyncML solutions out there. So there is no excuses for not using them.

    ![image](images/7b88707dd37e_F009-image_-9-12.png)  
    { .post-img }
    **Figure: Built in SyncML settings**

    Memotoo will let you add any other SyncML server that you want with a nifty form to setup the connections, but clicking the icon for your favourite service above will fill out the form for you, phew.

    ![image](images/7b88707dd37e_F009-image_-3-6.png)  
    { .post-img }
    **Figure: Set up any SyncML settings you like.**

    Memotoo is only £12 for a year, so it is not even that costly. It will even do files, calendar, email, tasks and notes.

    Another nice thing that Memotoo does is to allow custom types and it matches your contacts on that basis. There is a field for the Facebook URL and one for LinkedIn. This allows the background sync system to know that it should match your “one way” syncs to there particular contacts. Most of the other services will probably do this behind the scenes, but you cant configure it, nor identify which contact is which without it.

    When adding a contact you have the usual Home and Work details, but the real magic happens on the “Other” tab.

    ![image](images/7b88707dd37e_F009-image_-12-4.png)  
    { .post-img }
    **Figure: Built-in and added fields**

    If you have the MSN ID fields filled out that will make sure you don’t get duplicates from you Live Messenger contacts, I assume that it is the same for AIM ID. In the configured fields at the bottom it matches and updated information and pictures from Facebook and LinkedIn buy using the profile URL.

    ![image](images/7b88707dd37e_F009-image_-4-7.png)  
    { .post-img }
    **Figure: Custom field definitions**

    I had added my own twitter field and then emailed Thomas (The genius behind Memotoo) and within 6 hours not only had he added it as a standard, but he has written a basic Twitter sync point.

    So if you use an obscure profile service, or even want to add the profile of your internal corporate intranet you can…

    ![image](images/7b88707dd37e_F009-image_-1-1.png)
    { .post-img }

    The only problem I have is that Office 2010 is not currently supported by the Funambol Sync software that Memotoo recommends.

    \[Updated 7th July 2010\]

    I have found a SyncML client that does support Outlook 2010, and it is even written in .NET

    ![image](images/7b88707dd37e_F009-image_-5-8.png)  
    { .post-img }
    **Figure: SyncML.NET client will not win a beauty pageant**

    [http://sourceforge.net/projects/syncmldotnet/](http://sourceforge.net/projects/syncmldotnet/ "http://sourceforge.net/projects/syncmldotnet/")

    ### Putting it all together

    In order to get this to work, you are going to get duplicates that you are going to have to deal with. If like me you have gazillions of contacts you could end up with lots of duplicates. In fact I ended up with over 1200 duplicate matches, but once I had merged the ones I really cared about and deleted the rest of the duplicates it all fell in to place.

    ![SNAGHTML127a069](images/7b88707dd37e_F009-SNAGHTML127a069-13-13.png)
    { .post-img }

    **Figure: MrHinsh’s Single point of truth – \[Updated 7th July 2010\]**

    You will occasionally get duplicates over time, but sorting them often will keep them at bay. This pretty much covers all of your bases and I am sure that any new services will be added by Thomas (Mr Memotoo) very quickly.

    I am very happy with my contact syncing setup ![Smile](images/7b88707dd37e_F009-wlEmoticon-smile_2-18-18.png)
    { .post-img }

    Technorati Tags: [Sync](http://technorati.com/tags/Sync),[LinkedIn](http://technorati.com/tags/LinkedIn),[Live](http://technorati.com/tags/Live)
  FilePath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-07-07-the-search-for-a-single-point-of-truth\index.md
  FolderPath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-07-07-the-search-for-a-single-point-of-truth
- FrontMatter:
    title: TFS Event Handler for Team Foundation Server 2010
    description: Explore the new TFS Event Handler for Team Foundation Server 2010, designed for efficient event processing and enhanced integration. Join the discussion today!
    ResourceId: _WmwS96RyDS
    ResourceType: blog
    ResourceContentOrigin: Human
    ResourceImport: true
    ResourceImportId: 33
    ResourceImportSource: Wordpress
    ResourceImportOriginalSource: GeeksWithBlogs
    date: 2010-07-07
    weight: 840
    creator: Martin Hinshelwood
    layout: blog
    resourceTypes: blog
    slug: tfs-event-handler-for-team-foundation-server-2010
    aliases:
    - /resources/_WmwS96RyDS
    aliasesArchive:
    - /blog/tfs-event-handler-for-team-foundation-server-2010
    - /tfs-event-handler-for-team-foundation-server-2010
    - /resources/blog/tfs-event-handler-for-team-foundation-server-2010
    tags:
    - Software Development
    categories:
    - Uncategorized
    preview: metro-binary-vb-128-link-3-3.png
  BodyContent: |
    I am looking at re-working the [TFS](http://msdn2.microsoft.com/en-us/teamsystem/aa718934.aspx "Team Foundation Server") Event Handler and I was hoping that you would help me decide what handlers to build!

    \[[Request an event handler](http://tfseventhandler.codeplex.com/WorkItem/Create.aspx?ProjectName=TFSEventHandler)\]

    The original Event Handler sends emails when:

    - A work item is assigned to you
    - A work item that is assigned to you is reassigned to someone else
    - A work item that you created is assigned to someone else.

    The TFS Event Handler that I built for Team Foundation Server 2005 and Team Foundation Server 2008 used a service subscription to then handle events in a separate service host. This posed its own problems of writing the wrapper, API and host for the handlers. Well, now the Team Foundation Server team have stepped up and created their own.

    The new TFS Event Handler will use these new Server Event Sinks to process the events more efficiently and quickly, but there is also the option to handle certain decision points on the server. This opens the window for Server Side check-in policies as well as a whole host of other options. These events should run more efficiently and benefit from the entire TFS Object Model that was extremely inefficient to load in the old Event Handlers.

    There are lots of new integration points so I have listed all of the events here so you can get an idea what can be achieved.

    \[[Request an event handler](http://tfseventhandler.codeplex.com/WorkItem/Create.aspx?ProjectName=TFSEventHandler)\]

    <table border="1" cellspacing="0" cellpadding="2"><tbody><tr><td valign="top" width="230"><strong>Version Control</strong></td><td valign="top" width="63"><strong>Decision</strong></td><td valign="top" width="108"><strong>Notification</strong></td></tr><tr><td valign="top" width="230">CheckinNotification</td><td valign="top" width="63"><img style="margin: 0px 20px" alt="Has this feature" src="images/GWB-5366-o_Tick-icon-2-2.png"></td><td valign="top" width="108"><img style="margin: 0px 20px" alt="Has this feature" src="images/GWB-5366-o_Tick-icon-2-2.png"></td></tr><tr><td valign="top" width="230">PendChangesNotification</td><td valign="top" width="63"><img style="margin: 0px 20px" alt="Has this feature" src="images/GWB-5366-o_Tick-icon-2-2.png"></td><td valign="top" width="108"><img style="margin: 0px 20px" alt="Does not have this feature" src="images/GWB-5366-o_Error-icon-1-1.png"></td></tr><tr><td valign="top" width="230">UndoPendingChangesNotification</td><td valign="top" width="63"><img style="margin: 0px 20px" alt="Has this feature" src="images/GWB-5366-o_Tick-icon-2-2.png"></td><td valign="top" width="108"><img style="margin: 0px 20px" alt="Has this feature" src="images/GWB-5366-o_Tick-icon-2-2.png"></td></tr><tr><td valign="top" width="230">ShelvesetNotification</td><td valign="top" width="63"><img style="margin: 0px 20px" alt="Has this feature" src="images/GWB-5366-o_Tick-icon-2-2.png"></td><td valign="top" width="108"><img style="margin: 0px 20px" alt="Has this feature" src="images/GWB-5366-o_Tick-icon-2-2.png"></td></tr><tr><td valign="top" width="230">WorkspaceNotification</td><td valign="top" width="63"><img style="margin: 0px 20px" alt="Has this feature" src="images/GWB-5366-o_Tick-icon-2-2.png"></td><td valign="top" width="108"><img style="margin: 0px 20px" alt="Has this feature" src="images/GWB-5366-o_Tick-icon-2-2.png"></td></tr><tr><td valign="top" width="230">LabelNotification</td><td valign="top" width="63"><img style="margin: 0px 20px" alt="Does not have this feature" src="images/GWB-5366-o_Error-icon-1-1.png"></td><td valign="top" width="108"><img style="margin: 0px 20px" alt="Has this feature" src="images/GWB-5366-o_Tick-icon-2-2.png"></td></tr><tr><td valign="top" width="230">CodeChurnCompletedNotification</td><td valign="top" width="63"><img style="margin: 0px 20px" alt="Does not have this feature" src="images/GWB-5366-o_Error-icon-1-1.png"></td><td valign="top" width="108"><img style="margin: 0px 20px" alt="Has this feature" src="images/GWB-5366-o_Tick-icon-2-2.png"></td></tr></tbody></table>

    **Figure: Version Control events**

    <table border="1" cellspacing="0" cellpadding="2"><tbody><tr><td valign="top" width="230"><strong>Build</strong></td><td valign="top" width="63"><strong>Decision</strong></td><td valign="top" width="108"><strong>Notification</strong></td></tr><tr><td valign="top" width="230">BuildCompletionNotificationEvent</td><td valign="top" width="63"><img style="margin: 0px 20px" alt="Does not have this feature" src="images/GWB-5366-o_Error-icon-1-1.png"></td><td valign="top" width="108"><img style="margin: 0px 20px" alt="Has this feature" src="images/GWB-5366-o_Tick-icon-2-2.png"></td></tr><tr><td valign="top" width="230">BuildQualityChangedNotificationEvent</td><td valign="top" width="63"><img style="margin: 0px 20px" alt="Does not have this feature" src="images/GWB-5366-o_Error-icon-1-1.png"></td><td valign="top" width="108"><img style="margin: 0px 20px" alt="Has this feature" src="images/GWB-5366-o_Tick-icon-2-2.png"></td></tr></tbody></table>

    **Figure: Work Item Tracking events**

    <table border="1" cellspacing="0" cellpadding="2"><tbody><tr><td valign="top" width="230">Work Item Tracking</td><td valign="top" width="63"><strong>Decision</strong></td><td valign="top" width="108">&nbsp;</td></tr><tr><td valign="top" width="230">WorkItemChangedEvent</td><td valign="top" width="63"><img style="margin: 0px 20px" alt="Does not have this feature" src="images/GWB-5366-o_Error-icon-1-1.png"></td><td valign="top" width="108"><img style="margin: 0px 20px" alt="Has this feature" src="images/GWB-5366-o_Tick-icon-2-2.png"></td></tr><tr><td valign="top" width="230">WorkItemMetadataChangedNotification</td><td valign="top" width="63"><img style="margin: 0px 20px" alt="Does not have this feature" src="images/GWB-5366-o_Error-icon-1-1.png"></td><td valign="top" width="108"><img style="margin: 0px 20px" alt="Has this feature" src="images/GWB-5366-o_Tick-icon-2-2.png">minimal</td></tr><tr><td valign="top" width="230">WorkItemsDestroyedNotification</td><td valign="top" width="63"><img style="margin: 0px 20px" alt="Does not have this feature" src="images/GWB-5366-o_Error-icon-1-1.png"></td><td valign="top" width="108"><img style="margin: 0px 20px" alt="Has this feature" src="images/GWB-5366-o_Tick-icon-2-2.png">minimal</td></tr></tbody></table>

    **Figure: Team Build Events**

    <table border="1" cellspacing="0" cellpadding="2"><tbody><tr><td valign="top" width="230"><strong>Test Management</strong></td><td valign="top" width="63"><strong>Decision</strong></td><td valign="top" width="108"><strong>Notification</strong></td></tr><tr><td valign="top" width="230">TestSuiteChangedNotification</td><td valign="top" width="63"><img style="margin: 0px 20px" alt="Does not have this feature" src="images/GWB-5366-o_Error-icon-1-1.png"></td><td valign="top" width="108"><img style="margin: 0px 20px" alt="Has this feature" src="images/GWB-5366-o_Tick-icon-2-2.png"></td></tr><tr><td valign="top" width="230">TestRunChangedNotification</td><td valign="top" width="63"><img style="margin: 0px 20px" alt="Does not have this feature" src="images/GWB-5366-o_Error-icon-1-1.png"></td><td valign="top" width="108"><img style="margin: 0px 20px" alt="Has this feature" src="images/GWB-5366-o_Tick-icon-2-2.png"></td></tr><tr><td valign="top" width="230">TestPlanChangedNotification</td><td valign="top" width="63"><img style="margin: 0px 20px" alt="Does not have this feature" src="images/GWB-5366-o_Error-icon-1-1.png"></td><td valign="top" width="108"><img style="margin: 0px 20px" alt="Has this feature" src="images/GWB-5366-o_Tick-icon-2-2.png"></td></tr><tr><td valign="top" width="230">TestCaseResultChangedNotification</td><td valign="top" width="63"><img style="margin: 0px 20px" alt="Does not have this feature" src="images/GWB-5366-o_Error-icon-1-1.png"></td><td valign="top" width="108"><img style="margin: 0px 20px" alt="Has this feature" src="images/GWB-5366-o_Tick-icon-2-2.png"></td></tr><tr><td valign="top" width="230">TestPointChangedNotification</td><td valign="top" width="63"><img style="margin: 0px 20px" alt="Does not have this feature" src="images/GWB-5366-o_Error-icon-1-1.png"></td><td valign="top" width="108"><img style="margin: 0px 20px" alt="Has this feature" src="images/GWB-5366-o_Tick-icon-2-2.png"></td></tr><tr><td valign="top" width="230">TestRunCoverageUpdatedNotification</td><td valign="top" width="63"><img style="margin: 0px 20px" alt="Does not have this feature" src="images/GWB-5366-o_Error-icon-1-1.png"></td><td valign="top" width="108"><img style="margin: 0px 20px" alt="Has this feature" src="images/GWB-5366-o_Tick-icon-2-2.png"></td></tr><tr><td valign="top" width="230">BuildCoverageUpdatedNotification</td><td valign="top" width="63"><img style="margin: 0px 20px" alt="Does not have this feature" src="images/GWB-5366-o_Error-icon-1-1.png"></td><td valign="top" width="108"><img style="margin: 0px 20px" alt="Has this feature" src="images/GWB-5366-o_Tick-icon-2-2.png"></td></tr><tr><td valign="top" width="230">TestConfigurationChangedNotification</td><td valign="top" width="63"><img style="margin: 0px 20px" alt="Does not have this feature" src="images/GWB-5366-o_Error-icon-1-1.png"></td><td valign="top" width="108"><img style="margin: 0px 20px" alt="Has this feature" src="images/GWB-5366-o_Tick-icon-2-2.png"></td></tr></tbody></table>

    **Figure: Test Manager Events**

    <table border="1" cellspacing="0" cellpadding="2"><tbody><tr><td valign="top" width="230"><strong>Framework</strong></td><td valign="top" width="63"><strong>Decision</strong></td><td valign="top" width="108"><strong>Notification</strong></td></tr><tr><td valign="top" width="230">StructureChangedNotification</td><td valign="top" width="63"><img style="margin: 0px 20px" alt="Does not have this feature" src="images/GWB-5366-o_Error-icon-1-1.png"></td><td valign="top" width="108"><img style="margin: 0px 20px" alt="Has this feature" src="images/GWB-5366-o_Tick-icon-2-2.png"></td></tr><tr><td valign="top" width="230">AuthorizationChangedNotification</td><td valign="top" width="63"><img style="margin: 0px 20px" alt="Does not have this feature" src="images/GWB-5366-o_Error-icon-1-1.png"></td><td valign="top" width="108"><img style="margin: 0px 20px" alt="Has this feature" src="images/GWB-5366-o_Tick-icon-2-2.png"></td></tr><tr><td valign="top" width="230">IdentityChangedNotification</td><td valign="top" width="63"><img style="margin: 0px 20px" alt="Does not have this feature" src="images/GWB-5366-o_Error-icon-1-1.png"></td><td valign="top" width="108"><img style="margin: 0px 20px" alt="Has this feature" src="images/GWB-5366-o_Tick-icon-2-2.png"></td></tr><tr><td valign="top" width="230">SecurityChangedNotification</td><td valign="top" width="63"><img style="margin: 0px 20px" alt="Has this feature" src="images/GWB-5366-o_Tick-icon-2-2.png"></td><td valign="top" width="108"><img style="margin: 0px 20px" alt="Has this feature" src="images/GWB-5366-o_Tick-icon-2-2.png"></td></tr><tr><td valign="top" width="230">SendEmailNotification</td><td valign="top" width="63"><img style="margin: 0px 20px" alt="Has this feature" src="images/GWB-5366-o_Tick-icon-2-2.png"></td><td valign="top" width="108"><img style="margin: 0px 20px" alt="Does not have this feature" src="images/GWB-5366-o_Error-icon-1-1.png"></td></tr><tr><td valign="top" width="230">HostReadyEvent</td><td valign="top" width="63"><img style="margin: 0px 20px" alt="Does not have this feature" src="images/GWB-5366-o_Error-icon-1-1.png"></td><td valign="top" width="108"><img style="margin: 0px 20px" alt="Has this feature" src="images/GWB-5366-o_Tick-icon-2-2.png"></td></tr></tbody></table>

    **Figure: Framework Events**

    I will do a series of blog posts as I build the handlers so you can build your own, but I wanted to get the most common cases pre-built and ready to go. I know that emailing an assignment is a good one to start with, but what else do you see on the cards?

    The Email handlers would not work so well in the Scrum environment, but what would?

    \[[Request an event handler](http://tfseventhandler.codeplex.com/WorkItem/Create.aspx?ProjectName=TFSEventHandler)\]

    Technorati Tags: [TFS](http://technorati.com/tags/TFS),[TFS 2010](http://technorati.com/tags/TFS+2010),[TFS Custom](http://technorati.com/tags/TFS+Custom)
  FilePath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-07-07-tfs-event-handler-for-team-foundation-server-2010\index.md
  FolderPath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-07-07-tfs-event-handler-for-team-foundation-server-2010
- FrontMatter:
    title: Active Directory Groups not Syncing with Team Foundation Server 2010
    description: Discover solutions for syncing Active Directory groups with Team Foundation Server 2010. Streamline your security and enhance user management effectively!
    ResourceId: Rfu6uP301x2
    ResourceType: blog
    ResourceContentOrigin: Human
    ResourceImport: true
    ResourceImportId: 32
    ResourceImportSource: Wordpress
    ResourceImportOriginalSource: GeeksWithBlogs
    date: 2010-07-07
    weight: 840
    creator: Martin Hinshelwood
    layout: blog
    resourceTypes: blog
    slug: active-directory-groups-not-syncing-with-team-foundation-server-2010
    aliases:
    - /resources/Rfu6uP301x2
    aliasesArchive:
    - /blog/active-directory-groups-not-syncing-with-team-foundation-server-2010
    - /active-directory-groups-not-syncing-with-team-foundation-server-2010
    - /resources/blog/active-directory-groups-not-syncing-with-team-foundation-server-2010
    tags:
    - Software Development
    - Troubleshooting
    - Windows
    - Install and Configuration
    - System Configuration
    preview: metro-SSWLogo-128-link-7-7.png
    categories:
    - Uncategorized
  BodyContent: |
    ![](images/symbol-error.png)For a little while now I had been investigating an odd occurrence in Team Foundation Server. Users added to Active Directory groups have not been filtering back into the Team Foundation Server groups cache. The meant that we had to add users directly to Team Foundation Server in order to give them permission. While this was not ideal, it did not really inconvenience us that much, but we are now trying to streamline our security and need it fixed.
    { .post-img }

    Updated 27th July 2010 – SOLUTION - Craig Harry spoke to a couple of the product team guys for both TFS and Active Directory and they came up with a temporary solution.

    ---

    Although we do not have a high turnover of core staff, we take on a lot of developers for Work Experience and we now have three guys in the root Project Collection Administrators when we already have an Active Directory group the are in added at this level.

    ![clip_image002](images/ADGroupsnotSyncingwithTeamFoundationServ_DEC1-clip_image002_-1-1.jpg)
    { .post-img }

    **Figure: These are all work experience, and are in the AD group, but don’t show in the AD group SSW2000Developers on the TFS server**

    Snapshots from **the SSW2000Developers** groups (as records on the TFS server)

    ![clip_image004](images/ADGroupsnotSyncingwithTeamFoundationServ_DEC1-clip_image004_-2-2.jpg)
    { .post-img }

    ![clip_image006](images/ADGroupsnotSyncingwithTeamFoundationServ_DEC1-clip_image006_-3-3.jpg)
    { .post-img }

    ![clip_image008](images/ADGroupsnotSyncingwithTeamFoundationServ_DEC1-clip_image008_-4-4.jpg)
    { .post-img }

    **Figure: TFS does not show these guys even though they are in AD**

    Now, don’t get me started as to why all developers get Project Collection Admin! It better than in TFS 2008 when they all have Server admin, but we have not yet tackled the security model update that we need. We have over 170 Team Projects and I have not yet had the time to go through and add them all in. Yes I know I could build a tool for that, but again, I have not yet had the time.

    The first thing to look at is the Event Log, but as you can see there are rather a lot of entries, over 13000 of them so applying a filter to just the TFS events is a good idea.

    ![image](images/ADGroupsnotSyncingwithTeamFoundationServ_DEC1-image_-5-5.png) **Figure: Check the event log for common errors**
    { .post-img }

    You can see the hourly “TFS Services” errors, and in fact they reoccur every 24 hours. If you check the 3071 error you will see that the core error is TF53010 that is caused by a timeout in the “Team Foundation Server Identity Synchronization job”.

    > The description for Event ID 3071 from source TFS Services cannot be found. Either the component that raises this event is not installed on your local computer or the installation is corrupted. You can install or repair the component on the local computer.
    >
    > If the event originated on another computer, the display information had to be saved with the event.
    >
    > The following information was included with the event:
    >
    > TF53010: The following error has occurred in a Team Foundation component or extension: Date (UTC): 7/07/2010 1:38:49 PM Machine: BASALISK Application Domain: TfsJobAgent.exe Assembly: Microsoft.TeamFoundation.Framework.Server, Version=10.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a; v2.0.50727 Service Host: fba54aae-87d6-47bf-a192-0e58693b9ade (TEAM FOUNDATION) Process Details: Process Name: TFSJobAgent Process Id: 7976 Thread Id: 9136 Account name: NT AUTHORITYNETWORK SERVICE
    >
    > Detailed Message: The Team Foundation Server Identity Synchronization job has timed out. Please restart the job service.
    >
    > the message resource is present but the message is not found in the string/message table **\-Event Log entry from TFS Server**

    The next thing you want to look for is the job definition. Is it there and is it configured correctly. To do this you need to run some SQL on your TFS server. Please remember that you loose support if you make changes to the data without the aid of MSFT Support. Note that I am not doing this alone, Mr Craig Harry MSFT has my back on this one.

    ```
    USING tfs_Configuration
    SELECT TOP 1000 *
    FROM [Tfs_Configuration].[dbo].[tbl_JobDefinition]
    WHERE JobId='544DD581-F72A-45A9-8DE0-8CD3A5F29DFE'
    ```

    You will likely get the following single entry returned by SQL Server.

    <table border="0" width="590" cellspacing="0" cellpadding="4"><tbody><tr><td align="right" valign="top" width="116">JobId:</td><td valign="top" width="472">544DD581-F72A-45A9-8DE0-8CD3A5F29DFE</td></tr><tr><td align="right" valign="top" width="116">JobName:</td><td valign="top" width="472">Team Foundation Server Periodic Identity Synchronization</td></tr><tr><td align="right" valign="top" width="116">ExtensionName:</td><td valign="top" width="472">Microsoft.TeamFoundation.JobService.Extensions.Core.IdentitySyncJobExtension</td></tr><tr><td align="right" valign="top" width="116">Data:</td><td valign="top" width="472">NULL</td></tr><tr><td align="right" valign="top" width="116">EnabledState:</td><td valign="top" width="472">0</td></tr><tr><td align="right" valign="top" width="116">Flags:</td><td valign="top" width="472">0</td></tr><tr><td align="right" valign="top" width="116">LastExecutionTime:</td><td valign="top" width="472">NULL</td></tr></tbody></table>

    **Figure: Job Definition returned from SQL for the AD Sync job**

    Looks OK to me, and as I understand it is normal for the LastExecution to be NULL.

    The next thing to check is the history for the Job runs.

    ```
    USING tfs_Configuration
    SELECT TOP 1000 *
    FROM [Tfs_Configuration].[dbo].[tbl_JobHistory]
    WHERE JobId='544DD581-F72A-45A9-8DE0-8CD3A5F29DFE'
    ```

    You will hopefully not get the same result as me:

    <table border="0" width="401" cellspacing="0" cellpadding="2"><tbody><tr><td align="right" valign="top" width="111">HistoryId:</td><td valign="top" width="288">519100</td></tr><tr><td align="right" valign="top" width="111">JobSource:</td><td valign="top" width="288">FBA54AAE-87D6-47BF-A192-0E58693B9ADE</td></tr><tr><td align="right" valign="top" width="111">JobId:</td><td valign="top" width="288">544DD581-F72A-45A9-8DE0-8CD3A5F29DFE</td></tr><tr><td align="right" valign="top" width="111">QueueTime:</td><td valign="top" width="288">2010-04-21 01:00:00.000</td></tr><tr><td align="right" valign="top" width="111">StartTime:</td><td valign="top" width="288">2010-04-21 01:00:00.597</td></tr><tr><td align="right" valign="top" width="111">EndTime:</td><td valign="top" width="288">2010-07-02 16:34:13.653</td></tr><tr><td align="right" valign="top" width="111">AgentId:</td><td valign="top" width="288">5D5939AB-4F76-4BDC-A518-FC09EC352152</td></tr><tr><td align="right" valign="top" width="111">Result:</td><td valign="top" width="288">7</td></tr><tr><td align="right" valign="top" width="111">ResultMessage:</td><td valign="top" width="288">NULL</td></tr><tr><td align="right" valign="top" width="111">QueuedReasons:</td><td valign="top" width="288">1</td></tr><tr><td align="right" valign="top" width="111">QueueFlags:</td><td valign="top" width="288">0</td></tr></tbody></table>

    **Figure: Data from the Job History table shows something interesting**

    Because of the timeout in the error message above the TFS Job Agent has marked the job as “Inactive” with a 7 above.

    So, how do we figure out what can we do to try and identify where the problem is. Well its time to enable the built in tracing functionality and look at what is going on and where the error is occurring.

    The job agent is located in “C:Program FilesMicrosoft Team Foundation Server 2010Application TierTFSJobAgent” and you need to edit the “TfsJobAgent.exe.config” file to enable the trace. This file is stored in a location that needs admin access to the folders, so start notepad in Administrator mode and find the trace section and uncomment the Listners.

    ```
    <trace autoflush="false" indentsize="4">
      <!--To enable tracing to file, simply uncomment listeners section and set trace switch(es) below.
          Directory specified for TextWriterTraceListener output must exist, and job agent service account must have write permissions. -->
      <!--<listeners>
        <add name="myListener"
          type="System.Diagnostics.TextWriterTraceListener"
          initializeData="C:tempjobagent.log" />
        <remove name="Default" />
      </listeners>-->
    </trace>
    ```

    You can see on lines 4 and 9 there is the standard XML/HTML comments and you just need to remove them and set the “initializeData” attribute to a location that you can write to; this is usually “c:temp”.

    Once you have that there is one more thing to do. Usually traces are broken up into categories and we want to enable verbose tracing on at least the “General”, “API” and “Authentication” switches.

    ```
    <switches>
      <!-- Trace Switches
            Each of the trace switches should be set to a value between 0 and 4, inclusive.
              0: No trace output
              1-4: Increasing levels of trace output; see Systems.Diagnostics.TraceLevel-->
      <add name="API" value="0" />
      <add name="Authentication" value="0" />
      <add name="Authorization" value="0" />
      <add name="Database" value="0" />
      <add name="General" value="0" />
      <add name="traceLevel" value="0" />
    </switches>
    ```

    Set the “value” attribute to a 4 for “Verbose” for those switches and save the file.

    After examining the logs Mr Harry sent me a little bit of code to run on the server… Rather innocuous looking in its terseness, but it helped isolate the issue.

    ```
    using System;
    using System.Collections.Generic;
    using System.DirectoryServices;
    using System.Linq;
    using System.Text;

    namespace ReadLocal
    {
        class Program
        {
            static void Main(string[] args)
            {
                using (DirectoryEntry de = new DirectoryEntry())
                {
                    de.Path = string.Concat("WinNT://./Administrators");
                    Console.WriteLine(de.SchemaClassName);
                    de.Path = string.Concat("WinNT://BUILTIN/Administrators");
                    Console.WriteLine(de.SchemaClassName);
                }
            }
        }
    }
    ```

    This code have been running on the TFS server for nearly an hour with no sign of returning. The code is trying to resolve accounts against the local machine so as not to have to call out to Active Directory and make things a little faster. I am amazed that Craig was able to diagnose this over IM (Yes the code came through IM as well) and all credit should be sent in his direction.

    This is an edge case code problem on our domain and the TFS product team is going to have to speak to the Active Directory guys and see if it is a domain setting change or a hotfix that is needed.

    Craig spoke to the relevant guys and it seams that although they will be fixing the code and releasing a hotfix, there is a work around for the problem.

    If you remove the “BUILTINAdministrators” group from the “Team Foundation Administrators” group the code takes a different path and does not encounter the hang.

    ![image](images/ADGroupsnotSyncingwithTeamFoundationServ_DEC1-image_-6-6.png) **Figure: Open “Team Foundation Server Administration Console | Application Tier | Group Membership | \[TEAM FOUNDATION\]Team Foundation Administrators” and remove the “BUILTINAdministrators” group.**
    { .post-img }

    I then restarted the “Team Foundation Server Job Agent” service and after a few minutes the problem above had resolved itself correctly.

    Technorati Tags: [TFS](http://technorati.com/tags/TFS),[TFS 2010](http://technorati.com/tags/TFS+2010)
  FilePath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-07-07-active-directory-groups-not-syncing-with-team-foundation-server-2010\index.md
  FolderPath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-07-07-active-directory-groups-not-syncing-with-team-foundation-server-2010
- FrontMatter:
    title: Changing the Team Project Collection of the Team Build Controller
    description: Learn how to change the Team Project Collection of the Team Build Controller in TFS 2010 for seamless builds and efficient project management. Get started now!
    ResourceId: n7Y4Ij-CPvp
    ResourceType: blog
    ResourceContentOrigin: Human
    ResourceImport: true
    ResourceImportId: 35
    ResourceImportSource: Wordpress
    ResourceImportOriginalSource: GeeksWithBlogs
    date: 2010-07-05
    weight: 840
    creator: Martin Hinshelwood
    layout: blog
    resourceTypes: blog
    slug: changing-the-team-project-collection-of-the-team-build-controller
    aliases:
    - /resources/n7Y4Ij-CPvp
    aliasesArchive:
    - /blog/changing-the-team-project-collection-of-the-team-build-controller
    - /changing-the-team-project-collection-of-the-team-build-controller
    - /resources/blog/changing-the-team-project-collection-of-the-team-build-controller
    tags:
    - Install and Configuration
    - Software Development
    - System Configuration
    preview: metro-SSWLogo-128-link-6-6.png
    categories:
    - Uncategorized
  BodyContent: |
    ![BuildIcon_Large](images/ab2235c2ab06_E4A0-BuildIcon_Large_-1-1.png)
    { .post-img }

    When you are doing demos or training for Team Foundation Server 2010 (TFS 2010) you may have multiple Team Project Collections (TPC) for different scenarios or process templates. You may even be attaching a pre-built TPC image so you can start from a particular point. If you try to do create a build you will find that it complains about there not being a Team Build Controller (TBC).

    ---

    One thing you learn very quickly when working with TFS 2010 is that you can only attach ONE Team Build Controller to ONE Team Project Collection. This one-one relationship can cause issues if you have many Team Project Collections because there can only be one Team Project Collection configured per server.

    ![](images/image12.png)  
    { .post-img }
    **Figure: Two Team Project Collections**

    This means that if you have 2 Team Project Collection you will need two serve to manage the builds. It can be the same server as your build server, but that depends on your throughput and load.

    In the presentation scenario you will need to reconfigure your Team Build Controller on the fly. But how do you do this.

    If you open the Team Foundation Server Administration Console you will see a “Build Configuration” node. If you select this it will show all of the configuration options for your build server on that box.

    ![image](images/ab2235c2ab06_E4A0-image_-5-5.png)  
    { .post-img }
    **Figure: Team Build Configuration screen shows the Controller and any Agents running on that server**

    In this case this is our TFS server and we only have the Build Controller running with no Agent. We run all of the agents on another box as it takes lots of processor to do a build and we don’t want that impacting our TFS server.

    In order to make the change, we need to alter the options not on the Controller instance itself, but on the Build Service Instance.

    ![image](images/ab2235c2ab06_E4A0-image_-4-4.png)  
    { .post-img }
    **Figure: Change the options on the service instance**

    Select the “Properties” option on the Build service and then stop the service to make the changes.

    ![image](images/ab2235c2ab06_E4A0-image_-3-3.png)  
    { .post-img }
    **Figure: The Build Service Properties are only available when the service is stopped**

    ![image](images/ab2235c2ab06_E4A0-image_-2-2.png)  
    { .post-img }
    **Figure: Select any server and then Project Collection you want to bind to**

    You need to select the server and then the Team Project Collection that you want to bind to. In fact you could have this Build Service bind to any Team Foundation Server even if the current server hosts TFS. I don’t know why you would want to, but it is possible.

    Now that you have the Build Service configured to work against your new Team Project Collection the Build Controller and any Build Agents configured under it will now work for that collection.

    You can now go forth and create builds…

    Technorati Tags: [ALM](http://technorati.com/tags/ALM),[TFBS](http://technorati.com/tags/TFBS),[TFS 2010](http://technorati.com/tags/TFS+2010)
  FilePath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-07-05-changing-the-team-project-collection-of-the-team-build-controller\index.md
  FolderPath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-07-05-changing-the-team-project-collection-of-the-team-build-controller
- FrontMatter:
    title: 'SSW Brain Quest: Team Foundation Server and SharePoint 2010 (London)'
    description: Join the SSW Brain Quest in London to master Team Foundation Server and SharePoint 2010. Enhance your project management skills and boost productivity!
    ResourceId: 8OkQ_qWcpPi
    ResourceType: blog
    ResourceContentOrigin: Human
    ResourceImport: true
    ResourceImportId: 36
    ResourceImportSource: Wordpress
    ResourceImportOriginalSource: GeeksWithBlogs
    date: 2010-07-02
    weight: 690
    creator: Martin Hinshelwood
    layout: blog
    resourceTypes: blog
    slug: ssw-brain-quest-team-foundation-server-and-sharepoint-2010-london
    aliases:
    - /resources/8OkQ_qWcpPi
    - /resources/blog/ssw-brain-quest-team-foundation-server-and-sharepoint-2010-london
    aliasesArchive:
    - /blog/ssw-brain-quest-team-foundation-server-and-sharepoint-2010-london
    - /ssw-brain-quest-team-foundation-server-and-sharepoint-2010-london
    - /ssw-brain-quest--team-foundation-server-and-sharepoint-2010-(london)
    - /blog/ssw-brain-quest--team-foundation-server-and-sharepoint-2010-(london)
    - /resources/blog/ssw-brain-quest-team-foundation-server-and-sharepoint-2010-london
    tags:
    - Software Development
    categories:
    - Uncategorized
    preview: metro-sharepoint-128-link-1-1.png
  BodyContent: |
    ![thumb_SharePoint_and_TFS_2010](images/SSWBrainQuestTeamFoundationServerandShar_955C-thumb_SharePoint_and_TFS_2010_-4-4.jpg)If you are unable to commit to the 5 day [Professional Scrum Developer](http://blog.hinshelwood.com/archive/2010/06/18/professional-scrum-developer-.net-training-in-london.aspx) course we are holding in London, [Adam Cogan](http://www.ssw.com.au/ssw/Employees/EmployeesProfile.aspx?EmpID=AC) is running his famous [Brain Quest](http://www.ssw.com.au/ssw/Events/Brain-Quest-VisualStudio2010-TFS2010-Sharepoint2010.aspx) 1 day session on Wednesday 21st July.
    { .post-img }

    This full day training course brings developers up-to-speed on the new features and benefits of Visual Studio 2010 Ultimate, Team Foundation Server 2010 and SharePoint 2010. With detailed insight into project management, requirements gathering, user stories, testing, workflow, document management and Office integration, attendees will leave with a strong understanding of how to embrace [TFS](http://msdn2.microsoft.com/en-us/teamsystem/aa718934.aspx "Team Foundation Server") 2010 and SharePoint 2010 in their organization.

    ---

    This course is split into two parts and you can attend one (£61.08) or both (£105.51). Sorry for the crazy prices, but you know these Aussies…

    These two sessions are fantastic and for the price I think you will find it difficult to argue that it is over priced.

    [![image](images/SSWBrainQuestTeamFoundationServerandShar_955C-image_-2-2.png)](http://www.ssw.com.au/ssw/Events/Brain-Quest-VisualStudio2010-TFS2010-Sharepoint2010.aspx)
    { .post-img }

    Here is a break down of the [SSW Brain Quest: Team Foundation Server and SharePoint 2010](http://www.ssw.com.au/ssw/Events/Brain-Quest-VisualStudio2010-TFS2010-Sharepoint2010.aspx) and agenda for the day.

    #### Session 1: Team Foundation Server 2010

    ### Team Foundation Server 2010 (TFS) for Successful Project Management

    Visual Studio Ultimate (formerly Visual Studio Team System (VSTS)) and Team Foundation Server (TFS) are the cornerstones of development on the Microsoft .NET platform. These are the best tools for a project manager to have successful projects and for the developers to have a focused and smooth software development process.

    Come and see Adam Cogan, Microsoft Regional Director, [Visual Studio Team System](http://msdn2.microsoft.com/en-us/teamsystem/default.aspx "Visual Studio Team System") Champ and Chief Architect from SSW show you:

    - How to successfully gather requirements with User stories
    - The right way to use work items
    - The way to complete a work items and send a 'done'
    - How to use templates for your standard work items
    - The extra work items that developers always forget
    - What is good and bad about Excel and Project integration
    - What you can use from the built in reporting as well as the Project portals available from the SharePoint dashboard
    - The important reports to give your Project Manager

    Walk away knowing how to see your project health and progress. Visual Studio Ultimate is designed to help address many of these traditional problems faced by project managers. It does so by providing a set of integrated tools to help teams improve their software development activities and to help project managers better support the software development processes.

    During this session we will cover the lifecycle of creating work items and tracking of releases using Visual Studio Ultimate and Team Foundation Server.

    ### Visual Studio 2010 Team System - An Overview

    Microsoft Visual Studio 2010 Team System is an integrated software development platform to build the mission-critical applications that businesses depend on. It extends Visual Studio's integrated and productive experience from the developer to the entire development team by delivering powerful new role-based tools for software architects, developers, testers and project managers. In this session you will see an overview of these tools and how they can improve your software development cycle.

    ### Visual Studio 2010 Testing with Team Foundation Server (TFS) 2010 - the life of a bug

    Visual Studio 2010 makes up a large part of a .Net developers life. This session will delve into the 'life of a bug' by taking a walk in the shoes of an everyday bug from discovery to release (and the steps that make up the in between). Come along and check out the new features that will make you happier by making your code better, your job easier, and your team more productive by reducing the obstacles you face in your everyday coding life. Learn:

    - What the new features for testers and developers
    - How you now care - even if the tester can't reproduce the bug
    - How to stop struggling to find the source of the bug in your code
    - How can you streamline the testing process and make sure you don't repeat the same bugs
    - How to automate more and reproduce bugs easier and discover problems sooner.

    #### Session 2: SharePoint 2010

    ### What's new in SharePoint 2010

    In this session Adam Cogan will provide information about what is new in SharePoint 2010 and his personal favourites. The SharePoint Team has invested in many including:

    - UX support for Silverlight and Ajax
    - Their Web Content Management System
    - Digital Asset Management System (for videos)
    - Visual Studio 2010 tools for SharePoint 2010
    - Developer Platform
    - Office 2010 integration
    - RESTful Web API
    - Tagging and Rating

    Lets see what's good and what's not.

    ### Something About Mary (SharePoint and Office 2010)

    Come see Adam Cogan explain what works well with SharePoint and Office for Mary and the other knowledge workers.

    First you will get an overview of what is great about having SharePoint in your business. Then see real world examples of:

    - Using SharePoint 2010 and Office 2010 together
    - Where it fits with other important Microsoft products like CRM 4 and TFS
    - Examples of how Word and Excel can be integrated into business processes (separate from SharePoint)
    - Examples of how Word, Excel, PowerPoint can be combined with SharePoint to improve visibility/searchability/versioning across the company
    - Overview of how data can be synchronized between SharePoint and external data sources (eg using Access and Excel)
    - Overview of what 'workflow' (really!) means
    - How Office can be incorporated into company workflows with SharePoint
    - Extending SharePoint with Office SharePoint Designer 2010 (free!)
    - Where VBA and VSTO fit in terms of how solutions can be developed
    - Examples of other interesting Office/SharePoint integrations (eg the the Atlassian SharePoint Connector and Atlassian Office Connector)

    This is a good chance for you to consider new ways of using Office in your company, along with pitfalls to avoid. Adam gets excited about this session because too often companies limit Office to just an email application, word processor and spreadsheet - completely missing the positive impact it can have on the entire business process.

    #### Agenda

    ### Session 1: Team Foundation Server

    9:00am – 1pm  with a 15 minute break

    ### Session 2: SharePoint 2010

    2:00pm - 6:00pm  with a 15 minute break.

    [![image[7]](images/SSWBrainQuestTeamFoundationServerandShar_955C-image7_-3-3.png)](http://www.ssw.com.au/ssw/Events/Brain-Quest-VisualStudio2010-TFS2010-Sharepoint2010.aspx)
    { .post-img }
  FilePath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-07-02-ssw-brain-quest-team-foundation-server-and-sharepoint-2010-london\index.md
  FolderPath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-07-02-ssw-brain-quest-team-foundation-server-and-sharepoint-2010-london
- FrontMatter:
    title: Professional Scrum Developer (.NET) Training in London
    description: Join the Professional Scrum Developer training in London to enhance your .NET skills, collaborate in teams, and master Agile practices. Sign up now!
    ResourceId: 3N171wqPaTf
    ResourceType: blog
    ResourceContentOrigin: Human
    ResourceImport: true
    ResourceImportId: 37
    ResourceImportSource: Wordpress
    ResourceImportOriginalSource: GeeksWithBlogs
    date: 2010-06-18
    weight: 340
    creator: Martin Hinshelwood
    layout: blog
    resourceTypes: blog
    slug: professional-scrum-developer-net-training-in-london
    aliases:
    - /resources/3N171wqPaTf
    - /resources/blog/professional-scrum-developer-.net-training-in-london
    aliasesArchive:
    - /blog/professional-scrum-developer-net-training-in-london
    - /professional-scrum-developer-net-training-in-london
    - /professional-scrum-developer-(-net)-training-in-london
    - /blog/professional-scrum-developer-(-net)-training-in-london
    - /resources/blog/professional-scrum-developer-net-training-in-london
    - /resources/blog/professional-scrum-developer-.net-training-in-london
    tags:
    - Professional Scrum
    - Software Development
    - Agile Planning
    - Scrum Team
    - Team Collaboration
    - Technical Mastery
    - Engineering Practices
    - Working Software
    - Agile Frameworks
    - Increment
    - Product Delivery
    - Team Performance
    - Operational Practices
    - Pragmatic Thinking
    - Technical Excellence
    categories:
    - Scrum
    - Engineering Excellence
    preview: metro-event-128-link-1-1.png
  BodyContent: |
    ![SSWLogo](images/ProfessionalScrumDeveloperTraininginLond_CC39-SSWLogo_-7-7.png)On the 26th - 30th July in Microsoft’s offices in London [Adam Cogan](http://courses.scrum.org/about/adam-cogan) from SSW will be presenting the first [Professional Scrum Developer](http://www.scrum.org/professionalscrumdeveloper/) course in the UK. I will be teaching this course along side Adam and it is a fantastic experience. You are split into teams and go head-to-head to deliver units of potentially shippable work in four two hour sprints.
    { .post-img }

    Update 18th June 2010 – SSW Is offering a massive 50% discount to make this 5 day course only £1,168 but I have been told that this depends on availability so it may go back up.

    Update 05th July 2010 – One lucky attendee will be getting a copy of MSDN Ultimate.

    ---

    ![ProfessionalScrumDeveloper_200px[3]](images/ProfessionalScrumDeveloperTraininginLond_CC39-ProfessionalScrumDeveloper_200px3_-6-6.png)
    { .post-img }

    The Professional Scrum Developer course is the only course endorsed by both Microsoft and [Ken Schwaber](http://en.wikipedia.org/wiki/Ken_Schwaber) and they have worked together very effectively in brining this course to fruition. This course is the brain child of [Richard Hundhausen](http://blog.hundhausen.com/), a Microsoft Regional Director, and both Adam and I attending the Trainer Prep in Sydney when he was there earlier this year. He is a fantastic trainer and no matter where you do this course you can be safe in the knowledge that he has trained and vetted all of the teachers. A tools version of Ken if you will ![Wink](images/ProfessionalScrumDeveloperTraininginLond_CC39-wlEmoticon-wink_2-10-10.png)
    { .post-img }

    [![LondonCallToAction[1]](images/ProfessionalScrumDeveloperTraininginLond_CC39-LondonCallToAction1_-4-4.png)](http://www.ssw.com.au/ssw/events/Scrum-Training-Course.aspx?utm_source=MrHinsh&utm_medium=blog&utm_campaign=STLO01)
    { .post-img }

    If you are outside the UK you can find out where this [course is being run near you](http://courses.scrum.org/). Make sure you have a look at the [scrum guide from Scrum.org](http://www.scrum.org/scrumguides/) and the [syllabus from Accentient](http://www.accentient.com/scrum.aspx).

    With the launch of Visual Studio 2010 in April we have been furnished with a copy of MSDN Ultimate that will be given to the PSD that gets the highest score on the PSD ![Smile](images/ProfessionalScrumDeveloperTraininginLond_CC39-wlEmoticon-smile_2-9-9.png) Now there is an incentive to do well…
    { .post-img }

    ---

    # What is the Professional Scrum Developer course all about?

    ![image](images/ProfessionalScrumDeveloperTraininginLond_CC39-image_-2-2.png)Professional Scrum Developer course is a unique and intensive five-day experience for software developers. The course guides teams on how to turn product requirements into potentially shippable increments of software using the Scrum framework, Visual Studio 2010, and modern software engineering practices. Attendees will work in self-organizing, self-managing teams using a common instance of Team Foundation Server 2010.
    { .post-img }

    [![](images/ProfessionalScrumDeveloperTraininginLond_CC39-video292acb9cb756-8-8.jpg)](http://www.youtube.com/watch?v=AdLVD0avRHE)
    { .post-img }

    Figure: Sam and Ken discuss the PSD Course

    ## Who should attend this course?

    This course is suitable for any member of a software development team – architect, programmer, database developer, tester, etc. Entire teams are encouraged to attend and experience the course together, but individuals are welcome too.

    Attendees will self-organize to form cross-functional Scrum teams. These teams require an aggregate of skills specific to the selected case study. Please see the last page of this document for specific details.

    Product Owners, ScrumMasters, and other stakeholders are welcome too, but keep in mind that everyone who attends will be expected to commit to work and pull their weight on a Scrum team.

    ## What should you know by the end of the course?

    Scrum will be experienced through a combination of lecture, demonstration, discussion, and hands-on exercises. Attendees will learn how to do Scrum correctly while being coached and critiqued by the instructor, in the following topic areas:

    - Form effective teams
    - Explore and understand legacy “Brownfield” architecture
    - Define quality attributes, acceptance criteria, and “done”
    - Create automated builds
    - How to handle software hotfixes
    - Verify that bugs are identified and eliminated
    - Plan releases and sprints
    - Estimate product backlog items
    - Create and manage a sprint backlog
    - Hold an effective sprint review
    - Improve your process by using retrospectives
    - Use emergent architecture to avoid technical debt
    - Use Test Driven Development as a design tool
    - Setup and leverage continuous integration
    - Use Test Impact Analysis to decrease testing times
    - Manage SQL Server development in an Agile way
    - Use .NET and T-SQL refactoring effectively
    - Build, deploy, and test SQL Server databases
    - Create and manage test plans and cases
    - Create, run, record, and play back manual tests
    - Setup a branching strategy and branch code
    - Write more maintainable code
    - Identify and eliminate people and process dysfunctions
    - Inspect and improve your team’s software development process

    ## What does the week look like?

    This course is a mix of lecture, demonstration, group discussion, simulation, and hands-on software development. The bulk of the course will be spent working as a team on a case study application delivering increments of new functionality in mini-sprints. Here is the week at a glance:

    ![image](images/ProfessionalScrumDeveloperTraininginLond_CC39-image_-3-3.png)
    { .post-img }

    Monday morning and most of the day Friday will be spent with the computers powered off, so you can focus on sharpening your game of Scrum and avoiding the common pitfalls when implementing it.

    ## The Sprints

    Timeboxing is a critical concept in Scrum as well as in this course. We expect each team and student to understand and obey all of the timeboxes. The timebox duration will always be clearly displayed during each activity. Expect the instructor to enforce it.

    Each of the ½ day sprints will roughly follow this schedule:

    <table border="1" cellspacing="0" cellpadding="0"><tbody><tr><td valign="top" width="162"><p><b>Component</b></p></td><td valign="top" width="492"><p><b>Description</b></p></td><td valign="top" width="66"><p><b>Minutes</b></p></td></tr><tr><td valign="top" width="162"><p>Instruction</p></td><td valign="top" width="492"><p>Presentation and demonstration of new and relevant tools &amp; practices</p></td><td valign="top" width="66"><p>60</p></td></tr><tr><td valign="top" width="162"><p>Sprint planning meeting</p></td><td valign="top" width="492"><p>Product owner presents backlog; each team commits to delivering functionality</p></td><td valign="top" width="66"><p>10</p></td></tr><tr><td valign="top" width="162"><p>Sprint planning meeting</p></td><td valign="top" width="492"><p>Each team determines how to build the functionality</p></td><td valign="top" width="66"><p>10</p></td></tr><tr><td valign="top" width="162"><p>The Sprint</p></td><td valign="top" width="492"><p>The team self-organizes and self-manages to complete their tasks</p></td><td valign="top" width="66"><p>120</p></td></tr><tr><td valign="top" width="162"><p>Sprint Review meeting</p></td><td valign="top" width="492"><p>Each team will present their increment of functionality to the other teams</p></td><td valign="top" width="66"><p>≤ 30</p></td></tr><tr><td valign="top" width="162"><p>Sprint Retrospective</p></td><td valign="top" width="492"><p>A group retrospective meeting will be held to inspect and adapt</p></td><td valign="top" width="66"><p>10</p></td></tr></tbody></table>

    Each team is expected to self-organize and manage their own work during the sprint. Pairing is highly encouraged. The instructor/product owner will be available if there are questions or impediments, but will be hands-off by default. You should be prepared to communicate and work with your team members in order to achieve your sprint goal. If you have development-related questions or get stuck, your partner or team should be your first level of support.

    ### Module 1: INTRODUCTION

    This module provides a chance for the attendees to get to know the instructors as well as each other. The Professional Scrum Developer program, as well as the day by day agenda, will be explained. Finally, the Scrum team will be selected and assembled so that the [forming, storming, norming, and performing](http://en.wikipedia.org/wiki/Forming,_storming,_norming_and_performing) can begin.

    - Trainer and student introductions
    - Professional Scrum Developer program
    - Agenda
    - Logistics
    - Team formation
    - Retrospective

    ### Module 2: SCRUMDAMENTALS

    This module provides a level-setting understanding of the Scrum framework including the roles, timeboxes, and artifacts. The team will then experience Scrum firsthand by simulating a multi-day sprint of product development, including planning, review, and retrospective meetings.

    - Scrum overview
    - Scrum roles
    - Scrum timeboxes (ceremonies)
    - Scrum artifacts
    - Simulation
    - Retrospective

    It’s required that you read Ken Schwaber’s [Scrum Guide](http://www.accentient.com/downloads/ScrumGuide.pdf) in preparation for this module and course.

    ### MODULE 3: IMPLEMENTING SCRUM IN VISUAL STUDIO 2010

    This module demonstrates how to implement Scrum in Visual Studio 2010 using a Scrum process template\*. The team will learn the mapping between the Scrum concepts and how they are implemented in the tool. After connecting to the shared Team Foundation Server, the team members will then return to the simulation – this time using Visual Studio to manage their product development.

    - Mapping Scrum to Visual Studio 2010
    - User Story work items
    - Task work items
    - Bug work items
    - Demonstration
    - Simulation
    - Retrospective

    ### Module 4: THE CASE STUDY

    In this module the team is introduced to their problem domain for the week. A kickoff meeting by the Product Owner (the instructor) will set the stage for the why and what that will take during the upcoming sprints. The team will then define the quality attributes of the project and their definition of “done.” The legacy application code will be downloaded, built, and explored, so that any bugs can be discovered and reported.

    - Introduction to the case study
    - Download the source code, build, and explore the application
    - Define the quality attributes for the project
    - Define “done”
    - How to file effective bugs in Visual Studio 2010
    - Retrospective

    ### Module 5: HOTFIX

    This module drops the team directly into a [Brownfield](<http://en.wikipedia.org/wiki/Brownfield_(software_development)>) (legacy) experience by forcing them to analyze the existing application’s architecture and code in order to locate and fix the Product Owner’s high-priority bug(s). The team will learn best practices around finding, testing, fixing, validating, and closing a bug.

    - How to use Architecture Explorer to visualize and explore
    - Create a unit test to validate the existence of a bug
    - Find and fix the bug
    - Validate and close the bug
    - Retrospective

    ### Module 6: PLANNING

    This short module introduces the team to release and sprint planning within Visual Studio 2010. The team will define and capture their goals as well as other important planning information.

    - Release vs. Sprint planning
    - Release planning and the Product Backlog
    - Product Backlog prioritization
    - Acceptance criteria and tests
    - Sprint planning and the Sprint Backlog
    - Creating and linking Sprint tasks
    - Retrospective

    At this point the team will have the knowledge of Scrum, Visual Studio 2010, and the case study application to begin developing increments of potentially shippable functionality that meet their definition of done.

    ### Module 7: EMERGENT ARCHITECTURE

    This module introduces the architectural practices and tools a team can use to develop a valid design on which to develop new functionality. The teams will learn how Scrum supports good architecture and design practices. After the discussion, the teams will be presented with the product owner’s prioritized backlog so that they may select and commit to the functionality they can deliver in this sprint.

    - Architecture and Scrum
    - Emergent architecture
    - Principles, patterns, and practices
    - Visual Studio 2010 modeling tools
    - UML and layer diagrams
    - **SPRINT 1**
    - Retrospective

    ### Module 8: TEST DRIVEN DEVELOPMENT

    This module introduces Test Driven Development as a design tool and how to implement it using Visual Studio 2010. To maximize productivity and quality, a Scrum team should setup Continuous Integration to regularly build every team member’s code changes and run regression tests. Refactoring will also be defined and demonstrated in combination with Visual Studio’s Test Impact Analysis to efficiently re-run just those tests which were impacted by refactoring.

    - Continuous integration
    - Team Foundation Build
    - Test Driven Development (TDD)
    - Refactoring
    - Test Impact Analysis
    - **SPRINT 2**
    - Retrospective

    ### Module 9: AGILE DATABASE DEVELOPMENT

    This module lets the SQL Server database developers in on a little secret – they can be agile too. By using the database projects in Visual Studio 2010, the database developers can join the rest of the team. The students will see how to apply Agile database techniques within Visual Studio to support the SQL Server 2005/2008/2008R2 development lifecycle.

    - Agile database development
    - Visual Studio database projects
    - Importing schema and scripts
    - Building and deploying
    - Generating data
    - Unit testing
    - **SPRINT 3**
    - Retrospective

    ### Module 10: SHIP IT

    Teams need to know that just because they like the functionality doesn’t mean the Product Owner will. This module revisits acceptance criteria as it pertains to acceptance testing. By refining acceptance criteria into manual test steps, team members can execute the tests, recording the results and reporting bugs in a number of ways. Manual tests will be defined and executed using the Microsoft Test Manager tool. As the Sprint completes and an increment of functionality is delivered, the team will also learn why and when they should create a branch of the codeline.

    - Acceptance criteria
    - Testing in Visual Studio 2010
    - Microsoft Test Manager
    - Writing and running manual tests
    - Branching
    - **SPRINT 4**
    - Retrospective

    ### Module 11: OVERCOMING DYSFUNCTION

    This module introduces the many types of people, process, and tool dysfunctions that teams face in the real world. Many dysfunctions and scenarios will be identified, along with ideas and discussion for how a team might mitigate them. This module will enable you and your team to move toward independence and improve your game of Scrum when you depart class.

    - Scrum-butts and flaccid Scrum
    - Best practices working as a team
    - Team challenges
    - ScrumMaster challenges
    - Product Owner challenges
    - Stakeholder challenges
    - Course Retrospective

    ## What will be expected of you and you team?

    This is a unique course in that it’s technically-focused, team-based, and employs [timeboxes](http://en.wikipedia.org/wiki/Timeboxing). It demands that the members of the teams self-organize and self-manage their own work to collaboratively develop increments of software.

    All attendees must commit to:

    - Pay attention to all lectures and demonstrations
    - Participate in team and group discussions
    - Work collaboratively with other team members
    - Obey the timebox for each activity
    - Commit to work and do your best to deliver

    All teams should have these skills:

    - Understanding of Scrum
    - Familiarity with Visual Studio 201
    - C#, .NET 4.0 & ASP.NET 4.0 experience\*
    - SQL Server 2008 development experience
    - Software testing experience

    \* Check with the instructor ahead of time for the exact technologies

    ## Self-organising teams

    Another unique attribute of this course is that it’s a technical training class being delivered to _teams_ of developers, not pairs, and not individuals. Ideally, your actual software development team will attend the training to ensure that all necessary skills are covered. However, if you wish to attend an open enrolment course alone or with just a couple of colleagues, realize that you may be placed on a team with other attendees. The instructor will do his or her best to ensure that each team is cross-functional to tackle the case study, but there are no guarantees. You may be required to try a new role, learn a new skill, or pair with somebody unfamiliar to you. This is just good Scrum!

    Who should NOT take this course?

    Because of the nature of this course, as explained above, certain types of people should probably not attend this course:

    - Students requiring command and control style instruction – there are no prescriptive/step-by-step (think traditional Microsoft Learning) labs in this course
    - Students who are unwilling to work within a timebox
    - Students who are unwilling to work collaboratively on a team
    - Students who don’t have any skill in any of the software development disciplines
    - Students who are unable to commit fully to their team – not only will this diminish the student’s learning experience, but it will also impact their team’s learning experience

    ---

    [![LondonCallToAction[1]](images/ProfessionalScrumDeveloperTraininginLond_CC39-LondonCallToAction1_-5-5.png)](http://www.ssw.com.au/ssw/events/Scrum-Training-Course.aspx?utm_source=MrHinsh&utm_medium=blog&utm_campaign=STLO01)
    { .post-img }

    If you are outside the UK you can find out where this [course is being run near you](http://courses.scrum.org/). Make sure you have a look at the [scrum guide from Scrum.org](http://www.scrum.org/scrumguides/) and the [syllabus from Accentient](http://www.accentient.com/scrum.aspx).

    Technorati Tags: [Scrum](http://technorati.com/tags/Scrum),[SSW](http://technorati.com/tags/SSW),[Pro Scrum Dev](http://technorati.com/tags/Pro+Scrum+Dev)
  FilePath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-06-18-professional-scrum-developer-net-training-in-london\index.md
  FolderPath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-06-18-professional-scrum-developer-net-training-in-london
- FrontMatter:
    title: Flashing your Windows Phone 6 for Dummies
    description: Unlock your Windows Phone 6 with our step-by-step guide to flashing custom ROMs. Discover tips, tools, and risks to enhance your mobile experience!
    ResourceId: 1tC2VKI3OMf
    ResourceType: blog
    ResourceContentOrigin: Human
    ResourceImport: true
    ResourceImportId: 38
    ResourceImportSource: Wordpress
    ResourceImportOriginalSource: GeeksWithBlogs
    date: 2010-06-17
    weight: 1000
    creator: Martin Hinshelwood
    layout: blog
    resourceTypes: blog
    slug: flashing-your-windows-phone-6-for-dummies
    aliases:
    - /resources/1tC2VKI3OMf
    aliasesArchive:
    - /blog/flashing-your-windows-phone-6-for-dummies
    - /flashing-your-windows-phone-6-for-dummies
    - /resources/blog/flashing-your-windows-phone-6-for-dummies
    tags:
    - Windows
    - Install and Configuration
    categories:
    - Uncategorized
    preview: nakedalm-logo-128-link-3-3.png
  BodyContent: |
    ![image](images/FlashingyourHTCHD2withWindow.5forDummies_A588-image_-1-1.png)
    { .post-img }

    The rate at which vendors release new updates for the HD2 is ridiculously slow. You have to wait for Microsoft to release the new OS, then you wait for HTC to build it into a ROM, and then you have to wait up to 6 months for your operator to badly customise it for their network. Once Windows Phone 7 is released this problem should go away as Microsoft is likely to be able to update the phone over the air, but what do we do until then?

    I want Windows Mobile 6.5.5 now!

    ---

    I’m an early adopter. If there is a new version of something then that’s the version I want. As long as you accept that you are using something on a “let the early adopter beware” and accept that there may be bugs, sometimes serious crippling bugs the go for it.

    **Note that I won't be responsible if you end up bricking your phone, unlocking or flashing your radio or ROM can be risky. If you follow the instructions then you should be fine, I've flashed my phones (SPV, M300, M1000, M2000, M3100, TyTN, TyTN 2, HD2) hundreds of times without any problems!**

    I have been using Windows Mobile 6.5.5 before it was called 6.5.5 and for long enough that I don’t even remember when I first started using it. I was using it on my HTC TyTN 2 before I got an HD2 a couple of months before Christmas, and the first custom ROM’s for the HD2 were a couple of months after that.

    I always update to the latest ROM that I like, and occasionally I go back to the stock ROM’s to have a look see, but I am always disappointed.

    Terms:

    - **Soft Reset**: Same as pulling out the battery, but is like a reboot for your phone
    - **Hard Reset**: Reinstalls the Operating system from the Image that is stored on it
    - **ROM**: This is Image that is loaded onto your phone and it is used to reinstall your phone whenever you do a “hard reset”.
    - **Stock ROM**: A ROM from the original vendor… So HTC
    - **Cook a ROM**: Referring to Cooking a ROM is the process a ROM developer goes through to take all of the parts (OS, Drivers and Applications) that make up a running phone and compiling them into a ROM.
    - **ROM Kitchen**: A place where you get an SDK and all the component parts of the phone: OD, Drivers and Application. There are usually lots of Tools for making it easier to compile and build the image.
    - **Flashing**: The process of updating one of the layers of your phone with a new layer
    - **Bricked**: This is what happens when flashing goes wrong. Your phone is now good for only one thing… stopping paper blowing away in a windy place.

    You can “cook” you own ROM using one of the many good “ROM Kitchens” or you can use a ROM built and tested by someone else. I have cooked my own ROM before, and while the tutorials are good, it is a lot of hassle.

    You can only Flash new ROM’s that are specifically for your phone only so find a ROM for your phone and XDA Developers is the best place to look. It has a forum based structure and you can find your phone quite easily.

    [XDA Developer Forum](http://forum.xda-developers.com/index.php)

    Installing a new ROM does have its risks. In the past there have been stories about phones being “bricked” but I have not heard of a bricked phone for quite some years. if you follow the instructions carefully you should not have any problems.

    note: Most of the tools are written by people for whom English is not their first language to you will need concentrate hard to understand some of the instructions. Have you ever read a manual that was just literally translated from another language? Enough said…

    There are a number of layers on your phone that you will need to know about:

    1. **SPL**: This is the lowest level, like a BIOS on a PC and is the Operating Systems gateway to the hardware
    2. **Radio**: I think of this as the hardware drivers, and you will need a different Radio for CDMA than GSM networks
    3. **ROM**: This is like your Windows CD, but it is stored internally to the Phone. Flashing your phone consists of replacing one Image with another and then wiping your phone and automatically reinstall from the Image.

    Sometimes when you download an Image wither it is for a Radio or for ROM you only get a file called \*.nbh. What do you do with this? Well you need an RUU application to push that Image to your phone. The RUU’s are different per phone, but there is a CustomRUU for the HD2 that will update your phone with any \*.nbh placed in the same directory.

    [Download and Instructions for CustomRUU](http://forum.xda-developers.com/showthread.php?t=575524 "http://forum.xda-developers.com/showthread.php?t=575524")

    ### #1 Flash HardSPL

    An SPL is kind of like a BIOS, and the default one has checks to make sure that you are only installing a signed ROM. This would prevent you from installing one that comes from any other source but the vendor.

    **NOTE: Installing a HARD SPL invalidates your warranty so remember to Flash your phone with a “stock” vendor ROM before trying to send your phone in for repairs.**

    Is the warranty reinstated when you go back to a stock ROM? I don’t know…

    Updating your SPL to a HardSPL effectively unlocks your phone so you can install anything you like. I would recommend the HardSPL2.

    [Download and Instructions for HardSPL2](http://forum.xda-developers.com/showthread.php?t=609477 "Download and Instructions for HardSPL2")

    ### #2 Task29

    One of the problems that has been seen on the HD2 when flashing new ROM’s is that things are left over from the old ROM. For a while the recommendation was to Flash a stock ROM first, but some clever cookies have come up with “Task29” which formats your phone first. After running this your phone will be blank and will only boot to the white HTC logo and no further. You should follow the instructions and reboot (remove battery) and hold down the “volume down” button while turning you HD2 on to enter the bootloader. From here you can run CustomRUU once the USB message appears.

    [Download and Instructions for Task29](http://forum.xda-developers.com/showthread.php?t=644781 "http://forum.xda-developers.com/showthread.php?t=644781")

    ### #2 Flash Radio

    You may need to play around with this one, there is no good and bad version and the latest is not always the best. You know that annoying thing when you hit “end call” on your phone and nothing happens? Well that's down to the Radio. Get this version right for you and you may even be able to make calls. From a Windows Mobile as well ![Smile](images/FlashingyourHTCHD2withWindow.5forDummies_A588-wlEmoticon-smile_2-2-2.png)
    { .post-img }

    [Download](http://www.pilotlogic.com/artemis/htc_hd2_radio "get it from here")

    There are no instructions here, but they are the same as th ROM, but you use this \*.nbh file.

    ### #3 Flash ROM

    If you have gotten this far then you are probably a pro by now ![Smile](images/FlashingyourHTCHD2withWindow.5forDummies_A588-wlEmoticon-smile_2-2-2.png) Just download the latest ROM below and Flash to your phone. I have been really impressed by the Artemis line of ROM’s but it is no way the only choice. I like this one as the developer builds them as close to the stock ROM as possible while updating to the latest of everything.
    { .post-img }

    [Download and Instructions for  Artemis HD2 vXX](http://forum.xda-developers.com/showthread.php?t=612580 "http://forum.xda-developers.com/showthread.php?t=612580")

    ### Conclusion

    While updating your ROM is not for the faint hearted it provides more options than the Stock ROM’s and quicker feature updates than waiting…

    Technorati Tags: [WM6](http://technorati.com/tags/WM6)
  FilePath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-06-17-flashing-your-windows-phone-6-for-dummies\index.md
  FolderPath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-06-17-flashing-your-windows-phone-6-for-dummies
- FrontMatter:
    title: Ghost build controllers in Team Foundation Server
    description: Struggling with ghost build controllers in TFS? Discover effective solutions to identify and delete stubborn builds, ensuring a clean development environment.
    ResourceId: ks3BqiRqWAK
    ResourceType: blog
    ResourceContentOrigin: Human
    ResourceImport: true
    ResourceImportId: 39
    ResourceImportSource: Wordpress
    ResourceImportOriginalSource: GeeksWithBlogs
    date: 2010-06-15
    weight: 840
    creator: Martin Hinshelwood
    layout: blog
    resourceTypes: blog
    slug: ghost-team-foundation-build-controllers
    aliases:
    - /resources/ks3BqiRqWAK
    aliasesArchive:
    - /blog/ghost-team-foundation-build-controllers
    - /ghost-team-foundation-build-controllers
    - /ghost-build-controllers-in-team-foundation-server
    - /blog/ghost-build-controllers-in-team-foundation-server
    - /resources/blog/ghost-team-foundation-build-controllers
    tags:
    - Troubleshooting
    preview: metro-visual-studio-2010-128-link-4-4.png
    categories:
    - Uncategorized
  BodyContent: |
    Have you ever seen ghost build controllers in Team Foundation Server that you just can't seam to delete no matter what you do? Sometime there are builds left over in the system that were queued but never completed.

    - Update Ulf Jonson pointed out that the value for 'canceled' should be 16 and not 2 as I had stated. Thanks Ulf, updated.

    Most of the time they are easy to delete, but sometimes it takes a little effort. Even rarer are those times when something just will not go away no matter how much you try. Indeed we have had a ghost (phantom) team build controller hanging around for a while now, and it had defeated my best efforts to get rid of it.

    The build controller was from our old TFS server from before our [TFS 2010 beta 2 upgrade](http://blog.hinshelwood.com/deploying-visual-studio-2010-team-foundation-server-beta-2-done/) and was really starting to annoy me. Every time I try to delete it I get the message:

    > Controller cannot be deleted because there are build in progress  
    > \-Manage Build Controller dialog

    ![SNAGHTMLa942cd](images/Gettingridofghostteamfoundationbuildcont_9102-SNAGHTMLa942cd-2-2.png)   
    { .post-img }
    **Figure: Deleting a ghost controller does not always work.**

    I ended up checking all of our 172 Team Projects for the build that was queued, but did not find anything. [Jim Lamb](http://blogs.msdn.com/b/jimlamb/) pointed me to the “tbl_BuildQueue” table in the team Project Collection database and sure enough there was the nasty little beggar.

    ![image](images/Gettingridofghostteamfoundationbuildcont_9102-image_-1-1.png)  
    { .post-img }
    **Figure: The ghost build was easily spotted**

    Adam Cogan asked me:

    > “Why did you suspect this one?”

    Well, there are a number of things that led me to suspect it:

    - QueueId is very low: Look at the other items, they are in the thousands not single digits
    - ControllerId: I know there is only one legitimate controller, and I am assuming that 6 relates to “zzUnicorn”
    - DefinitionId: This is a very low number and I looked it up in “tbl_BuildDefinition” and it did not exist
    - QueueTime: As we did not upgrade to TFS 2010 until late 2009 a date of 2008 for a queued build is very suspect
    - Status: A status of 216 means that it is still queued

    This build must have been queued long ago when we were using TFS 2008, probably a beta, and it never got cleaned up. As controllers are new in TFS 2010 it would have created the “zzUnicorn” controller to handle any build servers that already exist. I had previously deleted the Agent, but leaving the controller just looks untidy.

    Now that the ghost build has been identified there are two options:

    - **Delete the row**  
       I would not recommend ever deleting anything from the database to achieve something in TFS. It is _really_ not supported.
    - **Set the Status to cancelled** (Recommended)  
       This is the best option as TFS will then clean it up itself

    So I set the Status of this build to 2 (cancelled) and sure enough it disappeared after a couple of minutes and I was then able to then delete the “zzUnicorn” controller.

    ![SNAGHTMLc40486](images/Gettingridofghostteamfoundationbuildcont_9102-SNAGHTMLc40486-3-3.png)  
    { .post-img }
    **Figure: Almost completely clean**

    Now all I have to do is get rid of that untidy “zzBunyip” agent, but that will require rewriting one of our build scripts which will have to wait for now.
  FilePath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-06-15-ghost-team-foundation-build-controllers\index.md
  FolderPath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-06-15-ghost-team-foundation-build-controllers
- FrontMatter:
    title: Why you need to tag your build servers in TFS
    description: Discover why tagging your build servers in TFS is essential for managing complexity and improving efficiency in your development projects. Learn more!
    ResourceId: TCVlqzWwtNc
    ResourceType: blog
    ResourceContentOrigin: Human
    ResourceImport: true
    ResourceImportId: 40
    ResourceImportSource: Wordpress
    ResourceImportOriginalSource: GeeksWithBlogs
    date: 2010-06-14
    weight: 640
    creator: Martin Hinshelwood
    layout: blog
    resourceTypes: blog
    slug: why-you-need-to-tag-your-build-servers-in-tfs
    aliases:
    - /resources/TCVlqzWwtNc
    aliasesArchive:
    - /blog/why-you-need-to-tag-your-build-servers-in-tfs
    - /why-you-need-to-tag-your-build-servers-in-tfs
    - /resources/blog/why-you-need-to-tag-your-build-servers-in-tfs
    tags:
    - Azure DevOps
    - Software Development
    - Pragmatic Thinking
    preview: metro-SSWLogo-128-link-10-10.png
    categories:
    - Uncategorized
  BodyContent: |
    ![vs2010alm](images/e6d297adc9ef_12485-vs2010alm_-4-8.png)At SSW we use gated check-in for all of our projects. The benefits are based on the number of developers you have working on your project.
    { .post-img }

    Lets say you have 30 developers and each developer breaks the build once per month. That could mean that you have a broken build every day! Gated check-ins help, but they have a down side that manifests as queued builds and moaning developers.

    ---

    The way to combat this is to have more build servers, but with that comes complexity. Inevitably you will need to install components that you would expect to be installed on target computers, but how do you keep track of which build servers have which bits?

    What about a geographically diverse team? If you have a centrally controlled infrastructure you might have build servers in multiple regions and you don’t want teams in Sydney copying files from Beijing and vice a versa on a regular basis.

    So, what is the answer. Its Tags. You can add a set of Tags to your agents and then set which tags to look for in the build definition.

    ![image](images/e6d297adc9ef_12485-image_-1-1.png)
    { .post-img }

    **Figure: Open up your Build Controller Manager**

    Select “**Build | Manage Build Controllers…**” to get a list of all of your controllers and he build agents that are associated with them.

    ![SNAGHTML1d44d1f](images/e6d297adc9ef_12485-SNAGHTML1d44d1f-6-4.png)
    { .post-img }

    **Figure: the list of build agents and their controllers**

    Each of these Agents might be subtly different. For example only one of these agents has FTP software installed. This software is required for only one of the many builds we have set up.

    My ethos for build servers is to keep them as clean as possible and not to install anything that is not absolutely necessary. For me that means anything that does not add a \*.target file is suspect, and should really be under version control and called via the command line from there.

    So, some of the things you may install are:

    - Silverlight 4 SDK
    - Visual Studio 2010
    - Visual Studio 2008
    - WIX
    - etc

    You should not install things that will not end up on the target users computer. For a website that means something different to a client than to a server, but I am sure you get the idea.

    One thing you can do to make things easier is to create a tag for each of the things that you install. that way developers can find the things they need. We may change to using a more generic tagging structure (Like “Web Application” or “WinForms Application”) if this gets too unwieldy, but for now the list of tags is limited.

    ![SNAGHTML20e2140](images/e6d297adc9ef_12485-SNAGHTML20e2140-7-5.png)  
    { .post-img }
    **Figure: Tags associated with one of our build agents**

    Once you have your Build Agents all tagged up ALL your builds will start to fail ![Smile](images/e6d297adc9ef_12485-wlEmoticon-smile_2-5-9.png)
    { .post-img }

    This is because the default setting for a build is to look for an Agent that **exactly** matches the tags for the build, and we have not added any yet. The quick way to fix this is to change the “Tag Comparison Operator” from “ExactMatch” to “MatchAtLease” to get your build immediately working.

    ![image](images/e6d297adc9ef_12485-image_-3-3.png)
    { .post-img }

    **Figure: Tag Comparison Operator changes to MatchAtLeast to get builds to run.**

    The next thing to do is look for specific tags. You just select from the list of available tags and the controller will make sure you get to a build agent that uses them.

    ![SNAGHTML2133af7](images/e6d297adc9ef_12485-SNAGHTML2133af7-8-6.png)  
    { .post-img }
    **Figure: I want Silverlight, VS2010 and WIX, but do not care about Location.**

    And there you go, you can now have build agents for different purposes and regions within the same environment.

    You can also use name filtering, so if you have a good Agent naming convention you can filter by that for regions. For example, your Agents might be “SYDVMAPTFSBP01” and “SYDVMAPTFSBP02” so a name filter of “SYD\*” would target all of the Sydney build agents.

    ![SNAGHTML215b15e](images/e6d297adc9ef_12485-SNAGHTML215b15e-9-7.png)  
    { .post-img }
    **Figure: Agent names can be used for filtering as well**

    This flexibility will allow you to build better software by reducing the likelihood of not having a certain dependency on the target machines.

    ![image](images/e6d297adc9ef_12485-image_-2-2.png)  
    { .post-img }
    **Figure: Setting the name filter based on server location**

    Used in combination there is a lot of power here to coordinate tens of build servers for multiple projects across multiple regions so your developers get the most out of your environment.

    Technorati Tags: [ALM](http://technorati.com/tags/ALM),[TFBS](http://technorati.com/tags/TFBS),[TFS 2010](http://technorati.com/tags/TFS+2010),[TFS Admin](http://technorati.com/tags/TFS+Admin)
  FilePath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-06-14-why-you-need-to-tag-your-build-servers-in-tfs\index.md
  FolderPath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-06-14-why-you-need-to-tag-your-build-servers-in-tfs
- FrontMatter:
    title: Kaiden and the Arachnoid Cyst
    description: Join us as we share Kaiden's journey with an arachnoid cyst, exploring his milestones and challenges. Discover our family's story and updates along the way.
    ResourceId: LjGohC1Hzfv
    ResourceType: blog
    ResourceContentOrigin: Human
    ResourceImport: true
    ResourceImportId: 41
    ResourceImportSource: Wordpress
    ResourceImportOriginalSource: GeeksWithBlogs
    date: 2010-05-26
    weight: 1000
    creator: Martin Hinshelwood
    layout: blog
    resourceTypes: blog
    slug: kaiden-and-the-arachnoid-cyst
    aliases:
    - /resources/LjGohC1Hzfv
    aliasesArchive:
    - /blog/kaiden-and-the-arachnoid-cyst
    - /kaiden-and-the-arachnoid-cyst
    - /resources/blog/kaiden-and-the-arachnoid-cyst
    categories:
    - Uncategorized
    preview: nakedalm-logo-128-link-1-1.png
    tags:
    - Miscellaneous
  BodyContent: |
    Some of you may remember when my son [Kaiden was born](http://blog.hinshelwood.com/archive/2009/02/14/the-delivery-mk-ii.aspx) I posted pictures of him and his sister. Kaiden is now 15 months old and is progressing perfectly in every area except that we had been worried that he was not walking yet. We were only really concerned because his sister was walking at 8 months.

    ![image](images/ThetroublewithKaidensbignoggin_E971-image_-2-2.png)![image](images/ThetroublewithKaidensbignoggin_E971-image_-3-3.png)
    { .post-img }

    **Figure: Kai as his usual self**

    - **Update Monday 14th June 2010  
       **Moved to [Kaiden and the Arachnoid Cyst](http://kaiden.hinshelwood.com/ "http://kaiden.hinshelwood.com/")

    ---

    1. [Before the Storm](http://kaiden.hinshelwood.com/2010/05/before-storm.html) (Thursday 13h May 2010)
    2. [The Scan](http://kaiden.hinshelwood.com/2010/05/scan.html) (Wednesday 26th May 2010)
    3. [Things of note](http://kaiden.hinshelwood.com/2010/05/things-of-note.html) (Friday 28th May 2010)
    4. [Letters from America](http://kaiden.hinshelwood.com/2010/05/letters-from-america.html) (Monday 31st May 2010)
    5. [Why so long](http://kaiden.hinshelwood.com/2010/06/why-so-long.html) (Wednesday 2nd June 2010)
    6. [A visit to the endocrinologist](http://kaiden.hinshelwood.com/2010/06/visit-to-endocrinologist.html) (Tuesday, 8 June 2010)
    7. [The boy has the pox](http://kaiden.hinshelwood.com/2010/06/boy-has-pox.html) (Monday 14th June 2010)
    8. [Ahh, the light…it burns…my eyes…](http://kaiden.hinshelwood.com/2010/06/ahh-lightit-burnsmy-eyes.html) (Monday 21st June 2010)
    9. [Something strange in the eyes](http://kaiden.hinshelwood.com/2010/06/something-strange-in-eyes.html) (Monday 21st June 2010)
    10. [Something strange in the eyes (cont…)](http://kaiden.hinshelwood.com/2010/06/something-strange-in-eyes-cont.html) (Tuesday 22nd June 2010)
    11. [Bloods…no wait…what?](http://kaiden.hinshelwood.com/2010/06/bloodsno-waitwhat.html) (Wednesday 23rd June 2010)

    [Read more…](http://kaiden.hinshelwood.com/)

    Technorati Tags: [Personal](http://technorati.com/tags/Personal)
  FilePath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-05-26-kaiden-and-the-arachnoid-cyst\index.md
  FolderPath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-05-26-kaiden-and-the-arachnoid-cyst
- FrontMatter:
    title: 'Guidance: How to layout you files for an Ideal Solution'
    description: Master the art of file layout for maintainable solutions in TFS. Discover best practices and enhance your development workflow with expert guidance.
    ResourceId: qHU7H_raZge
    ResourceType: blog
    ResourceContentOrigin: Human
    ResourceImport: true
    ResourceImportId: 42
    ResourceImportSource: Wordpress
    ResourceImportOriginalSource: GeeksWithBlogs
    date: 2010-05-17
    weight: 505
    creator: Martin Hinshelwood
    layout: blog
    resourceTypes: blog
    slug: guidance-how-to-layout-you-files-for-an-ideal-solution
    aliases:
    - /resources/qHU7H_raZge
    aliasesArchive:
    - /blog/guidance-how-to-layout-you-files-for-an-ideal-solution
    - /guidance-how-to-layout-you-files-for-an-ideal-solution
    - /guidance--how-to-layout-you-files-for-an-ideal-solution
    - /blog/guidance--how-to-layout-you-files-for-an-ideal-solution
    - /resources/blog/guidance-how-to-layout-you-files-for-an-ideal-solution
    tags:
    - Software Development
    - Modern Source Control
    categories:
    - Uncategorized
    preview: metro-visual-studio-2010-128-link-11-11.png
  BodyContent: |
    ![vs2010alm](images/7129adaece20_EC32-vs2010alm_-10-10.png)Creating a solution and having it maintainable over time is an art and not a science. I like being pedantic and having a place for everything, no matter how small.
    { .post-img }

    For setting up the Areas to run Multiple projects under one solution see my post on  [When should I use Areas in TFS instead of Team Projects](http://blog.hinshelwood.com/archive/2010/03/09/when-should-i-use-areas-in-tfs-instead-of-team.aspx) and for an explanation of branching see [Guidance: A Branching strategy for Scrum Teams](http://blog.hinshelwood.com/archive/2010/04/14/guidance-a-branching-strategy-for-scrum-teams.aspx).

    - Update 17th May 2010 – We are currently trialling running a single Sprint branch to improve our history.
    - Update 20th May 2010 – Fixing Images
    - Updated 4th August 2010 – There is now best practice guidance around this that supersedes this post.  
       [How To: Structure Your Source Control Folders in Team Foundation Server](http://msdn.microsoft.com/en-us/library/bb668992.aspx)

    ---

    Whenever I setup a new Team Project I implement the basic version control structure. I put “readme.txt” files in the folder structure explaining the different levels, and a solution file called “\[Client\].\[Product\].sln” located at “$/\[Client\]/\[Product\]/DEV/Main” within version control.

    Developers should add any projects you need to create to that solution in the format “\[Client\].\[Product\].\[ProductArea\].\[Assembly\]” and they will automatically be picked up and built automatically when you setup Automated Builds using Team Foundation Build.

    All test projects need to be done using MSTest to get proper IDE and Team Foundation Build integration out-of-the-box and be named for the assembly that it is testing with a naming convention of “\[Client\].\[Product\].\[ProductArea\].\[Assembly\].Tests”

    Here is a description of the folder layout; this content should be replicated in readme files under version control in the relevant locations so that even developers new to the project can see how to do it.

    ![clip_image002[3]](images/7129adaece20_EC32-clip_image0023_-2-2.jpg)  
    { .post-img }
    **Figure: The Team Project level - at this level there should be a folder for each the products that you are building if you are** [**using Areas correctly**](http://blog.hinshelwood.com/archive/2010/03/09/when-should-i-use-areas-in-tfs-instead-of-team.aspx) **in [TFS](http://msdn2.microsoft.com/en-us/teamsystem/aa718934.aspx "Team Foundation Server") 2010.**

    You should try very hard to avoided spaces as these things always end up in a URL eventually e.g. "Code Auditor" should be "CodeAuditor".

    ![clip_image004[4]](images/7129adaece20_EC32-clip_image0044_-3-3.jpg)  
    { .post-img }
    **Figure: Product Level - At this level there should be only 3 folders (DEV, RELESE and SAFE) all of which should be in capitals.**

    These folders represent the three stages of your application production line. Each of them may contain multiple branches but this format leaves all of your branches at the same level.

    ![clip_image006[4]](images/7129adaece20_EC32-clip_image0064_-4-4.jpg)  
    { .post-img }
    **Figure: The DEV folder is where all of the Development branches reside.**

    The DEV folder will contain the "Main" branch and all feature branches is they are being used. The DEV designation specifies that all code in every branch under this folder has not been released or made ready for release. And feature branches MUST merge (Forward Integrate) from Main and stabilise prior to merging (Reverse Integration) back down into Main and being decommissioned.

    ![image](images/7129adaece20_EC32-image_-8-8.png)  
    { .post-img }
    **Figure: In the Feature branching scenario only merges are allowed onto Main, no development can be done there.**

    Once we have a mature product it is important that new features being developed in parallel are kept separate. This would most likely be used if we had more than one Scrum team working on a single product.

    ![clip_image008[4]](images/7129adaece20_EC32-clip_image0084_-5-5.jpg)  
    { .post-img }
    **Figure: when we are ready to do a release of our software we will create a release branch that is then stabilised prior to deployment.**

    This protects the serviceability of of our released code allowing developers to fix bugs and re-release an existing version.

    ![image](images/7129adaece20_EC32-image_-9-9.png)  
    { .post-img }
    **Figure: All bugs found on a release are fixed on the release.**

    All bugs found in a release are fixed on the release and a new deployment is created. After the deployment is created the bug fixes are then merged (Reverse Integration) into the Main branch. We do this so that we separate out our development from our production ready code.

    ![clip_image010[4]](images/7129adaece20_EC32-clip_image0104_-6-6.jpg)  
    { .post-img }
    **Figure: SAFE or RTM is a read only record of what you actually released. Labels are not immutable so are useless in this circumstance.**

    When we have completed stabilisation of the release branch and we are ready to deploy to production we create a read-only copy of the code for reference. In some cases this could be a regulatory concern, but in most cases it protects the company building the product from legal entanglements based on what you did or did not release.

    ![image](images/7129adaece20_EC32-image_-7-7.png)
    { .post-img }

    **Figure: This allows us to reference any particular version of our application that was ever shipped.**

    In addition I am an advocate of having a single solution with all the Project folders directly under the “Trunk”/”Main” folder and using the full name for the project folders..

    [![clip_image002](images/7129adaece20_EC32-clip_image002_thumb-1-1.jpg)](http://blog.hinshelwood.com/files/2011/05/GWB-WindowsLiveWriter-7129adaece20_EC32-clip_image002_2.jpg)
    { .post-img }

    **Figure: The ideal solution**

    If you must have multiple solutions, because you need to use more than one version of Visual Studio, name the solutions “\[Client\].\[Product\]\[VSVersion\].sln” and have it reside in the same folder as the other solution.

    This makes it easier for Automated build and improves the discoverability of your code and its dependencies.

    Send me your feedback!

    Technorati Tags: [ALM](http://technorati.com/tags/ALM) [VS 2010](http://technorati.com/tags/VS+2010) [VS 2008](http://technorati.com/tags/VS+2008) [TFS 2010](http://technorati.com/tags/TFS+2010) [TFS 2008](http://technorati.com/tags/TFS+2008) [TFBS](http://technorati.com/tags/TFBS) [Scrum](http://technorati.com/tags/Scrum) [Branching](http://technorati.com/tags/Branching) [TFS](http://technorati.com/tags/TFS)
  FilePath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-05-17-guidance-how-to-layout-you-files-for-an-ideal-solution\index.md
  FolderPath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-05-17-guidance-how-to-layout-you-files-for-an-ideal-solution
- FrontMatter:
    title: Scrum with Team Foundation Server 2010 Done
    description: Explore effective project management with Scrum and Team Foundation Server 2010. Discover insights from DDD Scotland and enhance your agile practices!
    ResourceId: FjHIetvnkDz
    ResourceType: blog
    ResourceContentOrigin: Human
    ResourceImport: true
    ResourceImportId: 43
    ResourceImportSource: Wordpress
    ResourceImportOriginalSource: GeeksWithBlogs
    date: 2010-05-09
    weight: 790
    creator: Martin Hinshelwood
    layout: blog
    resourceTypes: blog
    slug: scrum-with-team-foundation-server-2010-done
    aliases:
    - /resources/FjHIetvnkDz
    aliasesArchive:
    - /blog/scrum-with-team-foundation-server-2010-done
    - /scrum-with-team-foundation-server-2010-done
    - /resources/blog/scrum-with-team-foundation-server-2010-done
    tags:
    - Software Development
    categories:
    - Scrum
    preview: metro-event-128-link-3-3.png
  BodyContent: |
    [![DDD](images/2139dc5039e8_9EA4-DDD_thumb-2-1.png)](http://blog.hinshelwood.com/files/2011/05/GWB-WindowsLiveWriter-2139dc5039e8_9EA4-DDD_2.png)Since I have joined SSW as a Solution Architect its Chief Architect, Adam Cogan, has been mentoring me and pushing me to do better. One of the things that I have been wanting to do since the first DDD Scotland was to present a session. For DDD Scotland 2010 Adam suggested that I submit he double session on “Better project Management with Team Foundation Server 2010”.
    { .post-img }

    So, with some apprehension I submitted two session as Part A and Part B.

    ---

    **Download** [**DDD Scotland -  Scrum with Team Foundation Server 2010**](http://cid-57599e234f1ebc1c.skydrive.live.com/self.aspx/Public/Presentations/SSW^_Scrum%20with%20TFS%202010^_DDDScotland^_v1.1.pptx)

    How surprised was I that after the attendees had finished casting their votes that both sessions would be in the top 20 one in the top 5. I an effort to promote diversity in sessions the DDD committee try to make sure that each presenter only have one session. I would have to compress SSW’s presentation into 1 hour.

    Around this time SSW embarked on it continuing adventures with scrum an Microsoft started heavily investing in Scrum for its internal use. I decided to do a slightly different session, but one that would still meet the agenda and goal of the billed session to provide “Better project management with Team Foundation Server 2010”.

    And so [Scrum with Team Foundation Server 2010](http://blog.hinshelwood.com/archive/2010/04/09/scrum-for-team-foundation-server-2010.aspx) was born. At this stage I really have to thank [Aaron Bjork](http://blogs.msdn.com/aaronbjork) who provided me with many of the slides and animations as I really can’t work Power Point.

    On the 27th of April I presented the session for the Aberdeen Partner Group and then on 8th May I presented at [DDD Scotland](http://developerdeveloperdeveloper.com/scotland2010/).

    ![dddscot-trademark-shot by Craig Murphy.](images/4593134708_cf386c551a-1-2.jpg)  
    { .post-img }
    **Figure: Some of the presenters and organisers of DDD Scotland**

    I mentioned quite a few of SSW’s [Rules to better Scrum Using TFS](http://sharepoint.ssw.com.au/Standards/Management/RulesToBetterScrumUsingTFS) and I have uploaded my presentation to Skydrive.

    **Download** [**DDD Scotland -  Scrum with Team Foundation Server 2010**](http://cid-57599e234f1ebc1c.skydrive.live.com/self.aspx/Public/Presentations/SSW^_Scrum%20with%20TFS%202010^_DDDScotland^_v1.1.pptx)

    Technorati Tags: [Scrum](http://technorati.com/tags/Scrum) [TFS 2010](http://technorati.com/tags/TFS+2010) [ALM](http://technorati.com/tags/ALM) [DDD Scot](http://technorati.com/tags/DDD+Scot) [Live](http://technorati.com/tags/Live) [SSW](http://technorati.com/tags/SSW) [SP 2010](http://technorati.com/tags/SP+2010) [SharePoint](http://technorati.com/tags/SharePoint)
  FilePath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-05-09-scrum-with-team-foundation-server-2010-done\index.md
  FolderPath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-05-09-scrum-with-team-foundation-server-2010-done
- FrontMatter:
    title: Upgrading Team Foundation Server 2008 to 2010
    description: Learn how to upgrade Team Foundation Server 2008 to 2010 seamlessly. Follow expert tips and best practices to ensure a smooth transition for your team.
    ResourceId: eKRnTeo9UMp
    ResourceType: blog
    ResourceContentOrigin: Human
    ResourceImport: true
    ResourceImportId: 45
    ResourceImportSource: Wordpress
    ResourceImportOriginalSource: GeeksWithBlogs
    date: 2010-05-03
    weight: 840
    creator: Martin Hinshelwood
    layout: blog
    resourceTypes: blog
    slug: upgrading-team-foundation-server-2008-to-2010
    aliases:
    - /resources/eKRnTeo9UMp
    aliasesArchive:
    - /blog/upgrading-team-foundation-server-2008-to-2010
    - /upgrading-team-foundation-server-2008-to-2010
    - /resources/blog/upgrading-team-foundation-server-2008-to-2010
    tags:
    - Windows
    - Software Development
    - Install and Configuration
    - System Configuration
    - Troubleshooting
    preview: metro-visual-studio-2010-128-link-1-1.png
    categories:
    - Uncategorized
  BodyContent: |
    ![vs2010alm](images/UpgradingtoTeamFoundationServer2010_C1D3-vs2010alm_-13-13.png)I am sure you will have seen my [posts on upgrading](http://blog.hinshelwood.com/archive/2010/04/12/_upgrading-from-tfs-2010-rc-to-tfs-2010-rtm-done.aspx) our internal Team Foundation Server from TFS2008 to TFS2010 Beta 2, RC and RTM, but what about a fresh upgrade of TFS2008 to TFS2010 using the RTM version of TFS. One of our clients is taking the plunge with TFS2010, so I have the job of doing the upgrade.
    { .post-img }

    Update 4th May 2010

    - [John Liu](http://johnliu.net/) – John can’t find his history after the Upgrade. This is not a feature of the upgrade and indeed all of the history is in tact on the original project. The problem is that you can’t actually change the process template that a project uses. Oh, you can make a really good stab at making it look like it has been upgraded, but under the covers there will be differences from a native project. So the plan is to migrate by creating a new project on the Agile5 template that has a branch of code from the old Conchnago project. This keeps the history in tact, if not in one place. If you look in the history and what you are looking for is before the upgrade data (same as the date of the branch) you need to follow the branch back to the old project and check there. I bet in 6 months you never need to look…
    - [Allan Zhou](http://translate.google.com/translate?js=y&prev=_t&hl=en&ie=UTF-8&layout=1&eotf=1&u=http%3A%2F%2Fzlgcool.cnblogs.com%2F&sl=zh-CN&tl=en) – I am going to cover the project upgrade process in a future post, but suffice to say you can not remove a template once it has been used. That data will be floating around in the warehouse and cube forever. You can do a certain amount of clean up, but that would require you to “destroy” all of the work item types and projects that use an old template and you would loose history.
    - [Sam Abraham](http://www.geekswithblogs.net/wildturtle) – You can indeed connect just fine from Visual Studio 2010 to a Team Foundation Server 2008.

    ---

    It is sometimes very useful to have a team member that starts work when most of the Sydney workers are heading home as I can do the upgrade without impacting them. The down side is that if you have any blockers then you can be pretty sure that everyone that can deal with your problem is asleep ![Sad](images/UpgradingtoTeamFoundationServer2010_C1D3-wlEmoticon-sad_2-14-14.png)
    { .post-img }

    I am starting with an existing blank installation of TFS 2010, but Adam Cogan let slip that he was the one that did the install so I thought it prudent to make sure that it was OK.

    ### Verifying Team Foundation Server 2010

    We need to check that TFS 2010 has been installed correctly. First, check the Admin console and have a root about for any errors.

    ![image](images/UpgradingtoTeamFoundationServer2010_C1D3-image_-12-4.png)  
    { .post-img }
    **Figure: Even the SQL Setup looks good. I don’t know how Adam did it!**

    ### Backing up the Team Foundation Server 2008 Databases

    As we are moving from one server to another ([recommended method](http://sharepoint.ssw.com.au/Standards/TFS/RulesToBetterTFS2010Migration)) we will be taking a backup of our TFS2008 databases and resorting them to the SQL Server for the new TFS2010 Server. Do not just detach and reattach. This will cause problems with the version of the database. If you are running a test migration you just need to create a backup of the TFS 2008 databases, but if you are doing the live migration then you should stop IIS on the TFS 2008 server before you backup the databases. This will stop any inadvertent check-ins or changes to TFS 2008.

    ![image](images/UpgradingtoTeamFoundationServer2010_C1D3-image_-2-5.png)
    { .post-img }

    **Figure: Stop IIS before you take a backup to prevent any TFS 2008 changes being written to the database.**

    It is good to leave a little time between taking the TFS 2008 server offline and commencing the upgrade as there is always one developer who has not finished and starts screaming. This time it was [John Liu](http://sharepoint.ssw.com.au/AboutUs/Employees/Pages/John.aspx) that needed 10 more minutes to make his changes and check-in, so I always give it 30 minutes and see if anyone screams.

    > John Liu \[SSW\] said:  
    >   are you doing something to TFS :-O  
    > MrHinsh \[SSW UK\]\[VS ALM MVP\] said:  
    >   I have stopped TFS 2008 as per my emails  
    > John Liu \[SSW\] said:  
    >   haven't finish check in @\_@  
    >   can we have it for 10mins? :)  
    > MrHinsh \[SSW UK\]\[VS ALM MVP\] said:  
    >   TFS 2008 has been started  
    > John Liu \[SSW\] said:  
    >   I love you!
    >
    > \-IM conversation at TFS Upgrade +25 minutes

    After John confirmed that he had everything done I turned IIS off again and made a cup of tea. There were no more screams so the upgrade can continue.

    ![image](images/UpgradingtoTeamFoundationServer2010_C1D3-image_-7-10.png)  
    { .post-img }
    **Figure: Backup all of the databases for TFS and include the Reporting Services, just in case.**

    ![image](images/UpgradingtoTeamFoundationServer2010_C1D3-image_-3-6.png)  
    { .post-img }
    **Figure: Check that all the backups have been taken**

    Once you have your backups, you need to copy them to your new TFS2010 server and restore them. This is a good way to proceed as if we have any problems, or just plain run out of time, then you just turn the TFS 2008 server back on and all you have lost is one upgrade day, and not 10 developer days.

    As per the rules, you should [record the number of files and the total number of areas and iterations](http://sharepoint.ssw.com.au/Standards/TFS/RulesToBetterTFS2010Migration/Pages/DogfoodStatsBefore.aspx) before the upgrade so you have something to compare to:

    > TFS2008
    >
    > File count:
    >
    > <table border="0" cellspacing="0" cellpadding="2" width="400"><tbody><tr><td valign="top" width="200"><strong>Type</strong></td><td valign="top" width="200"><strong>Count</strong></td></tr><tr><td valign="top" width="200">1</td><td valign="top" width="200">1845</td></tr><tr><td valign="top" width="200">2</td><td valign="top" width="200">15770</td></tr></tbody></table>
    >
    > Areas & Iterations:
    >
    > 139

    You can use this to verify that the upgrade was successful. it should however be noted that the numbers in TFS 2010 will be bigger. This is due to some of the sorting out that TFS does during the upgrade process.

    ### Restore Team Foundation Server 2008 Databases

    Restoring the databases is much more time consuming than just attaching them as you need to do them one at a time. But you may be taking a backup of an operational database and need to restore all your databases to a particular point in time instead of to the latest. I am doing latest unless I encounter any problems.

    ![image](images/UpgradingtoTeamFoundationServer2010_C1D3-image_-6-9.png)  
    { .post-img }
    **Figure: Restore each of the databases to either a latest or specific point in time.**

    ![image](images/UpgradingtoTeamFoundationServer2010_C1D3-image_-10-2.png)  
    { .post-img }
    **Figure: Restore all of the required databases**

    Now that all of your databases are restored you now need to upgrade them to Team Foundation Server 2010.

    ### Upgrade Team Foundation Server 2008 Databases

    This is probably the easiest part of the process. You need to call a fire and forget command that will go off to the database specified, find the TFS 2008 databases and upgrade them to 2010. During this process all of the 6 main TFS 2008 databases are merged into the TfsVersionControl database, upgraded and then the database is renamed to TFS\_\[CollectionName\]. The rename is only the database and not the physical files, so it is worth going back and renaming the physical file as well. This keeps everything neat and tidy.

    If you plan to keep the old TFS 2008 server around, for example if you are doing a test migration first, then you will need to change the TFS GUID. This GUID is unique to each TFS instance and is preserved when you upgrade. This GUID is used by the clients and they can get a little confused if there are two servers with the same one.

    To kick of the upgrade you need to open a command prompt and change the path to “C:Program FilesMicrosoft Team Foundation Server 2010Tools” and run the “import” command in  “tfsconfig”.

    > TfsConfig import /sqlinstance:<Previous TFS Data Tier>  
    >                  /collectionName:<Collection Name>  
    >                  /confirmed
    >
    > Imports a TFS 2005 or 2008 data tier as a new project collection.
    >
    > Important: This command should only be executed after adequate backups have been performed.
    >
    > After you import, you will need to configure portal and reporting settings via the administration console.
    >
    > EXAMPLES  
    > \--------
    > TfsConfig import /sqlinstance:tfs2008sql /collectionName:imported /confirmed  
    > TfsConfig import /sqlinstance:tfs2008sqlInstance /collectionName:imported /confirmed
    >
    > OPTIONS:  
    > \--------
    > sqlinstance         The sql instance of the TFS 2005 or 2008 data tier. The TFS databases at that location will be modified directly and will no longer be usable as previous version databases.  Ensure you have back-ups.
    >
    > collectionName      The name of the new Team Project Collection.
    >
    > confirmed           Confirm that you have backed-up databases before importing.

    This command will automatically look for the TfsIntegration database and verify that all the other required databases exist.

    In this case it took around 5 minutes to complete the upgrade as the total database size was under 700MB. This was unlike the upgrade of SSW’s production database with over 17GB of data which took a few hours. At the end of the process you should get no errors and no warnings.

    > The Upgrade operation on the ApplicationTier feature has completed. There were 0 errors and 0 warnings.

    As this is a new server and not a pure upgrade there should not be a problem with the GUID.

    If you think at any point you will be doing this more than once, for example doing a test migration, or merging many TFS 2008 instances into a single one, then you should go back and rename the physical TfsVersionControl.mdf file to the same as the new collection. This will avoid confusion later down the line.

    To do this, detach the new collection from the server and rename the physical files. Then reattach and change the physical file locations to match the new name.

    You can follow [http://www.mssqltips.com/tip.asp?tip=1122](http://www.mssqltips.com/tip.asp?tip=1122 "http://www.mssqltips.com/tip.asp?tip=1122") for a more detailed explanation of how to do this.

    ![image](images/UpgradingtoTeamFoundationServer2010_C1D3-image_-5-8.png)  
    { .post-img }
    **Figure: Stop the collection so TFS does not take a wobbly when we detach the database.**

    When you try to start the new collection again you will get a conflict with project names and will require to remove the Test Upgrade collection. This is fine and it just needs detached.

    ![image](images/UpgradingtoTeamFoundationServer2010_C1D3-image_-8-11.png)  
    { .post-img }
    **Figure: Detaching the test upgrade from the new Team Foundation Server 2010 so we can start the new Collection again.**

    You will now be able to start the new upgraded collection and you are ready for testing.

    Do you remember the stats we took off the TFS 2008 server?

    > TFS2008
    >
    > File count:
    >
    > <table border="0" cellspacing="0" cellpadding="2" width="400"><tbody><tr><td valign="top" width="200"><strong>Type</strong></td><td valign="top" width="200"><strong>Count</strong></td></tr><tr><td valign="top" width="200">1</td><td valign="top" width="200">1845</td></tr><tr><td valign="top" width="200">2</td><td valign="top" width="200">15770</td></tr></tbody></table>
    >
    > Areas & Iterations:
    >
    > 139

    Well, now we need to [compare them to the TFS 2010 stats](http://sharepoint.ssw.com.au/Standards/TFS/RulesToBetterTFS2010Migration/Pages/RunDogFoodStatsAfter.aspx), remembering that there will probably be more files under source control.

    > TFS2010
    >
    > File count:
    >
    > <table border="0" cellspacing="0" cellpadding="2" width="400"><tbody><tr><td valign="top" width="200"><strong>Type</strong></td><td valign="top" width="200"><strong>Count</strong></td></tr><tr><td valign="top" width="200">1</td><td valign="top" width="200">19288</td></tr></tbody></table>
    >
    > Areas & Iterations:
    >
    > 139

    Lovely, the number of iterations are the same, and the number of files is bigger. Just what we were looking for.

    ### Testing the upgraded Team Foundation Server 2010 Project Collection

    Can we connect to the new collection and project?

    ![image](images/UpgradingtoTeamFoundationServer2010_C1D3-image_-9-12.png)  
    { .post-img }
    **Figure: We can connect to the new collection and project.**

    ![image](images/UpgradingtoTeamFoundationServer2010_C1D3-image_-4-7.png)  
    { .post-img }
    **Figure: make sure you can connect to The upgraded projects and that you can see all of the files.**

    ![image](images/UpgradingtoTeamFoundationServer2010_C1D3-image_-11-3.png)  
    { .post-img }
    **Figure: Team Web Access is there and working.**

    Note that for Team Web Access you now use the same port and URL as for TFS 2010. So in this case as I am running on the local box you need to use [http://localhost:8080/tfs](http://localhost:8080/tfs) which will redirect you to [http://localhost:8080/tfs/web](http://localhost:8080/tfs/web) for the web access.

    If you need to connect with a Visual Studio 2008 client you will need to use the full path of the new collection, http://\[servername\]/tfs/\[collectionname\] and this will work with all of your collections.

    With Visual Studio 2005 you will only be able to connect to the Default collection and in both VS2008 and VS2005 you will need to install the forward compatibility updates.

    - [Visual Studio Team System 2005 Service Pack 1 Forward Compatibility Update for Team Foundation Server 2010](http://www.microsoft.com/downloads/details.aspx?FamilyID=22215e4c-af6f-4e2f-96df-20e94d762689&displaylang=en)
    - [Visual Studio Team System 2008 Service Pack 1 Forward Compatibility Update for Team Foundation Server 2010](http://www.microsoft.com/downloads/details.aspx?familyid=CF13EA45-D17B-4EDC-8E6C-6C5B208EC54D&displaylang=en)
      To make sure that you have everything up to date, make sure that you run [SSW Diagnostics](http://www.ssw.com.au/ssw/Diagnostics) and get all green ticks.
      **Upgrade Done!**
      At this point you can send out a notice to everyone that the upgrade is complete and and give them the connection details. You need to remember that at this stage we have 2008 project upgraded to run under TFS 2010 but it is still running under that same process template that it was running before. You can only “enable” 2010 features in a process template you can’t upgrade. So what to do? Well, you need to create a new project and migrate things you want to keep across.
      Souse code is easy, you can move or Branch, but Work Items are more difficult as you can’t move them between projects. This instance is complicated more as the old project uses the Conchango/EMC Scrum for Team System template and I will need to write a script/application to get the work items across with their attachments in tact.
      That is my next task!

    Technorati Tags: [TFS 2010](http://technorati.com/tags/TFS+2010) [TFS 2008](http://technorati.com/tags/TFS+2008) [ALM](http://technorati.com/tags/ALM) [SSW](http://technorati.com/tags/SSW) [Scrum](http://technorati.com/tags/Scrum) [VS 2010](http://technorati.com/tags/VS+2010) [VS 2008](http://technorati.com/tags/VS+2008) [SP 2010](http://technorati.com/tags/SP+2010) [TFS](http://technorati.com/tags/TFS) [SharePoint](http://technorati.com/tags/SharePoint) [TFS 2005](http://technorati.com/tags/TFS+2005) [VS 2005](http://technorati.com/tags/VS+2005)
  FilePath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-05-03-upgrading-team-foundation-server-2008-to-2010\index.md
  FolderPath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-05-03-upgrading-team-foundation-server-2008-to-2010
- FrontMatter:
    title: Integrate SharePoint 2010 with Team Foundation Server 2010
    description: Learn how to seamlessly integrate SharePoint 2010 with Team Foundation Server 2010 for enhanced project management and collaboration. Get started now!
    ResourceId: rZaFJwqThDs
    ResourceType: blog
    ResourceContentOrigin: Human
    ResourceImport: true
    ResourceImportId: 44
    ResourceImportSource: Wordpress
    ResourceImportOriginalSource: GeeksWithBlogs
    date: 2010-05-03
    weight: 1000
    creator: Martin Hinshelwood
    layout: blog
    resourceTypes: blog
    slug: integrate-sharepoint-2010-with-team-foundation-server-2010
    aliases:
    - /resources/rZaFJwqThDs
    aliasesArchive:
    - /blog/integrate-sharepoint-2010-with-team-foundation-server-2010
    - /integrate-sharepoint-2010-with-team-foundation-server-2010
    - /resources/blog/integrate-sharepoint-2010-with-team-foundation-server-2010
    tags:
    - Install and Configuration
    - System Configuration
    - Software Development
    categories:
    - Uncategorized
    preview: metro-visual-studio-2010-128-link-15-15.png
  BodyContent: |
    Our client is using a brand new shiny installation of SharePoint 2010, so now we need to integrate SharePoint 2010 our upgraded Team Foundation Server 2010 instance into it.

    In order to do that you need to run the Team Foundation Server 2010 install on the SharePoint 2010 server and choose to install only the “Extensions for SharePoint Products and Technologies”. We want out [upgraded Team Project Collection](http://blog.hinshelwood.com/archive/2010/05/03/upgrading-team-foundation-server-2008-to-2010.aspx) to create any new portal in this SharePoint 2010 server farm.

    - Update 25th September 2012 - Superseded by [Integrate SharePoint 2013 with Team Foundation Server 2012](http://blog.hinshelwood.com/integrate-sharepoint-2013-with-team-foundation-server-2012/)
    - Update 4th May 2010 - [Nilesh Deshpande](http://lightspeedit.com.au) from LightSpeedIT in Sydney was asking how he configures SharePoint integration when he has TFS installed on Windows 7. The answer is easy, if not one he will like. You can’t. When you install on Windows 7 you can only do a basic install and the Admin options you would need to configure SharePoint are not available. You will need to move you ProjectCollection to a TFS instance running on a Server OS to be able to do this.

    There a number of goodies above and beyond a solution file that requires the install, with the main one being the TFS2010 client API. These goodies allow proper integration with the creation and viewing of Work Items from SharePoint a new feature with TFS 2010. This works in both SharePoint 2007 and SharePoint 2010 with the level of integration dependant on the version of SharePoint that you are running. There are three levels of integration with “SharePoint Services 3.0” or “SharePoint Foundation 2010” being the lowest. This level only offers reporting services framed integration for reporting along with Work Item Integration and document management. The highest is Microsoft Office SharePoint Services (MOSS) Enterprise with Excel Services integration providing some lovely dashboards.

    ![image](images/IntegrateSharePoint2010withTeamFoundatio_A557-image_-2-4.png)  
    { .post-img }
    **Figure: Dashboards take the guessing out of Project Planning and estimation. Plus writing these reports would be boring!**

    The Extensions that you need are on the same installation media as the main TFS install and the only difference is the options you pick during the install.

    ![image11](images/IntegrateSharePoint2010withTeamFoundatio_A557-image11_-12-12.png)  
    { .post-img }
    **Figure: Installing the TFS 2010 Extensions for SharePoint Products and Technologies onto SharePoint 2010**

    Annoyingly you may need to reboot a couple of times, but on this server the process was MUCH smother than on our internal server. I think this was mostly to do with this being a clean install.

    Once it is installed you need to run the configuration. This will add all of the Solution and Templates that are needed for SharePoint to work properly with TFS.

    ![image14](images/IntegrateSharePoint2010withTeamFoundatio_A557-image14_-13-13.png)  
    { .post-img }
    **Figure: This is where all the TFS 2010 goodies are added to your SharePoint 2010 server and the TFS 2010 object model is installed.**

    ![image17](images/IntegrateSharePoint2010withTeamFoundatio_A557-image17_-14-14.png)  
    { .post-img }
    **Figure: All done, you have everything installed, but you still need to configure it**

    Now that we have the TFS 2010 SharePoint Extensions installed on our SharePoint 2010 server we need to configure them both so that they will talk happily to each other.

    ### Configuring the SharePoint 2010 Managed path for Team Foundation Server 2010

    In order for TFS to automatically create your project portals you need a wildcard managed path setup. This is where TFS will create the portal during the creation of a new Team project.

    To find the managed paths page for any application you need to first select the “Managed web applications”  link from the SharePoint 2010 Central Administration screen.

    ![image](images/IntegrateSharePoint2010withTeamFoundatio_A557-image_-1-1.png)  
    { .post-img }
    **Figure: Find the “Manage web applications” link under the “Application Management” section.**

    On you are there you will see that the “Managed Paths” are there, they are just greyed out and selecting one of the applications will enable it to be clicked.

    ![image](images/IntegrateSharePoint2010withTeamFoundatio_A557-image_-10-2.png)  
    { .post-img }
    **Figure: You need to select an application for the SharePoint 2010 ribbon to activate.**

    ![image](images/IntegrateSharePoint2010withTeamFoundatio_A557-image_-8-10.png)  
    { .post-img }
    **Figure: You need to select an application before you can get to the Managed Paths for that application.**

    Now we need to add a managed path for TFS 2010 to create its portals under. I have gone for the obvious option of just calling the managed path “TFS02” as the TFS 2010 server is the second TFS server that the client has installed, TFS 2008 being the first. This links the location to the server name, and as you can’t have two projects of the same name in two separate project collections there is unlikely to be any conflicts.

    ![image](images/IntegrateSharePoint2010withTeamFoundatio_A557-image_-6-8.png)  
    { .post-img }
    **Figure: Add a “tfs02” wildcard inclusion path to your SharePoint site.  
    **

    ### Configure the Team Foundation Server 2010 connection to SharePoint 2010

    In order to have you new TFS 2010 Server talk to and create sites in SharePoint 2010 you need to tell the TFS server where to put them. As this TFS 2010 server was installed in out-of-the-box mode it has a SharePoint Services 3.0 (the free one) server running on the same box. But we want to change that so we can use the external SharePoint 2010 instance. Just open the “Team Foundation Server Administration Console” and navigate to the “SharePoint Web Applications” section. Here you click “Add” and enter the details for the Managed path we just created.

    ![image](images/IntegrateSharePoint2010withTeamFoundatio_A557-image_-4-6.png)  
    { .post-img }
    **Figure: If you have special permissions on your SharePoint you may need to add accounts to the “Service Accounts” section.**

    Before we can se this new SharePoint 2010 instance to be the default for our upgraded Team Project Collection we need to configure SharePoint to take instructions from our TFS server.

    ### Configure SharePoint 2010 to connect to Team Foundation Server 2010

    On your SharePoint 2010 server open the Team Foundation Server Administration Console and select the “Extensions for SharePoint Products and Technologies” node. Here we need to “grant access” for our TFS 2010 server to create sites. Click the “Grant access” link and  fill out the full URL to the  TFS server, for example [http://servername.domain.com:8080/tfs](http://servername.domain.com:8080/tfs), and if need be restrict the path that TFS sites can be created on. Remember that when the users create a new team project they can change the default and point it anywhere they like as long as it is an authorised SharePoint location.

    ![image](images/IntegrateSharePoint2010withTeamFoundatio_A557-image_-5-7.png)  
    { .post-img }
    **Figure: Grant access for your TFS 2010 server to create sites in SharePoint 2010**

    Now that we have an authorised location for our team project portals to be created we need to tell our Team Project Collection that this is where it should stick sites by default for any new Team Projects created.

    ### Configure the Team Foundation Server 2010 Team Project Collection to create new sites in SharePoint 2010

    Back on out TFS 2010 server we need to setup the defaults for our upgraded Team Project Collection to the new SharePoint 2010 integration we have just set up. On the TFS 2010 server open up the “Team Foundation Server Administration Console” again and navigate to the “Team Project Collections” node. Once you are there you will see a list of all of your TPC’s and in our case we have a DefaultCollection as well as out named and Upgraded collection for TFS 2008.

    If you select the “SharePoint Site” tab we can see that it is not currently configured.

    ![image](images/IntegrateSharePoint2010withTeamFoundatio_A557-image_-9-11.png)  
    { .post-img }
    **Figure: Our new Upgrade TFS2008 Team Project Collection does not have SharePoint configured**

    Select to “Edit Default Site Location” and select the new integration point that we just set up for SharePoint 2010. Once you have selected the “SharePoint Web Application” (the thing we just configured) then it will give you an example based on that configuration point and the name of the Team Project Collection that we are configuring.

    ![image](images/IntegrateSharePoint2010withTeamFoundatio_A557-image_-11-3.png)  
    { .post-img }
    **Figure: Set the default location for new Team Project Portals to be created for this Team Project Collection**

    This is where the reason for configuring the Extensions on the SharePoint 2010 server before doing this last bit becomes apparent. TFS 2010 is going to create a site at our [http://sharepointserver/tfs02/](http://sharepointserver/tfs02/) location called [http://sharepointserver/tfs02/\[TeamProjectCollection](http://sharepointserver/tfs02/[TeamProjectCollection)\], or whatever we had specified, and it would have had difficulty doing this if we had not given it permission first.

    ![image](images/IntegrateSharePoint2010withTeamFoundatio_A557-image_-7-9.png)  
    { .post-img }
    **Figure: If there is no Team Project Collection site at this location the TFS 2010 server is going to create one**

    This will create a nice Team Project Collection parent site to contain the Portals for any new Team Projects that are created. It is with noting that it will not create portals for existing Team Projects as this process is run during the Team Project Creation wizard.

    ![image](images/IntegrateSharePoint2010withTeamFoundatio_A557-image_-3-5.png)  
    { .post-img }
    **Figure: Just a basic parent site to host all of your new Team Project Portals as sub sites**

    You will need to add all of the users that will be creating Team Projects to be Administrators of this site so that they will not get an error during the Project Creation Wizard. You may also want to customise this as a proper portal to your projects if you are going to be having lots of them, but it is really just a default placeholder so you have a top level site that you can backup and point at.

    **You have now integrated SharePoint 2010 and team Foundation Server 2010!**

    You can now go forth and multiple your Team Projects for this Team Project Collection or you can continue to add portals to your other Collections.

    _\-Are you having trouble integrating TFS with Sharepoint? Northwest Cadence can help you integrate these two systems together. Contact [info@nwcadence.com](mailto:info@nwcadence.com)_ _today to find out how we can help you…_
  FilePath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-05-03-integrate-sharepoint-2010-with-team-foundation-server-2010\index.md
  FolderPath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-05-03-integrate-sharepoint-2010-with-team-foundation-server-2010
- FrontMatter:
    title: LinkedIn Woopsie with the Outlook 2010 Social Media Connector
    description: Discover how a LinkedIn account suspension led to insights on the Outlook 2010 Social Media Connector. Learn from my experience and avoid pitfalls!
    ResourceId: 4lmIuDVmx2V
    ResourceType: blog
    ResourceContentOrigin: Human
    ResourceImport: true
    ResourceImportId: 47
    ResourceImportSource: Wordpress
    ResourceImportOriginalSource: GeeksWithBlogs
    date: 2010-04-28
    weight: 1000
    creator: Martin Hinshelwood
    layout: blog
    resourceTypes: blog
    slug: linkedin-woopsie-with-the-outlook-2010-social-media-connector
    aliases:
    - /resources/4lmIuDVmx2V
    aliasesArchive:
    - /blog/linkedin-woopsie-with-the-outlook-2010-social-media-connector
    - /linkedin-woopsie-with-the-outlook-2010-social-media-connector
    - /resources/blog/linkedin-woopsie-with-the-outlook-2010-social-media-connector
    tags: []
    categories:
    - Uncategorized
    preview: nakedalm-logo-128-link-4-4.png
  BodyContent: |
    ![linkedin-logo](images/LinkedInAccountSuspended_F8E0-linkedin-logo_-2-2.jpg)I have always used the LinkedIn toolbar for Outlook to sort out, upload and sync my contacts. Because of this I have over 2000 contacts in my contacts list that I sync with my phone, Plaxo, live, Google and others.
    { .post-img }

    Updates 28th April 2010

    - [LinkedIn](http://linkedin.com) customer services solved the problem within a few hours of my initial response.

    ---

    I got a surprise the other day when my LinkedIn account was suspended and I was unable to login.

    ![image[4]](images/LinkedInAccountSuspended_F8E0-image4_-1-1.png)   
    { .post-img }
    **Figure: Bad, account suspended**

    So I contacted LinkedIn customer services to find out what the problem is, and here is the response:

    > Dear Martin,
    >
    > We have recently noticed a large number of page searches and profile views through your LinkedIn account. We are aware that you may be using an automated or manual process to systematically view LinkedIn web pages.  
    > The information within LinkedIn is provided by our users for usage on the site only. In order to protect user privacy, our User Agreement prohibits using:  
    > 1\. Automated or manual means to view an excessively high number of profiles or mini-profiles.  
    > 2\. Automated means to run searches to collect or store data obtained from our site.  
    > We have placed a restriction on your account until you agree to stop using these or similar methods to view pages on LinkedIn.  
    > We look forward to your reply to discuss this further.
    >
    > Sincerely,  
    > LinkedIn Privacy Team

    It looks like LinkedIn has suspended my account because of something that their component is doing! I do not know if this is an isolated case, or if it will happen more as more users get on Outlook 2010 and update to the new software, but watch out.

    **Has anyone else been suspended who has installed the Office 2010 RTM and the LinkedIn Add-On?**

    It only tool another hour after I explained where I thought the problem was for LinkedIn support to solve the problem ![Smile](images/LinkedInAccountSuspended_F8E0-wlEmoticon-smile_2-3-3.png)
    { .post-img }

    > Dear Martin,
    >
    > Thank you for your response and patience with respect to this issue.  
    > The restriction has been lifted from your account. Please know that together we can maintain an outstanding website for all of our members.  
    > Thank you for being a valued member of our LinkedIn community!
    >
    > Regards,  
    > Francois

    Credit to LinkedIn for solving it quickly..

    Technorati Tags: [Fail](http://technorati.com/tags/Fail) [LinkedIn](http://technorati.com/tags/LinkedIn) [Outlook 2010](http://technorati.com/tags/Outlook+2010)
  FilePath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-04-28-linkedin-woopsie-with-the-outlook-2010-social-media-connector\index.md
  FolderPath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-04-28-linkedin-woopsie-with-the-outlook-2010-social-media-connector
- FrontMatter:
    title: Even Scrum should have detailed Task descriptions
    description: Discover why detailed task descriptions in Scrum are essential for project integrity. Learn how to enhance team collaboration and ensure project success.
    ResourceId: 7J9zEPmBq-C
    ResourceType: blog
    ResourceContentOrigin: Human
    ResourceImport: true
    ResourceImportId: 46
    ResourceImportSource: Wordpress
    ResourceImportOriginalSource: GeeksWithBlogs
    date: 2010-04-28
    weight: 790
    creator: Martin Hinshelwood
    layout: blog
    resourceTypes: blog
    slug: even-scrum-should-have-detailed-task-descriptions
    aliases:
    - /resources/7J9zEPmBq-C
    aliasesArchive:
    - /blog/even-scrum-should-have-detailed-task-descriptions
    - /even-scrum-should-have-detailed-task-descriptions
    - /resources/blog/even-scrum-should-have-detailed-task-descriptions
    tags:
    - Software Development
    categories:
    - Scrum
    preview: metro-sharepoint-128-link-1-1.png
  BodyContent: |
    ![RulestoBetter](images/SSWScrumRuleDoyou_E91A-RulestoBetter_-5-5.gif)When you create tasks in Scrum you are doing this within a time box and you tend to add only the information you need to remember what the task is. And the entire Team was at the meeting and were involved in the discussions around the task, so why do you need more?
    { .post-img }

    ---

    Once you have accepted a task you should then add as much information as possible so that anyone can pick up that task; what if your numbers come up? Will you be into work the next day?

    ![lottery](images/SSWScrumRuleDoyou_E91A-lottery_-4-4.jpg)  
    { .post-img }
    **Figure: What if your numbers come up in the lottery?**

    What if the Team runs a syndicate and all your numbers come up? The point is that anything can happen and you need to protect the integrity of the project, the company and the Customer.

    Add as much information to the task as you think is necessary for anyone to work on the task.

    If you need to add rich text and images you can do this by [attaching an email to the task](http://sharepoint.ssw.com.au/Standards/Management/RulesToBetterScrumUsingTFS/Pages/EnsureRelevantEmails.aspx).

    ![image](images/SSWScrumRuleDoyou_E91A-image_-2-2.png)  
    { .post-img }
    **Figure: Bad example, there is not enough information for a non team member to complete this task**

    ![image](images/SSWScrumRuleDoyou_E91A-image_-3-3.png)
    { .post-img }

    **Figure: Julie provided a lot more information and another team should be able to pick this up.**

    _This has been published as_ [_Do you know to ensure that relevant emails are attached to tasks_](http://sharepoint.ssw.com.au/Standards/Management/RulesToBetterScrumUsingTFS/Pages/EnsureRelevantEmails.aspx) _in our_ [_Rules to Better Scrum using TFS_](http://sharepoint.ssw.com.au/Standards/Management/RulesToBetterScrumUsingTFS/Pages/default.aspx)_._

    Technorati Tags: [Scrum](http://technorati.com/tags/Scrum) [SSW Rules](http://technorati.com/tags/SSW+Rules) [TFS 2010](http://technorati.com/tags/TFS+2010) [SSW](http://technorati.com/tags/SSW) [SP 2010](http://technorati.com/tags/SP+2010) [SharePoint](http://technorati.com/tags/SharePoint)
  FilePath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-04-28-even-scrum-should-have-detailed-task-descriptions\index.md
  FolderPath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-04-28-even-scrum-should-have-detailed-task-descriptions
- FrontMatter:
    title: Combining Scrum, TFS2010 and Email to keep everyone in the loop
    description: Discover how to effectively combine Scrum, TFS2010, and email to enhance team collaboration and keep everyone informed. Streamline your project management today!
    ResourceId: aU3PspgaeEN
    ResourceType: blog
    ResourceContentOrigin: Human
    ResourceImport: true
    ResourceImportId: 48
    ResourceImportSource: Wordpress
    ResourceImportOriginalSource: GeeksWithBlogs
    date: 2010-04-28
    weight: 840
    creator: Martin Hinshelwood
    layout: blog
    resourceTypes: blog
    slug: combining-scrum-tfs2010-and-email-to-keep-everyone-in-the-loop
    aliases:
    - /resources/aU3PspgaeEN
    aliasesArchive:
    - /blog/combining-scrum-tfs2010-and-email-to-keep-everyone-in-the-loop
    - /combining-scrum-tfs2010-and-email-to-keep-everyone-in-the-loop
    - /combining-scrum,-tfs2010-and-email-to-keep-everyone-in-the-loop
    - /blog/combining-scrum,-tfs2010-and-email-to-keep-everyone-in-the-loop
    - /combining-scrum--tfs2010-and-email-to-keep-everyone-in-the-loop
    - /blog/combining-scrum--tfs2010-and-email-to-keep-everyone-in-the-loop
    - /resources/blog/combining-scrum-tfs2010-and-email-to-keep-everyone-in-the-loop
    tags:
    - Software Development
    categories:
    - Uncategorized
    preview: metro-visual-studio-2005-128-link-1-1.png
  BodyContent: |
    ![RulestoBetter](images/SSWScrumRuleDoyouknow_D4DD-RulestoBetter_-3-3.gif)Often you will receive rich information from your Product Owner (Customer) about tasks. That information can be in the form of Word documents, HTML Emails and Pictures, but you generally receive them in the context of an Email.
    { .post-img }

    You need to keep these so your Team can refer to it later, and so you can send a “done” when the task has been completed. This preserves the “history” of the task and allows you to keep relevant partied included in any future conversation.

    ---

    At SSW we keep the original email so that we can r[eply Done and delete the email](http://www.ssw.com.au/ssw/Standards/Rules/RulesToBetterEmail.aspx#ReplyAndDelete).

    But keeping it in your email does not help other members of the team if they complete the task and need to send the “done”.

    Worse yet, the description field in Team Foundation Server 2010 (TFS 2010) does not support HTML and images, nor does the default task template support an “interested parties” or CC field. You can attach this content manually, but it can be time consuming.

    ![image](images/SSWScrumRuleDoyouknow_D4DD-image_-2-2.png)  
    { .post-img }
    **Figure: Description only supports plain text, and History supports HTML with no images**

    **What should we do?**

    At SSW we always follow the rules, and it just so happened that we have rules to both achieve this, and to make it easier.

    You should follow the existing [Rules to Better Project Management](http://projects.ssw.com.au/tfs/SSW/SqlDeploy/Team%20Wiki/Scrum%20Dogs%20Practices.aspx)  and attach the email to your task so you can refer to and reply to it later when you close the task:

    - [Do you know what Outlook add-ins you need?](http://www.ssw.com.au/ssw/Standards/Rules/#OutlookAddin)
    - [Describe the work item request in an email](http://www.ssw.com.au/ssw/Standards/Rules/#WorkItemEmail)
    - [Use Outlook Add-in to move the email to a TFS Work Item](http://www.ssw.com.au/ssw/Standards/Rules/#TeamCompanionWorkItem)

    When replying to an email with “done” you should follow:

    - [Do you update Team Companion template, so the email "subject" doesn't change?](http://www.ssw.com.au/ssw/Standards/Rules/#KeepConsistentName)
    - [Do you update Team Companion template, so you can generate a proper "done" mail?](http://www.ssw.com.au/ssw/Standards/Rules/#EmailTemplate)

    Following these simple rules will help your Product Owner understand you better, and allow your teams to more effectively collaborate with each other.

    An added bonus is that as we are keeping the email history in sync with TFS. When you “reply all” to the email all of the interested partied to the Task are also included. This notified those that may have been blocked by your task to keep up to date with its status.

    _This has been published as_ [_Do you know to ensure that relevant emails are attached to tasks_](http://sharepoint.ssw.com.au/Standards/Management/RulesToBetterScrumUsingTFS/Pages/EnsureRelevantEmails.aspx) _in our_ [_Rules to Better Scrum using TFS_](http://sharepoint.ssw.com.au/Standards/Management/RulesToBetterScrumUsingTFS/Pages/default.aspx)_._

    **What could we do better?**

    I would like to see this process automated so that we capture the information correctly in the task without the need to use email. This would require a change to the process template in Team Foundation Server to add an “Interested Parties” field.

    Each reply to the email would need to be automatically processed into a Work Item. This could be done by adding a task identifier as the first item in the “Relates to” email header, and copying in an email address that you watch. This would then parse out the relevant information and add the new message to the history, update the “Interested parties” field and attach the Images.

    Upon reflection, it may even be possible, but more difficult to do this using ONLY the History field and including some of the header information in there to the build a done email with history.

    This would not currently deal with email “forks” well, but I think it would be adequate for our needs.

    It would be nice if we could find time to implement this, but currently it is but a pipe dream. Maybe Microsoft could implement something in the next version of Team Foundation Server, and in the mean time we have a process that works well.

    Technorati Tags: [Scrum](http://technorati.com/tags/Scrum) [SSW Rules](http://technorati.com/tags/SSW+Rules) [SSW](http://technorati.com/tags/SSW) [TFS 2010](http://technorati.com/tags/TFS+2010) [TFS 2008](http://technorati.com/tags/TFS+2008) [SP 2010](http://technorati.com/tags/SP+2010) [TFS](http://technorati.com/tags/TFS) [SharePoint](http://technorati.com/tags/SharePoint)
  FilePath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-04-28-combining-scrum-tfs2010-and-email-to-keep-everyone-in-the-loop\index.md
  FolderPath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-04-28-combining-scrum-tfs2010-and-email-to-keep-everyone-in-the-loop
- FrontMatter:
    title: Silverlight 4, MVVM and Test-Driven Development
    description: Join Jesse Liberty in Edinburgh to explore Silverlight 4, MVVM, and test-driven development. Enhance your coding skills and register now!
    ResourceId: n9sGWuBTtUf
    ResourceType: blog
    ResourceContentOrigin: Human
    ResourceImport: true
    ResourceImportId: 49
    ResourceImportSource: Wordpress
    ResourceImportOriginalSource: GeeksWithBlogs
    date: 2010-04-20
    weight: 790
    creator: Martin Hinshelwood
    layout: blog
    resourceTypes: blog
    slug: silverlight-4-mvvm-and-test-driven-development
    aliases:
    - /resources/n9sGWuBTtUf
    aliasesArchive:
    - /blog/silverlight-4-mvvm-and-test-driven-development
    - /silverlight-4-mvvm-and-test-driven-development
    - /silverlight-4,-mvvm-and-test-driven-development
    - /blog/silverlight-4,-mvvm-and-test-driven-development
    - /silverlight-4--mvvm-and-test-driven-development
    - /blog/silverlight-4--mvvm-and-test-driven-development
    - /resources/blog/silverlight-4-mvvm-and-test-driven-development
    tags: []
    categories:
    - Uncategorized
    preview: metro-visual-studio-2010-128-link-2-2.png
  BodyContent: |
    ![622512953[1]](images/68e63ada9c60_D045-6225129531_-1-1.jpg)
    { .post-img }

    As part of his [UK tour](http://blogs.silverlight.net/blogs/jesseliberty/archive/2010/02/15/the-united-kingdom-amp-the-republic-of-ireland.aspx) Microsoft's [Jesse Liberty](http://blogs.silverlight.net/blogs/jesseliberty/) will be talking in Edinburgh for an evening on Silverlight 4.

    \[[Register Now, there are some places left](http://jesse-liberty-edinburgh.eventbrite.com/)\]

    ---

    **The Talk**

    - MVVM and Silverlight to build test-driven programs
    - Understanding Refactoring and Dependency Injection
    - A Walk through of a non-trivial application

    **The Speaker**

    Jesse Liberty, _Silverlight Geek_, is a Developer Community Program Manager for Microsoft (US). Lately he has been focused on Component-based, Test-Driven, Cross-platform line-of-business application development, and has led the development of the open source  [Silverlight HyperVideo Platform](https://email.unum.com/exchweb/bin/redir.asp?URL=http://slhvp.com/).

    Liberty is the author of over two dozen books, and [his blog](https://email.unum.com/exchweb/bin/redir.asp?URL=http://silverlightgeek.me/) is a required resource for Silverlight programmers. His twenty years of programming experience include stints as a Distinguished Software Engineer at AT&T; Vice President of Human-Computer Interaction at Citibank and Software Architect at PBS/Learning Link.

    **The Venue**

    We are meeting at Microsoft's offices in Edinburgh in Waterloo Place. This is the building on the corner of North Bridge at the east end of Princes Street. Parking can be found at the nearby Greenside Row car park which is just off Leith Walk (used for the Omni Centre). The venue is approximately 2-3 minutes walk away from Edinburgh Waverly train station.

    **The Agenda**

    18:30 Doors open  
    19:00 Welcome  
    19:10 Part 1  
    20:00 Break  
    20:10 Part 2  
    20:50 Feedback and Prizes  
    21:00 End

    \[[Register Now, there are some places left](http://jesse-liberty-edinburgh.eventbrite.com/)\]

    Technorati Tags: [Silverlight](http://technorati.com/tags/Silverlight) [MVVM](http://technorati.com/tags/MVVM) [VS 2010](http://technorati.com/tags/VS+2010)
  FilePath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-04-20-silverlight-4-mvvm-and-test-driven-development\index.md
  FolderPath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-04-20-silverlight-4-mvvm-and-test-driven-development
- FrontMatter:
    title: 'Guidance: A Branching strategy for Scrum Teams'
    description: Discover effective branching strategies for Scrum teams to enhance code quality and streamline development processes. Optimize your workflow today!
    ResourceId: kxyZ3s8u340
    ResourceType: blog
    ResourceContentOrigin: Human
    ResourceImport: true
    ResourceImportId: 50
    ResourceImportSource: Wordpress
    ResourceImportOriginalSource: GeeksWithBlogs
    date: 2010-04-14
    weight: 430
    creator: Martin Hinshelwood
    layout: blog
    resourceTypes: blog
    slug: guidance-a-branching-strategy-for-scrum-teams
    aliases:
    - /resources/kxyZ3s8u340
    aliasesArchive:
    - /blog/guidance-a-branching-strategy-for-scrum-teams
    - /guidance-a-branching-strategy-for-scrum-teams
    - /guidance--a-branching-strategy-for-scrum-teams
    - /blog/guidance--a-branching-strategy-for-scrum-teams
    - /resources/blog/guidance-a-branching-strategy-for-scrum-teams
    tags:
    - Software Development
    - Modern Source Control
    - Operational Practices
    - Release Management
    categories:
    - Scrum
    preview: metro-visual-studio-2010-128-link-18-18.png
  BodyContent: |
    ![vs2010alm](images/ABranchingstrategyfor_E931-vs2010alm_-16-16.png)![image](images/ABranchingstrategyfor_E931-image_-5-10.png)Having a good branching strategy will save your bacon, or at least your code. Be careful when deviating from your branching strategy because if you do, you may be worse off than when you started!
    { .post-img }

    This is one possible branching strategy for Scrum teams and I will not be going in depth with Scrum but you can find out more about Scrum by reading the [Scrum Guide](http://www.scrum.org/scrumguides/) and you can even assess your Scrum knowledge by having a go at the [Scrum Open Assessment](http://www.scrum.org/scrumopen/). You can also read SSW’s [Rules to Better Scrum using TFS](http://sharepoint.ssw.com.au/Standards/Management/RulesToBetterScrumUsingTFS/Pages/default.aspx) which have been developed during our own Scrum implementations.

    Acknowledgements

    - [Bill Heys](http://blogs.msdn.com/billheys/) – Bill offered some good feedback on this post and helped soften the language.  
       Note: Bill is a [VS ALM Ranger](http://msdn.microsoft.com/en-us/vstudio/ee358786.aspx) and co-wrote the [Branching Guidance](http://tfsbranchingguideiii.codeplex.com/) for TFS 2010
    - [Willy-Peter Schaub](http://blogs.msdn.com/willy-peter_schaub/) – Willy-Peter is an ex Visual Studio ALM MVP turned blue badge and has been involved in most of the guidance including the [Branching Guidance](http://tfsbranchingguideiii.codeplex.com/) for TFS 2010
    - [Chris Birmele](http://blogs.msdn.com/chrisbirmele/) – Chris wrote some of the early TFS [Branching and Merging Guidance](<http://msdn.microsoft.com/en-us/library/aa730834(VS.80).aspx>).
    - [Dr Paul Neumeyer](http://sharepoint.ssw.com.au/AboutUs/Employees/Pages/Paul.aspx), Ph.D Parallel Processes, ScrumMaster and SSW Solution Architect – Paul wanted to have feature branches coming from the release branch as well. We agreed that this is really a spin-off that needs own project, backlog, budget and Team.  
       Scenario: A product is developed RTM 1.0 is released and gets great sales.  Extra features are demanded but the new version will have double to price to pay to recover costs, work is approved by the guys with budget and a few sprints later RTM 2.0 is released.  Sales a very low due to the pricing strategy. There are lots of clients on RTM 1.0 calling out for patches.

    As I keep getting Reverse Integration and Forward Integration mixed up and Bill keeps slapping my wrists I thought I should have a reminder:

    > _You still seemed to use reverse and/or forward integration in the wrong context. I would recommend reviewing your document at the end to ensure that it agrees with the common understanding of these terms merge (forward integration) from parent to child (same direction as the branch), and merge  (reverse integration) from child to parent (the reverse direction of the branch).  
    > \- one of my many slaps on the wrist from [Bill Heys](http://blogs.msdn.com/billheys/)._

    Updates 15th April 2010

    - [Ian Ceicys](http://blogs.msdn.com/iceicys/) – Ian provided some corrections and clarity improvements as well as some good discussion on wither you should delete a sprint once it is complete. This I think is a preference thing as deleting a branch does not remove the history, just the future.

    Update 17th May 2010 – We are currently trialling running a single Sprint branch to improve our history.

    ---

    As I [mentioned previously](http://blog.hinshelwood.com/archive/2010/04/08/creating-a-branch-for-every-sprint.aspx "Create a branch for every sprint") we are using a single feature branching strategy in our current project.

    The **single biggest mistake** developers make is developing against the “Main” or “Trunk” line. This ultimately leads to messy code as things are added and never finished. Your only alternative is to NEVER check in unless your code is 100%, but this does not work in practice, even with a single developer. Your ADD will kick in and your half-finished code will be finished enough to pass the build and the tests. You do [use builds](http://blog.hinshelwood.com/archive/2010/03/18/do-you-know-the-minimum-builds-to-create-on-any.aspx "Do you know the minimum builds to create on any branch?") don’t you?

    > _Sadly, this is a very common scenario and I have had people argue that branching merely adds complexity. Then again I have seen the other side of the universe ... branching  structures from he... We should somehow convince everyone that there is a happy between no-branching and too-much-branching.  
    > \- [**Willy-Peter Schaub**](http://blogs.msdn.com/willy-peter_schaub/), VS ALM Ranger, Microsoft_

    > _A key benefit of branching for development is to isolate changes from the stable Main branch. Branching adds sanity more than it adds complexity. We do try to stress in our guidance that it is important to justify a branch, by doing a cost benefit analysis. The primary cost is the effort to do merges and resolve conflicts. A key benefit is that you have a stable code base in Main and accept changes into Main only after they pass quality gates, etc.  
    > \- [**Bill Heys**](http://blogs.msdn.com/billheys/), VS ALM Ranger & TFS Branching Lead, Microsoft_

    The **second biggest mistake** developers make is branching anything other than the WHOLE “Main” line. If you branch parts of your code and not others it gets out of sync and can make integration a nightmare. You should have your Source, Assets, Build scripts deployment scripts and dependencies inside the “Main” folder and branch the whole thing. Some departments within MSFT even go as far as to add the environments used to develop the product in there as well; although I would not recommend that unless you have a massive SQL cluster to house your source code.

    > _We tried the “add environment” back in South-Africa and while it was “phenomenal”, especially when having to switch between environments, the disk storage and processing requirements killed us. We opted for virtualization to skin this cat of keeping a ready-to-go environment handy.  
    > \- [**Willy-Peter Schaub**](http://blogs.msdn.com/willy-peter_schaub/), VS ALM Ranger, Microsoft_

    > _I think people often think that you should have separate branches for separate environments (e.g. Dev, Test, Integration Test, QA, etc.). I prefer to think of deploying to environments (such as from Main to QA) rather than branching for QA).  
    > \- [**Bill Heys**](http://blogs.msdn.com/billheys/), VS ALM Ranger & TFS Branching Lead, Microsoft_

    You can read about SSW’s [Rules to better Source Control](http://www.ssw.com.au/ssw/Standards/Rules/RulesToBetterSourceControlwithTFS.aspx "http://www.ssw.com.au/ssw/Standards/Rules/RulesToBetterSourceControlwithTFS.aspx") for some additional information on what Source Control to use and how to use it.

    There are also a number of branching Anti-Patterns that should be avoided at all costs:

    > You know you are on the wrong track if you experience one or more of the following symptoms in your development environment:
    >
    > - **Merge Paranoia**—avoiding merging at all cost, usually because of a fear of the consequences.
    > - **Merge Mania**—spending too much time merging software assets instead of developing them.
    > - **Big Bang Merge**—deferring branch merging to the end of the development effort and attempting to merge all branches simultaneously.
    > - **Never-Ending Merge**—continuous merging activity because there is always more to merge.
    > - **Wrong-Way Merge**—merging a software asset version with an earlier version.
    > - **Branch Mania**—creating many branches for no apparent reason.
    > - **Cascading Branches**—branching but never merging back to the main line.
    > - **Mysterious Branches**—branching for no apparent reason.
    > - **Temporary Branches**—branching for changing reasons, so the branch becomes a permanent temporary workspace.
    > - **Volatile Branches**—branching with unstable software assets shared by other branches or merged into another branch.  
    >    **Note**   Branches are volatile most of the time while they exist as independent branches. That is the point of having them. The difference is that you should not share or merge branches while they are in an unstable state.
    > - **Development Freeze**—stopping all development activities while branching, merging, and building new base lines.
    > - **Berlin Wall**—using branches to divide the development team members, instead of dividing the work they are performing.
    >
    > \-[Branching and Merging Primer](<http://msdn.microsoft.com/en-us/library/aa730834(VS.80).aspx>) by Chris Birmele - Developer Tools Technical Specialist at Microsoft Pty Ltd in Australia

    > _In fact, this can result in a merge exercise no-one wants to be involved in, merging hundreds of thousands of change sets and trying to get a consolidated build. Again, we need to find a happy medium.  
    > \- [**Willy-Peter Schaub**](http://blogs.msdn.com/willy-peter_schaub/) on **Merge Paranoia**_

    > _Merge conflicts are generally the result of making changes to the same file in both the target and source branch. If you create merge conflicts, you will eventually need to resolve them. Often the resolution is manual. Merging more frequently allows you to resolve these conflicts close to when they happen, making the resolution clearer. Waiting weeks or months to resolve them, the Big Bang approach, means you are more likely to resolve conflicts incorrectly.  
    > \- [**Bill Heys**](http://blogs.msdn.com/billheys/), VS ALM Ranger & TFS Branching Lead, Microsoft_

    [![image](images/ABranchingstrategyfor_E931-image_thumb_18-15-15.png)](http://blog.hinshelwood.com/files/2011/05/GWB-WindowsLiveWriter-ABranchingstrategyfor_E931-image_38.png)  
    { .post-img }
    **Figure: Main line, this is where your stable code lives and where any build has known entities, always passes and has a happy test that passes as well?**

    Many development projects consist of, a single “Main” line of source and artifacts. This is good; at least there is source control ![Smile](images/ABranchingstrategyfor_E931-wlEmoticon-smile_2-17-17.png). There are however a couple of issues that need to be considered.
    { .post-img }

    What happens if:

    - you and your team are working on a new set of features and the customer wants a change to his current version?
    - you are working on two features and the customer decides to abandon one of them?
    - you have two teams working on different feature sets and their changes start interfering with each other?
    - I just use labels instead of branches?

    That's a lot of “what if’s”, but there is a simple way of preventing this. Branching…

    > _In TFS, labels are not immutable. This does not mean they are not useful. But labels do not provide a very good development isolation mechanism. Branching allows separate code sets to evolve separately (e.g. Current with hotfixes, and vNext with new development). I don’t see how labels work here.  
    > \- [**Bill Heys**](http://blogs.msdn.com/billheys/), VS ALM Ranger & TFS Branching Lead, Microsoft_

    ![image](images/ABranchingstrategyfor_E931-image_-4-9.png)
    { .post-img }

    **Figure: Creating a single feature branch means you can isolate the development work on that branch.**

    Its standard practice for large projects with lots of developers to use Feature branching and you can check the [Branching Guidance](http://tfsbranchingguideiii.codeplex.com/) for the latest recommendations from the Visual Studio ALM Rangers for other methods.

    In the diagram above you can see my recommendation for branching when using Scrum development with TFS 2010. It consists of a single Sprint branch to contain all the changes for the current sprint. The main branch has the permissions changes so contributors to the project can only Branch and Merge with “Main”. This will prevent accidental check-ins or checkouts of the “Main” line that would contaminate the code. The developers continue to develop on sprint one until the completion of the sprint.

    Note: In the real world, starting a new Greenfield project, this process starts at Sprint 2 as at the start of Sprint 1 you would not have artifacts in version control and no need for isolation.

    ![image](images/ABranchingstrategyfor_E931-image_-2-7.png)  
    { .post-img }
    **Figure: Once the sprint is complete the Sprint 1 code can then be merged back into the Main line.**

    There are always good practices to follow, and one is to always do a Forward Integration from Main into Sprint 1 before you do a Reverse Integration from Sprint 1 back into Main. In this case it may seem superfluous, but this builds good muscle memory into your developer’s work ethic and means that no bad habits are learned that would interfere with additional Scrum Teams being added to the Product.

    The process of completing your sprint development:

    1. The Team completes their work according to their definition of done.
    2. Merge from “Main” into “Sprint1” (Forward Integration)
    3. Stabilize your code with any changes coming from other Scrum Teams working on the same product. If you have one Scrum Team this should be quick, but there may have been bug fixes in the Release branches. (we will talk about release branches later)
    4. Merge from “Sprint1” into “Main” to commit your changes. (Reverse Integration)
    5. Check-in
    6. Delete the Sprint1 branch  
       Note: The Sprint 1 branch is no longer required as its useful life has been concluded.  
       Note: In TFS deleting the Sprint 1 branch does not remove access to the to the history it just removes a future for that branch.  
       Note: If you do not like this option you can lock the files on the branch or change it to read only.
    7. Check-in
    8. Done

    But you are not yet done with the Sprint. The goal in Scrum is to have a “potentially shippable product” at the end of every Sprint, and we do not have that yet, we only have finished code.

    ![image](images/ABranchingstrategyfor_E931-image_-10-2.png)  
    { .post-img }
    **Figure: With Sprint 1 merged you can create a Release branch and run your final packaging and testing**

    > _In 99% of all projects I have been involved in or watched, a “shippable product” only happens towards the end of the overall lifecycle, especially when sprints are short. The in-between releases are great demonstration releases, but not shippable. Perhaps it comes from my 80’s brain washing that we only ship when we reach the agreed quality and business feature bar.  
    > \- [**Willy-Peter Schaub**](http://blogs.msdn.com/willy-peter_schaub/), VS ALM Ranger, Microsoft_

    Although you should have been testing and packaging your code all the way through your Sprint 1 development, preferably using an automated process, you still need to test and package with stable unchanging code. This is where you do what at SSW we call a “Test Please”. This is first an internal test of the product to make sure it meets the needs of the customer and you generally use a resource external to your Team. Then a “Test Please” is conducted with the Product Owner to make sure he is happy with the output.

    You can read about how to conduct a Test Please on our [Rules to Successful Projects](http://www.ssw.com.au/ssw/Standards/Rules/RulestoSuccessfulProjects.aspx):

    - [Do you conduct an internal "test please" prior to releasing a version to a client?](http://www.ssw.com.au/ssw/Standards/Rules/RulestoSuccessfulProjects.aspx#TestPlease "http://www.ssw.com.au/ssw/Standards/Rules/RulestoSuccessfulProjects.aspx#TestPlease")

    ![image](images/ABranchingstrategyfor_E931-image_-7-12.png)  
    { .post-img }
    **Figure: If you find a deviation from the expected result you fix it on the Release branch.**

    If during your final testing or your “Test Please” you find there are issues or bugs then you should fix them on the release branch. If you can’t fix them within the time box of your Sprint, then you will need to create a Bug and put it onto the backlog for prioritization by the Product owner. Make sure you leave plenty of time between your merge from the development branch to find and fix any problems that are uncovered.

    This process is commonly called Stabilization and should always be conducted once you have completed all of your User Stories and integrated all of your branches. Even once you have stabilized and released, you should not delete the release branch as you would with the Sprint branch. It has a usefulness for servicing that may extend well beyond the limited life you expect of it.

    Note: Don't get forced by the business into adding features into a Release branch instead that indicates the unspoken requirement is that they are asking for a product spin-off. In this case you can create a new Team Project and branch from the required Release branch to create a new Main branch for that product. And you create a whole new backlog to work from.

    ![image](images/ABranchingstrategyfor_E931-image_-14-6.png)  
    { .post-img }
    **Figure: When the Team decides it is happy with the product you can create a RTM branch.**

    Once you have fixed all the bugs you can, and added any you can’t to the Product Backlog, and you Team is happy with the result you can create a Release. This would consist of doing the final Build and Packaging it up ready for your Sprint Review meeting.

    You would then create a read-only branch that represents the code you “shipped”, commonly referred to as RTM(Released to Market). This is really an Audit trail branch that is optional, but is good practice.This is really an Audit trail branch that is optional, but is good practice.

    You could use a Label, but Labels are not Auditable and if a dispute was raised by the customer you can produce a verifiable version of the source code for an independent party to check. Rare I know, but you do not want to be at the wrong end of a legal battle. Like the Release branch the RTM branch should never be deleted, or only deleted according to your companies legal policy, which in the UK is usually 7 years.

    ![image](images/ABranchingstrategyfor_E931-image_-9-14.png)  
    { .post-img }
    **Figure: If you have made any changes in the Release you will need to merge back up to Main in order to finalise the changes.**

    Nothing is really ever done done until it is in Main. (see common misconceptions of done [here](http://www.scrumalliance.org/articles/150-beware-of-the-evil--done) and [here](http://edgehopper.com/is-it-donedone-the-elusive-potentially-shippable-product-increment/)). You need to do a Reverse Integration merge from the Release Branch into Main to carry the bug fixes over into the next sprint.

    Your Sprint is now nearly complete, and you can have a Sprint Review meeting knowing that you have made every effort and taken every precaution to protect your customer’s investment.

    Note: In order to really achieve protection for both you and your client you would add Automated Builds, Automated Tests, Automated Acceptance tests, Acceptance test tracking, Unit Tests, Load tests, Web test and all the other good engineering practices that help produce reliable software.

    > After branching Main to Release, we generally recommend not doing any subsequent merging (FI) from Main into the release branch.
    >
    > In our guidance we suggest that once you are ready to release your code, you would branch Main to Release (making the vCurrent). This allows you to open Main for vNext development and stabilization.
    >
    > If you later decide to merge hotfixes or service pack changes from Release to Main, you should be careful how you do this. It would probably NOT be a good idea to follow the same pattern we recommend for development (do one last FI from Main to Dev before doing the RI from Dev to Main). Doing one last FI from Main to Release would risk bringing vNext changes into Release.
    >
    > Note – vNext might mean sprintNext, but I think the same considerations apply. For vCurrent, especially after doing some hotfixes, the Release branch should be at a higher level of quality and stability than the Main branch. You don’t want to bring vNext code into the vCurrent Release branch any more than you want to bring vNext Feature code from Dev to Main before it passes quality gates in the Feature branch.
    >
    > \- [**Bill Heys**](http://blogs.msdn.com/billheys/), VS ALM Ranger & TFS Branching Lead, Microsoft

    Bill’s comments are quite pertinent here as you may think it is a good idea to do another forward integration to bring new features from Main into an existing Release. You can do it, its not recommended, but be very very careful.

    ![image](images/ABranchingstrategyfor_E931-image_-3-8.png)  
    { .post-img }
    **Figure: After the Sprint Planning meeting the process begins again.**

    Where the Sprint Review and Retrospective meetings mark the end of the Sprint, the Sprint Planning meeting marks the beginning. After you have completed your Sprint Planning and you know what you are trying to achieve in Sprint 2 you can create your new Branch to develop in.

    ---

    ## How do we handle a bug(s) in production that can’t wait?

    Although in Scrum the only work done should be on the backlog there should be a little buffer added to the Sprint Planning for contingencies. One of these contingencies is a bug in the current release that can’t wait for the Sprint to finish. But how do you handle that?

    [**Willy-Peter Schaub**](http://blogs.msdn.com/willy-peter_schaub/) asked an excellent question on the release activities:

    > _In reality Sprint 2 starts when sprint 1 ends + weekend. Should we not cater for a possible parallelism between Sprint 2 and the release activities of sprint 1? It would introduce FI’s from main to sprint 2, I guess. Your “_**Figure: Merging Sprint 2 back into Main.**_” covers, what I tend to believe to be reality in most cases.  
    > \- [**Willy-Peter Schaub**](http://blogs.msdn.com/willy-peter_schaub/), VS ALM Ranger, Microsoft_

    I agree, and if you have a single Scrum team then your resources are limited. The Scrum Team is responsible for packaging and release, so at least one run at stabilization, package and release should be included in the Sprint time box. If more are needed on the current production release during the Sprint 2 time box then resource needs to be pulled from Sprint 2.

    The Product Owner and the Team have four choices (in order of disruption/cost):

    1. **Backlog**: Add the bug to the backlog and fix it in the next Sprint
    2. **Buffer Time**: Use any buffer time included in the current Sprint to fix the bug quickly
    3. **Make time**: Remove a Story from the current Sprint that is of equal value to the time lost fixing the bug(s) and releasing.  
       Note: The Team must agree that it can still meet the Sprint Goal.
    4. **Cancel Sprint**: Cancel the sprint and concentrate all resource on fixing the bug(s)  
       Note: This can be a very costly if the current sprint has already had a lot of work completed as it will be lost.

    The choice will depend on the complexity and severity of the bug(s) and both the Product Owner and the Team need to agree. In this case we will go with option #2 or #3 as they are uncomplicated but severe bugs.

    ![image](images/ABranchingstrategyfor_E931-image_-6-11.png)
    { .post-img }

    **Figure: Real world issue where a bug needs fixed in the current release.**

    If the bug(s) is urgent enough then then your only option is to fix it in place. You can edit the release branch to find and fix the bug, hopefully creating a test so it can’t happen again. Follow the prior process and conduct an internal and customer “Test Please” before releasing.

    You can read about how to conduct a Test Please on our [Rules to Successful Projects](http://www.ssw.com.au/ssw/Standards/Rules/RulestoSuccessfulProjects.aspx):

    - [Do you conduct an internal "test please" prior to releasing a version to a client?](http://www.ssw.com.au/ssw/Standards/Rules/RulestoSuccessfulProjects.aspx#TestPlease "http://www.ssw.com.au/ssw/Standards/Rules/RulestoSuccessfulProjects.aspx#TestPlease")

    ![image](images/ABranchingstrategyfor_E931-image_-8-13.png)  
    { .post-img }
    **Figure: After you have fixed the bug you need to ship again.**

    You then need to again create an RTM branch to hold the version of the code you released in escrow.

    ![image](images/ABranchingstrategyfor_E931-image_-1-1.png)  
    { .post-img }
    **Figure: Main is now out of sync with your Release.**

    We now need to get these new changes back up into the Main branch. Do a reverse and then forward merge again to get the new code into Main. But what about the branch, are developers not working on Sprint 2? Does Sprint 2 now have changes that are not in Main and Main now have changes that are not in Sprint 2? Well, yes… and this is part of the hit you take doing branching. But would this scenario even have been possible without branching?

    ![image](images/ABranchingstrategyfor_E931-image_-11-3.png)  
    { .post-img }
    **Figure: Getting the changes in Main into Sprint 2 is very important.**

    The Team now needs to do a Forward Integration merge into their Sprint and resolve any conflicts that occur. Maybe the bug has already been fixed in Sprint 2, maybe the bug no longer exists! This needs to be identified and resolved by the developers before they continue to get further out of Sync with Main.

    Note: Avoid the “[Big bang merge](<http://msdn.microsoft.com/en-us/library/aa730834(VS.80).aspx#branchandmerge_antipatterns>)” at all costs.

    ![image](images/ABranchingstrategyfor_E931-image_-13-5.png)  
    { .post-img }
    **Figure: Merging Sprint 2 back into Main, the Forward Integration, and R0 terminates.**

    Sprint 2 now merges (Reverse Integration) back into Main following the procedures we have already established.

    ![image](images/ABranchingstrategyfor_E931-image_-12-4.png)  
    { .post-img }
    **Figure: The logical conclusion.**

    This then allows the creation of the next release.

    By now you should be getting the big picture and hopefully you learned something useful from this post. I know I have enjoyed writing it as I find these exploratory posts coupled with real world experience really help harden my understanding.

    Branching is a tool; it is not a silver bullet. Don’t over use it, and avoid “Anti-Patterns” where possible. Although the diagram above looks complicated I hope showing you how it is formed simplifies it as much as possible.

    > Both branches and workspaces (i.e. single branch) allow you to ‘isolate’ code – a branch isolates code on the ‘server side’, a workspace isolates code on the ‘client side’.  Yes it’s true code is isolated only as long s it lives in your workspace, so you might break the build once the code is checked in.  But the same is true for branches.  A branch is not used by individuals but typically by entire teams so the likelihood of conflicts exists just the same, but now you also have the potential of merge conflicts.
    >
    > There are good reasons to use branches (for example if you have the need to maintain multiple releases) but in many cases there is no real need.   Whether or not you have conflicts has a lot to do with your system architecture or work practices.  Changes made to a poorly architected solution will ripple through your solution and affect other team members, no matter how elaborate your branching structure is.  If multiple team members modify the same components it inevitable to have lots of broken builds.  The solution is not to create a fancy branching structure, but to restructure your team around the components and/or improve the system architecture (if possible of course).
    >
    > The question should not be “what is the most appropriate branching structure?”, but what is the best way to minimize code conflicts.  Branching is ONE option to achieve this.  
    > \-[Chris Birmele](http://blogs.msdn.com/chrisbirmele/), Visual Studio ALM Ranger, Microsoft

    Technorati Tags: [Branching](http://technorati.com/tags/Branching) [Scrum](http://technorati.com/tags/Scrum) [ALM](http://technorati.com/tags/ALM) [TFS 2010](http://technorati.com/tags/TFS+2010) [VS 2010](http://technorati.com/tags/VS+2010) [SSW](http://technorati.com/tags/SSW) [SP 2010](http://technorati.com/tags/SP+2010) [TFS](http://technorati.com/tags/TFS) [SharePoint](http://technorati.com/tags/SharePoint)
  FilePath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-04-14-guidance-a-branching-strategy-for-scrum-teams\index.md
  FolderPath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-04-14-guidance-a-branching-strategy-for-scrum-teams
- FrontMatter:
    title: Do you know when to send a done email in Scrum?
    description: Learn when to send a 'done' email in Scrum to enhance communication and ensure task completion. Boost your team's efficiency with these essential tips!
    ResourceId: iHdkPl8gwwm
    ResourceType: blog
    ResourceContentOrigin: Human
    ResourceImport: true
    ResourceImportId: 51
    ResourceImportSource: Wordpress
    ResourceImportOriginalSource: GeeksWithBlogs
    date: 2010-04-14
    weight: 1000
    creator: Martin Hinshelwood
    layout: blog
    resourceTypes: blog
    slug: do-you-know-when-to-send-a-done-email-in-scrum
    aliases:
    - /resources/iHdkPl8gwwm
    aliasesArchive:
    - /blog/do-you-know-when-to-send-a-done-email-in-scrum
    - /do-you-know-when-to-send-a-done-email-in-scrum
    - /do-you-know-when-to-send-a-done-email-in-scrum-
    - /blog/do-you-know-when-to-send-a-done-email-in-scrum-
    - /resources/blog/do-you-know-when-to-send-a-done-email-in-scrum
    tags:
    - Software Development
    categories:
    - Scrum
    preview: metro-sharepoint-128-link-3-3.png
  BodyContent: |
    ![RulestoBetter](images/DoyouknowwhentosendadoneemailinScrum_CE5F-RulestoBetter_-2-2.gif)At SSW we have always sent done emails to the owner/requestor to let them know that it is done. Others who are dependent on that tasks are CC’ed so they know they can proceed. But how does that fit into Scrum?
    { .post-img }

    Update 14th April 2010

    - Rule added to [Rules to better Scrum with TFS](http://sharepoint.ssw.com.au/Standards/Management/RulesToBetterScrumUsingTFS/Pages/default.aspx)

    ---

    ## If you are working on a task:

    When you complete a Task that is part of a User Story you need to send a done email to the [Owner of that Story](http://sharepoint.ssw.com.au/Standards/Management/RulesToBetterScrumUsingTFS/Pages/OwnerForEveryUserStory.aspx).

    You only need to add the Task #, Summary and link to the item in WIWA. Remember that all your tasks should be [under 4 hours](http://sharepoint.ssw.com.au/Standards/Management/RulesToBetterScrumUsingTFS/Pages/BreakLargeTasks.aspx), do spending lots of time on a [Done Email](http://www.ssw.com.au/ssw/Standards/Rules/RulesToBetterEmail.aspx#ReplyAndDelete) for a Task would be counter productive. Add more information if required, for example you may have completed the task a different way than previously discussed.

    Make sure that [every User Story has an Owner](http://sharepoint.ssw.com.au/Standards/Management/RulesToBetterScrumUsingTFS/Pages/OwnerForEveryUserStory.aspx) as per the rules.

    ## If you are the owner of a story:

    When you complete a story you should send a [comprehensive done email](http://www.ssw.com.au/ssw/Standards/Rules/RulesToBetterEmail.aspx#ReplyAndDelete) as per the rules when the story had been completed. Make sure you add a list of all of the Tasks that were completed as part of the story and the Done criteria that you completed.

    If your done criteria says:

    1. Built Successfully
    2. 30% Code Coverage
    3. All tests passed

    Then add an illustration to show this.

    ![image](images/DoyouknowwhentosendadoneemailinScrum_CE5F-image_-1-1.png)  
    { .post-img }
    **Figure: Show that you have met your Done criteria where possible.**

    This is all designed to help you Scrum Team members (Product Owner, ScrumMaster and Team) validate the quality of the work that has been completed. Remember that you are not DONE until your team says you are done.

    Technorati Tags: [SSW](http://technorati.com/tags/SSW) [Scrum](http://technorati.com/tags/Scrum) [SSW Rules](http://technorati.com/tags/SSW+Rules) [SP 2010](http://technorati.com/tags/SP+2010) [SharePoint](http://technorati.com/tags/SharePoint)
  FilePath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-04-14-do-you-know-when-to-send-a-done-email-in-scrum\index.md
  FolderPath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-04-14-do-you-know-when-to-send-a-done-email-in-scrum
- FrontMatter:
    title: Do you have a contract between the Product Owner and the Team?
    description: Discover the importance of a Sprint Contract between the Product Owner and Team in Scrum. Enhance collaboration and clarity for successful project delivery.
    ResourceId: 8d4KN3bxVfX
    ResourceType: blog
    ResourceContentOrigin: Human
    ResourceImport: true
    ResourceImportId: 52
    ResourceImportSource: Wordpress
    ResourceImportOriginalSource: GeeksWithBlogs
    date: 2010-04-14
    weight: 790
    creator: Martin Hinshelwood
    layout: blog
    resourceTypes: blog
    slug: do-you-have-a-contract-between-the-product-owner-and-the-team
    aliases:
    - /resources/8d4KN3bxVfX
    aliasesArchive:
    - /blog/do-you-have-a-contract-between-the-product-owner-and-the-team
    - /do-you-have-a-contract-between-the-product-owner-and-the-team
    - /do-you-have-a-contract-between-the-product-owner-and-the-team-
    - /blog/do-you-have-a-contract-between-the-product-owner-and-the-team-
    - /resources/blog/do-you-have-a-contract-between-the-product-owner-and-the-team
    tags:
    - Software Development
    categories:
    - Scrum
    preview: metro-sharepoint-128-link-1-1.png
  BodyContent: |
    ![RulestoBetter](images/SSWScrumRules_C6B7-RulestoBetter_-3-3.gif)Working in Scrum it is useful to define a Sprint Contract between the Product Owner (PO) and the implementation Team. Doing this helps to improve common understanding in, and sometimes to enforce, the relationship between the PO and the Team.
    { .post-img }

    Update 14th April 2010

    - Rule added to [Rules to better Scrum with TFS](http://sharepoint.ssw.com.au/Standards/Management/RulesToBetterScrumUsingTFS/Pages/default.aspx)

    ---

    This is simply an agreement between the PO for one Sprint and is not really a commercial contract and should be confirmed via an e-mail at the beginning of every Sprint.

    > “The implementation team agrees to do its best to deliver an agreed on set of features (scope) to a defined quality standard by the end of the sprint. (Ideally they deliver what they promised, or even a bit more.) The Product Owner agrees not to change his instructions before the end of the Sprint.”  
    > \- Agile Project management ([http://agilesoftwaredevelopment.com/blog/peterstev/10-agile-contracts#Sprint](http://agilesoftwaredevelopment.com/blog/peterstev/10-agile-contracts#Sprint))

    Each of the Sprints in a Scrum project can be considered a mini-project that has Time (Sprint Length), Scope (Sprint Backlog), Quality (Definition of Done) and Cost (Team Size\*Sprint Length). Only the scope can vary and this is measured every sprint.

    ![image](images/SSWScrumRules_C6B7-image_-2-2.png)
    { .post-img }

    **Figure: Good Example, the product owner should reply to the team and commit to the contract**

    Technorati Tags: [SSW](http://technorati.com/tags/SSW) [Scrum](http://technorati.com/tags/Scrum) [SSW Rules](http://technorati.com/tags/SSW+Rules) [SP 2010](http://technorati.com/tags/SP+2010) [SharePoint](http://technorati.com/tags/SharePoint)
  FilePath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-04-14-do-you-have-a-contract-between-the-product-owner-and-the-team\index.md
  FolderPath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-04-14-do-you-have-a-contract-between-the-product-owner-and-the-team
- FrontMatter:
    title: Upgrading Visual Studio 2010
    description: Learn how to easily upgrade from Visual Studio 2010 RC to RTM with step-by-step instructions and tips for a smooth installation process. Start coding today!
    ResourceId: PqP_zdmb8WX
    ResourceType: blog
    ResourceContentOrigin: Human
    ResourceImport: true
    ResourceImportId: 54
    ResourceImportSource: Wordpress
    ResourceImportOriginalSource: GeeksWithBlogs
    date: 2010-04-12
    weight: 1000
    creator: Martin Hinshelwood
    layout: blog
    resourceTypes: blog
    slug: upgrading-visual-studio-2010
    aliases:
    - /resources/PqP_zdmb8WX
    aliasesArchive:
    - /blog/upgrading-visual-studio-2010
    - /upgrading-visual-studio-2010
    - /resources/blog/upgrading-visual-studio-2010
    tags: []
    preview: metro-visual-studio-2010-128-link-3-1.png
    categories:
    - Uncategorized
  BodyContent: |
    ![vs2010_ultimate_web](images/UpgradingVisualStudio2010_D9B8-vs2010_ultimate_web_-8-6.jpg)I have been running Visual Studio 2010 as my main development studio on my development computer since the RC was released. I need to upgrade that to the RTM, but first I need to remove it. Microsoft have done a lot of work to make this easy, and it works. Its as easy as uninstalling from the control panel.
    { .post-img }

    I have had may previous versions of Visual Studio 2010 on this same computer with no need to rebuild to remove all the bits.

    ![image](images/UpgradingVisualStudio2010_D9B8-image_-6-4.png)  
    { .post-img }
    **Figure: Run the uninstall from the control panel to remove Visual Studio 2010 RC**

    ![image](images/UpgradingVisualStudio2010_D9B8-image_-7-5.png)  
    { .post-img }
    **Figure: The uninstall removes everything for you.**

    ![image](images/UpgradingVisualStudio2010_D9B8-image_-4-2.png)  
    { .post-img }
    **Figure: A green tick means the everything went OK. If you get a red cross, try installing the RTM anyway and it should warn you with what was not uninstalled properly and you can remove it manually.**

    Once you have VS2010 RC uninstalled installing should be a breeze. The install for 2010 is much faster than 2008. Which could take all day, and then some on slower computers. This takes around 20 minutes even on my small laptop. I always do a full install as although I have to do c# I sometimes get to use a proper programming language ![Smile](images/UpgradingVisualStudio2010_D9B8-wlEmoticon-smile_2-2-8.png) VB.NET. Seriously, there is nothing worse than trying to open a project and the other developer has used something you don't have. Its not their fault. Its yours! Save yourself the angst and install Fully, its only 5.9GB.
    { .post-img }

    ![image](images/UpgradingVisualStudio2010_D9B8-image_-5-3.png)  
    { .post-img }
    **Figure: I always select all of the options.**

    If you have just uninstalled the .NET 4 RC then you will probably be asked to restart ![Sad](images/UpgradingVisualStudio2010_D9B8-wlEmoticon-sad_2-1-7.png) But it is a necessary evil.
    { .post-img }

    **Now go forth and develop! Preferably in VB.NET…**

    Technorati Tags: [VS 2010](http://technorati.com/tags/VS+2010) [Visual Studio](http://technorati.com/tags/Visual+Studio)
  FilePath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-04-12-upgrading-visual-studio-2010\index.md
  FolderPath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-04-12-upgrading-visual-studio-2010
- FrontMatter:
    title: Upgrading from TFS 2010 RC to TFS 2010 RTM done
    description: Discover the seamless upgrade process from TFS 2010 RC to RTM. Follow expert tips and insights to ensure a smooth transition for your development environment.
    ResourceId: wGdSgbWfpEB
    ResourceType: blog
    ResourceContentOrigin: Human
    ResourceImport: true
    ResourceImportId: 53
    ResourceImportSource: Wordpress
    ResourceImportOriginalSource: GeeksWithBlogs
    date: 2010-04-12
    weight: 840
    creator: Martin Hinshelwood
    layout: blog
    resourceTypes: blog
    slug: upgrading-from-tfs-2010-rc-to-tfs-2010-rtm-done
    aliases:
    - /resources/wGdSgbWfpEB
    aliasesArchive:
    - /blog/upgrading-from-tfs-2010-rc-to-tfs-2010-rtm-done
    - /upgrading-from-tfs-2010-rc-to-tfs-2010-rtm-done
    - /resources/blog/upgrading-from-tfs-2010-rc-to-tfs-2010-rtm-done
    tags:
    - Install and Configuration
    - Software Development
    - System Configuration
    - Azure DevOps
    - Windows
    preview: metro-visual-studio-2010-128-link-36-36.png
    categories:
    - Uncategorized
  BodyContent: |
    ![vs2010alm](images/09437a6f5f9c_A38D-vs2010alm_-34-34.png)Today is the big day, with the Launch of Visual Studio 2010 already done in Asia, and rolling around the world towards us, we are getting ready for the RTM.
    { .post-img }

    We have had TFS 2010 Beta 2 and RC in Production for nearly 6 months and have had only joy, so moving to the RTM on launch day gives me warm and fuzzy feelings.

    Update 12th April 2010

    - [Adam Cogan](http://adamcogan.com/) – Adam suggested I get our disagreement out in the open, improve the proposed solution description with some visual cues and move the Pros and Cons to the top.
    - Added Scott Hanselman’s tweet about the MSDN download release time.
    - Added – Testing TFS to make sure it is working.
    - Added – Configured build services.

    Updated 13th March 2010

    - [Adam Cogan](http://adamcogan.com/) pointed out that I had not followed the rule “[Do you use Microsoft Word's spelling and grammar checker to make your web content professional?](http://www.ssw.com.au/ssw/Standards/Rules/RulesToBetterWebsitesLayout.aspx#WordSpellingAndGrammarChecker "http://www.ssw.com.au/ssw/Standards/Rules/RulesToBetterWebsitesLayout.aspx#WordSpellingAndGrammarChecker")” – Done
    - [Tatham Oddie](http://blog.tatham.oddie.com.au/) suggested making the bullet list clearer as the strikethrough made it less readable, and he wondered why the product key was not pre-pidded (Key included) like most MSDN downloads. Well this is because I did not get it from MSDN ![Smile](images/09437a6f5f9c_A38D-wlEmoticon-smile_2-35-35.png)
      { .post-img }

    Updated 13th September 2010

    - [Adam Cogan](http://adamcogan.com/) asked for a couple of grammatical and phrasing changes and I have implemented the ones that I liked.

    ---

    [SSW](http://www.ssw.com.au) was the first company in the world outside of Microsoft to deploy Visual Studio 2010 Team Foundation Server to production, not [once](http://blog.hinshelwood.com/archive/2009/10/25/deploying-visual-studio-2010-team-foundation-server-beta-2.aspx), but [twice](http://blog.hinshelwood.com/archive/2010/02/10/upgrading-from-tfs-2010-beta-2-to-tfs-2010-rc.aspx). I am hoping to make it 3 in a row, but with all the hype around the new version, and with it being a production release and not just a go-live, I think there will be a lot of competition.

    > _![](images/tinyheadshot2-37-37.jpg)Developers: MSDN will be updated with_ [_#vs2010_](http://twitter.com/search?q=%23vs2010) _downloads and details at 10am PST \*today\*!_[@shanselman](http://twitter.com/shanselman) _- Scott Hanselman_
    > { .post-img }

    If you are upgrading from TFS 2008 to TFS2010 you can follow our [Rules To Better TFS 2010 Migration](http://sharepoint.ssw.com.au/Standards/TFS/RulesToBetterTFS2010Migration/Pages/default.aspx "Rules To Better TFS 2010 Migration") and read my [post](http://blog.hinshelwood.com/archive/2009/10/25/deploying-visual-studio-2010-team-foundation-server-beta-2.aspx) on our successes.

    I already had the RC live, so lets look at how this went today:

    ## Summary

    First I checked my backups, then same as [before](http://blog.hinshelwood.com/archive/2010/02/10/upgrading-from-tfs-2010-beta-2-to-tfs-2010-rc.aspx), I needed to Uninstall 2010 RC and install 2010 RTM. The installer takes care of all the complexity of actually upgrading any schema changes.

    I checked source control was working and then got the SharePoint 2007 Portal going.

    ## More Information:

    We run TFS 2010 in a Hyper-V virtual environment, so we have the advantage of running a snapshot as well as taking a DB backup.

    1. **Done - Snapshot the hyper-v server**  
       Microsoft does not support taking a snapshot of a running server, for very good reason, and Brian Harry wrote a post after my last upgrade with the reason why you should [never snapshot a running server](http://blogs.msdn.com/bharry/archive/2010/02/10/a-tfs-2010-upgrade-success-story.aspx).
    2. **Done - Uninstall Visual Studio Team Explorer 2010 RC**  
       You will need to uninstall all of the Visual Studio 2010 RC client bits that you have on the server.
    3. **Done - Uninstall TFS 2010 RC**
    4. **Done - Install TFS 2010 RTM**
    5. **Done - Configure TFS 2010 RTM**  
       Pick the Upgrade option and point it at your existing “tfs_Configuration” database to load all of the existing settings
    6. **Done - Upgrade the SharePoint Extensions**
    7. **Done - Upgrade Build Servers**
    8. **Done - Test the server**

    The back out plan, and you should always have one, is to restore the snapshot.

    ## Upgrading to Team Foundation Server 2010 – Done

    The first thing you need to do is off the TFS server and then log into the Hyper-v server and create a snapshot.

    ![image](images/09437a6f5f9c_A38D-image_-14-6.png)ary  
    { .post-img }
    **Figure: Make sure you turn the server off and delete all old snapshots before you take a new one  
    **

    I noticed that the snapshot that was taken before the Beta 2 to RC upgrade was still there. You should really delete old snapshots before you create a new one, but in this case the SysAdmin (who is currently tucked up in bed) asked me not to. I guess he is worried about a developer messing up his server ![Smile](images/09437a6f5f9c_A38D-wlEmoticon-smile_2-35-35.png)
    { .post-img }

    Turn your server on and wait for it to boot in anticipation of all the nice shiny RTM’ness that is coming next. The upgrade procedure for TFS2010 is to uninstall the old version and install the new one.

    ![image](images/09437a6f5f9c_A38D-image_-26-19.png)  
    { .post-img }
    **Figure: Remove Visual Studio 2010 Team Foundation Server RC from the system.**

    ![image](images/09437a6f5f9c_A38D-image_-17-9.png)  
    { .post-img }
    **Figure: Most of the heavy lifting is done by the Uninstaller, but make sure you have removed any of the client bits first. Specifically Visual Studio 2010 or Team Explorer 2010.**

    Once the uninstall is complete, this took around 5 minutes for me, you can begin the install of the RTM. Running the 64 bit OS will allow the application to use more than 2GB RAM, which while not common may be of use in heavy load situations.

    ![image](images/09437a6f5f9c_A38D-image_-30-24.png)  
    { .post-img }
    **Figure: It is always recommended to install the 64bit version of a server application where possible. I do not think it is likely, with SharePoint 2010 and Exchange 2010  and even Windows Server 2008 R2 being 64 bit only, I do not think there will be another release of a server app that is 32bit.**

    You then need to choose what it is you want to install. This depends on how you are running TFS and on how many servers. In our case we run TFS and the Team Foundation Build Service (controller only) on out TFS server along with Analysis services and Reporting Services. But our SharePoint server lives elsewhere.

    ![image](images/09437a6f5f9c_A38D-image_-18-10.png)  
    { .post-img }
    **Figure: This always confuses people, but in reality it makes sense. Don’t install what you do not need. Every extra you install has an impact of performance.**

    If you are integrating with SharePoint you will need to run this install on every Front end server in your farm and don’t forget to upgrade your Build servers and proxy servers later.

    ![image](images/09437a6f5f9c_A38D-image_-4-28.png)  
    { .post-img }
    **Figure: Selecting only Team Foundation Server (TFS) and Team Foundation Build Services (TFBS)**

    It is worth noting that if you have a lot of builds kicking off, and hence a lot of get operations against your TFS server, you can use a proxy server to cache the source control on another server in between your TFS server and your build servers.

    ![image](images/09437a6f5f9c_A38D-image_-22-15.png)  
    { .post-img }
    **Figure: Installing Microsoft .NET Framework 4 takes the most time.**

    ![image](images/09437a6f5f9c_A38D-image_-15-7.png)  
    { .post-img }
    **Figure: Now run Windows Update, and [SSW Diagnostic](http://www.ssw.com.au/ssw/Diagnostics/Default.aspx) to make sure all your bits and bobs are up to date.**  
    Note: [SSW Diagnostic](http://www.ssw.com.au/ssw/Diagnostics/Default.aspx) will check your Power Tools, Add-on’s, Check in Policies and other bits as well.

    ## Configure Team Foundation Server 2010 – Done

    Now you can configure the server. If you have no key you will need to pick “Install a Trial License”, but it is only £500, or free with a MSDN subscription. Anyway, if you pick Trial you get 90 days to get your key.  
    ![image](images/09437a6f5f9c_A38D-image_-13-5.png)  
    { .post-img }
    **Figure: You can pick trial and add your key later using the TFS Server Admin.**

    Here is where the real choices happen. We are doing an Upgrade from a previous version, so I will pick Upgrade the same as all you folks that are using the RC or TFS 2008.

    ![image](images/09437a6f5f9c_A38D-image_-1-1.png)  
    { .post-img }
    **Figure: The upgrade wizard takes your existing 2010 or 2008 databases and upgraded them to the release.**

    Once you have entered your database server name you can click “List available databases” and it will show what it can upgrade.

    ![image](images/09437a6f5f9c_A38D-image_-5-29.png)  
    { .post-img }
    **Figure: Select your database from the list and at this point, make sure you have a valid backup. At this point you have not made ANY changes to the databases.**

    At this point the configuration wizard will load configuration from your existing database if you have one. If you are upgrading TFS 2008 refer to [Rules To Better TFS 2010 Migration](http://sharepoint.ssw.com.au/Standards/TFS/RulesToBetterTFS2010Migration/Pages/default.aspx "Rules To Better TFS 2010 Migration").

    Mostly during the wizard the default values will suffice, but depending on the configuration you want you can pick different options.

    ![image](images/09437a6f5f9c_A38D-image_-12-4.png)  
    { .post-img }
    **Figure: Set the application tier account and Authentication method to use. We use NTLM to keep things simple as we host our TFS server externally for our remote developers.**

    ![image](images/09437a6f5f9c_A38D-image_-31-25.png)  
    { .post-img }
    **Figure: Setting your TFS server URL’s to be the remote URL’s allows the reports to be accessed without using VPN. Very handy for those remote developers.**

    ![image](images/09437a6f5f9c_A38D-image_-32-26.png)  
    { .post-img }
    **Figure: Detected the existing Warehouse no problem.  
    **![image](images/09437a6f5f9c_A38D-image_-23-16.png)  
    { .post-img }
    **Figure: Again we love green ticks. It gives us a warm fuzzy feeling.**

    ![image](images/09437a6f5f9c_A38D-image_-28-21.png)  
    { .post-img }
    **Figure: The username for connecting to Reporting services should be a domain account (if you are on a domain that is).  
    ![image](images/09437a6f5f9c_A38D-image_-29-22.png)**  
    { .post-img }
    **Figure: Setup the SharePoint integration to connect to your external SharePoint server. You can take the option to connect later.**

    You then need to run all of your readiness checks. These checks can save your life! it will check all of the settings that you have entered as well as checking all the external services are configures and running properly. There are two reasons that TFS 2010 is so easy and painless to install where previous versions were not. Microsoft changes the install to two steps, Install and configuration. The second reason is that they have pulled out all of the stops in making the install run all the checks necessary to make sure that once you start the install that it will complete. if you find any errors I recommend that you report them on [http://connect.microsoft.com](http://connect.microsoft.com) so everyone can benefit from your misery. ![Smile](images/09437a6f5f9c_A38D-wlEmoticon-smile_2-35-35.png)
    { .post-img }

    ![image](images/09437a6f5f9c_A38D-image_-21-14.png)  
    { .post-img }
    **Figure: Took a while on the “Web site” stage for some point, but zipped though after that.**

    ![image](images/09437a6f5f9c_A38D-image_-20-13.png)  
    { .post-img }
    **Figure: Now we have everything setup the configuration wizard can do its work.**

    ![image](images/09437a6f5f9c_A38D-image_-27-20.png)
    { .post-img }

    **Figure: last wee bit. TFS Needs to do a little tinkering with the data to complete the upgrade.**

    ![image](images/09437a6f5f9c_A38D-image_-10-2.png)  
    { .post-img }
    **Figure: All upgraded. I am not worried about the yellow triangle as SharePoint was being a little silly**

    > Exception Message: TF254021: The account name or password that you specified is not valid. (type TfsAdminException)
    >
    > Exception Stack Trace:    at Microsoft.TeamFoundation.Management.Controls.WizardCommon.AccountSelectionControl.TestLogon(String connectionString)  
    >    at System.ComponentModel.BackgroundWorker.WorkerThreadStart(Object argument)
    >
    > \[Info   @16:10:16.307\] Benign exception caught as part of verify:  
    > Exception Message: TF255329: The following site could not be accessed: [http://projects.ssw.com.au/](http://projects.ssw.com.au/). The server that you specified did not return the expected response. Either you have not installed the Team Foundation Server Extensions for SharePoint Products on this server, or a firewall is blocking access to the specified site or the SharePoint Central Administration site. For more information, see the Microsoft Web site ([http://go.microsoft.com/fwlink/?LinkId=161206)](http://go.microsoft.com/fwlink/?LinkId=161206)). (type TeamFoundationServerException)
    >
    > Exception Stack Trace:    at Microsoft.TeamFoundation.Client.SharePoint.WssUtilities.VerifyTeamFoundationSharePointExtensions(ICredentials credentials, Uri url)  
    >    at Microsoft.TeamFoundation.Admin.VerifySharePointSitesUrl.Verify()
    >
    > Inner Exception Details:
    >
    > Exception Message: TF249064: The following Web service returned an response that is not valid: [http://projects.ssw.com.au/\_vti_bin/TeamFoundationIntegrationService.asmx](http://projects.ssw.com.au/_vti_bin/TeamFoundationIntegrationService.asmx). This Web service is used for the Team Foundation Server Extensions for SharePoint Products. Either the extensions are not installed, the request resulted in HTML being returned, or there is a problem with the URL. Verify that the following URL points to a valid SharePoint Web application and that the application is available: [http://projects.ssw.com.au](http://projects.ssw.com.au). If the URL is correct and the Web application is operating normally, verify that a firewall is not blocking access to the Web application. (type TeamFoundationServerInvalidResponseException)  
    > Exception Data Dictionary:  
    > ResponseStatusCode = InternalServerError

    I’ll look at SharePoint after, probably the SharePoint box just needs a restart or a kick ![Smile](images/09437a6f5f9c_A38D-wlEmoticon-smile_2-35-35.png) If there is a problem with SharePoint it will come out in testing, But I will defiantly be passing this on to Microsoft.
    { .post-img }

    ## Upgrading the SharePoint connector to TFS 2010

    You will need to upgrade the Extensions for SharePoint Products and Technologies on all of your SharePoint farm front end servers. To do this uninstall  the TFS 2010 RC from it in the same way as the server, and then install just the RTM Extensions.

    ![image](images/09437a6f5f9c_A38D-image_-8-32.png)  
    { .post-img }
    **Figure: Only install the SharePoint Extensions on your SharePoint front end servers. TFS 2010 supports both SharePoint 2007 and SharePoint 2010.**

    ![image](images/09437a6f5f9c_A38D-image_-6-30.png)  
    { .post-img }
    **Figure: When you configure SharePoint it uploads all of the solutions and templates.**

    ![image](images/09437a6f5f9c_A38D-image_-19-11.png)  
    { .post-img }
    **Figure: Everything is uploaded successfully.**

    ![image](images/09437a6f5f9c_A38D-image_-7-31.png)  
    { .post-img }
    **Figure: TFS even remembered the settings from the previous installation, fantastic.**

    ## Upgrading the Team Foundation Build Servers to TFS 2010

    Just like on the SharePoint servers you will need to upgrade the Build Server to the RTM. Just uninstall TFS 2010 RC and then install only the Team Foundation Build Services component. Unlike on the SharePoint server you will probably have some version of Visual Studio installed. You will need to remove this as well.

    ![image](images/09437a6f5f9c_A38D-image_-24-17.png)  
    { .post-img }
    **Figure: You only need to install the Team Foundation Build Service.**

    ![image](images/09437a6f5f9c_A38D-image_-11-3.png)   
    { .post-img }
    **Figure: Team Build Services only work with one Team Project Collection so you need to select one.  
    **![image](images/09437a6f5f9c_A38D-image_-2-12.png)  
    { .post-img }
    **Figure: Now that you have selected a Project Collection, you can choose a Controller.**

    You should only have more than one Build Agent running if you have more processors and lots of RAM.

    ![image](images/09437a6f5f9c_A38D-image_-9-33.png)  
    { .post-img }
    **Figure: All checks passed**

    ![image](images/09437a6f5f9c_A38D-image_-16-8.png)  
    { .post-img }
    **Figure: Configuration complete.**

    ![image](images/09437a6f5f9c_A38D-image_-3-23.png)  
    { .post-img }
    **Figure: Lots of little green ticks makes on big one!**

    ## Testing the Team Foundation Server

    ![image](images/09437a6f5f9c_A38D-image_-25-18.png)
    { .post-img }

    **Figure: Team Web Access is working**

    ![image](images/09437a6f5f9c_A38D-image_-33-27.png)  
    { .post-img }
    **Figure: VS2010 RC connecting to TFS2010 RTM**

    ## Connecting Visual Studio 2010 / 2008 / 2005 and Eclipse to TFS2010

    You will have no problems connecting to TFS2010 from VS2010 RC or VS2010 RTM, but what about legacy versions of Visual Studio or developers working with Java?

    If you have developers still on Visual Studio 2005 or 2008 you will need do download the respective compatibility pack:

    - [Visual Studio Team System 2005 Service Pack 1 Forward Compatibility Update for Team Foundation Server 2010](http://www.microsoft.com/downloads/details.aspx?FamilyID=22215e4c-af6f-4e2f-96df-20e94d762689&displaylang=en "http://www.microsoft.com/downloads/details.aspx?FamilyID=22215e4c-af6f-4e2f-96df-20e94d762689&displaylang=en")
    - [Visual Studio Team System 2008 Service Pack 1 Forward Compatibility Update for Team Foundation Server 2010](http://www.microsoft.com/downloads/details.aspx?familyid=CF13EA45-D17B-4EDC-8E6C-6C5B208EC54D&displaylang=en)

    If you are using Eclipse you can download the new [Team Explorer Everywhere](http://www.microsoft.com/downloads/details.aspx?displaylang=en&FamilyID=3c9454e0-523a-4ee1-b436-5c6fc2110b34) install for connecting to TFS.

    Get your developers to check that you have the latest version of your applications with [SSW Diagnostic](http://www.google.co.uk/url?sa=t&source=web&ct=res&cd=1&ved=0CAgQFjAA&url=http%3A%2F%2Fwww.ssw.com.au%2Fssw%2FDiagnostics%2FDefault.aspx&rct=j&q=SSW+diagnostic&ei=bwLDS-DUD8n3-Qam0KDJCA&mk=0&mb=2&usg=AFQjCNH8Q1imMZTTiqT544Zf7wmLd_lj2A&sig2=SC4YIDhaN5qEfUdR3ygcVQ) which will check for Service Packs and hot fixes to Visual Studio as well.

    Technorati Tags: [TFS 2010](http://technorati.com/tags/TFS+2010) [ALM](http://technorati.com/tags/ALM) [TFBS](http://technorati.com/tags/TFBS) [SSW](http://technorati.com/tags/SSW) [VS 2010](http://technorati.com/tags/VS+2010) [TFS 2008](http://technorati.com/tags/TFS+2008) [SP 2010](http://technorati.com/tags/SP+2010) [TFS](http://technorati.com/tags/TFS) [SharePoint](http://technorati.com/tags/SharePoint) [VS 2005](http://technorati.com/tags/VS+2005)
  FilePath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-04-12-upgrading-from-tfs-2010-rc-to-tfs-2010-rtm-done\index.md
  FolderPath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-04-12-upgrading-from-tfs-2010-rc-to-tfs-2010-rtm-done
- FrontMatter:
    title: Scrum for Team Foundation Server 2010
    description: Join Martin Hinshelwood to explore Scrum with TFS 2010, enhancing your software development process with Visual Studio ALM tools. Learn key strategies today!
    ResourceId: rDtXzVuotXt
    ResourceType: blog
    ResourceContentOrigin: Human
    ResourceImport: true
    ResourceImportId: 55
    ResourceImportSource: Wordpress
    ResourceImportOriginalSource: GeeksWithBlogs
    date: 2010-04-09
    weight: 840
    creator: Martin Hinshelwood
    layout: blog
    resourceTypes: blog
    slug: scrum-for-team-foundation-server-2010
    aliases:
    - /resources/rDtXzVuotXt
    aliasesArchive:
    - /blog/scrum-for-team-foundation-server-2010
    - /scrum-for-team-foundation-server-2010
    - /resources/blog/scrum-for-team-foundation-server-2010
    tags:
    - Software Development
    categories:
    - Uncategorized
    preview: metro-visual-studio-2010-128-link-2-1.png
  BodyContent: |
    ![image](images/ScrumforTFS2010_951A-image_-3-2.png)I will be presenting a session on “Scrum for TFS2010” not once, but twice!
    { .post-img }

    If you are going to be at the Aberdeen Partner Group meeting on 27th April, or [DDD Scotland](http://developerdeveloperdeveloper.com/scotland2010/default.aspx) on 8th May then you may be able to catch my session.

    Credit: I want to give special thanks to [Aaron Bjork](http://blogs.msdn.com/aaronbjork) from Microsoft who provided me with most of my material ![Smile](images/ScrumforTFS2010_951A-wlEmoticon-smile_2-1-3.png) He is a Scrum and Power Point genius.
    { .post-img }

    Updated 9th May 2010 – I have now presented at both of these sessions  and [posted](http://blog.hinshelwood.com/archive/2010/05/09/scrum-with-team-foundation-server-2010-done.aspx) about it.

    ---

    ## Scrum for Team Foundation Server 2010 Synopsis

    Visual Studio ALM (formerly Visual Studio Team System (VSTS)) and Team Foundation Server (TFS) are the cornerstones of development on the Microsoft .NET platform. These are the best tools for a team to have successful projects and for the developers to have a focused and smooth software development process. For TFS 2010 Microsoft is heavily investing in Scrum and has already started moving some teams across to using it.

    Martin will not be going in depth with Scrum but you can find out more about Scrum by reading the [Scrum Guide](http://www.scrum.org/scrumguides/) and you can even asses your Scrum knowledge by having a go at the [Scrum Open Assessment](http://www.scrum.org/scrumopen/). You can also read SSW’s [Rules to Better Scrum using TFS](http://sharepoint.ssw.com.au/Standards/Management/RulesToBetterScrumUsingTFS/Pages/default.aspx) which have been developed during our own Scrum implementations.

    Come and see Martin Hinshelwood, Visual Studio ALM MVP and Solution Architect from SSW show you:

    - How to successfully gather requirements with User stories
    - How to plan a project using TFS 2010 and Scrum
    - How to work with a product backlog in TFS 2010
    - The right way to plan a sprint with TFS 2010
    - Tracking your progress
    - The right way to use work items
    - What you can use from the built in reporting as well as the Project portals available on from the SharePoint dashboard
    - The important reports to give your Product Owner / Project Manager

    Walk away knowing how to see the project health and progress. Visual Studio ALM is designed to help address many of these traditional problems faced by teams. It does so by providing a set of integrated tools to help teams improve their software development activities and to help managers better support the software development processes.

    During this session we will cover the lifecycle of creating work items and how this fits into Scrum using Visual Studio ALM and Team Foundation Server.

    If you want to know more about how to do Scrum with TFS then there is a new course that has been created in collaboration with Microsoft and Scrum.org that is going to be the official course for working with TFS 2010.

    SSW has [Professional Scrum Developer Trainers](http://www.ssw.com.au/ssw/Events/Scrum-Training-Course.aspx) who specialise in training your developers in implementing Scrum with Microsoft's Visual Studio ALM tools.

    Technorati Tags: [Scrum](http://technorati.com/tags/Scrum) [ALM](http://technorati.com/tags/ALM) [VS 2010](http://technorati.com/tags/VS+2010) [TFS 2010](http://technorati.com/tags/TFS+2010) [SSW](http://technorati.com/tags/SSW) [SP 2010](http://technorati.com/tags/SP+2010) [TFS](http://technorati.com/tags/TFS) [SharePoint](http://technorati.com/tags/SharePoint)
  FilePath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-04-09-scrum-for-team-foundation-server-2010\index.md
  FolderPath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-04-09-scrum-for-team-foundation-server-2010
- FrontMatter:
    title: Guidance - Branching for each Sprint
    description: Master your branching strategy for Scrum sprints! Discover how effective branching can streamline development and enhance collaboration in your projects.
    ResourceId: hPGpt57lpYZ
    ResourceType: blog
    ResourceContentOrigin: Human
    ResourceImport: true
    ResourceImportId: 56
    ResourceImportSource: Wordpress
    ResourceImportOriginalSource: GeeksWithBlogs
    date: 2010-04-08
    weight: 330
    creator: Martin Hinshelwood
    layout: blog
    resourceTypes: blog
    slug: guidance-branching-for-each-sprint
    aliases:
    - /resources/hPGpt57lpYZ
    aliasesArchive:
    - /blog/guidance-branching-for-each-sprint
    - /guidance-branching-for-each-sprint
    - /guidance
    - /guidance---branching-for-each-sprint
    - /blog/guidance---branching-for-each-sprint
    - /resources/blog/guidance-branching-for-each-sprint
    categories:
    - Scrum
    tags:
    - Software Development
    - Modern Source Control
    preview: metro-visual-studio-2005-128-link-1-1.png
  BodyContent: |
    There are a lot of developers using version control these days, but a feature of version control called branching is very poorly understood and remains unused by most developers in favour of Labels. Most developers think that branching is hard and complicated. Its not!

    What is hard and complicated is a bad branching strategy. Just like a bad software architecture a bad branch architecture, or one that is not adhered to can prove fatal to a project. We I was at Aggreko we had a fairly successful Feature branching strategy (although the developers hated it) that meant that we could have multiple feature teams working at the same time without impacting each other. Now, this had to be carefully orchestrated as it was a Business Intelligence team and many of the BI artefacts do not lend themselves to merging.

    Today at SSW I am working on a Scrum team delivering a product that will be used by many hundreds of developers. SSW SQL Deploy takes much of the pain out of upgrading production databases when you are not using the Database projects in Visual Studio.

    With Scrum each Scrum Team works for a fixed period of time on a single sprint. You can have one or more Scrum Teams involved in delivering a product, but all the work must be merged and tested, ready to be shown to the Product Owner at the the Sprint Review meeting at the end of the current Sprint.

    So, what does this mean for a branching strategy?

    We have been using a “Main” (sometimes called “Trunk”) line and doing a branch for each sprint. It’s like Feature Branching, but with only ONE feature in operation at any one time, so no conflicts ![Smile](images/StartinganewSprintinTFSCreatingabranch_D436-wlEmoticon-smile_2-3-3.png)
    { .post-img }

    [![clip_image001](images/StartinganewSprintinTFSCreatingabranch_D436-clip_image001_thumb-2-2.png)](http://blog.hinshelwood.com/files/2011/05/GWB-WindowsLiveWriter-StartinganewSprintinTFSCreatingabranch_D436-clip_image001_2.png)  
    { .post-img }
    **Figure: DEV folder containing the Development branches.**

    I know that some folks advocate applying a Label at the start of each Sprint and then rolling back if you need to, but I have always preferred the security of a branch.

    Like:

    - being able to create a release from Main that has Sprint3 code even while Sprint4 is being worked on.
    - being sure I can always create a stable build on request.
    - Being able to guarantee a version (labels are not auditable)
    - Be able to abandon the sprint without having to delete the code (rare I know, but would be a mess if it happened)
    - Being able to see the flow of change sets through to a safe release
    - It helps you find invalid dependencies when merging to Main as there may be some file that is in everyone’s Sprint branch, but never got checked in. (We had this at the merge of Sprint2)
    - If you are always operating in this way as a standard it makes it easier to then add more scrum teams in the future. Muscle memory of this way of working.

    Don’t Like:

    - Additional DB space for the branches
    - Baseless merging between sprint branches when changes are directly ported  
       Note: I do not think we will ever attempt this!
    - Maybe a bit tougher to see the history between sprint branches since the changes go up through Main and down to another sprint branch  
       Note: What you would have to do is see which Sprint the changes were made in and then check the history he same file in that Sprint. A little bit of added complexity that you would have to do anyway with multiple teams.
    - Over time, you can end up with a lot of old unused sprint branches. Perhaps destroy with /keephistory can help in this case.  
       Note: We ALWAYS delete the Sprint branch after it has been merged into Main. That is the theory anyway, and as you can see from the images Sprint2 has already been deleted.

    **Why take the chance of having a problem rolling back or wanting to keep some of the code, when you can just abandon a branch and start a new one?**

    It just seems easier and less painful to use a branch to me! What do you think?

    Technorati Tags: [Scrum](http://technorati.com/tags/Scrum) [SSW](http://technorati.com/tags/SSW) [TFS 2008](http://technorati.com/tags/TFS+2008) [TFS 2010](http://technorati.com/tags/TFS+2010) [ALM](http://technorati.com/tags/ALM) [Branching](http://technorati.com/tags/Branching) [Version Control](http://technorati.com/tags/Version+Control)
  FilePath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-04-08-guidance-branching-for-each-sprint\index.md
  FolderPath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-04-08-guidance-branching-for-each-sprint
- FrontMatter:
    title: Scottish Visual Studio 2010 Launch event with Jason Zander
    description: Join us for the Visual Studio 2010 launch in Edinburgh with Jason Zander. Discover new tools for Windows, Web, and Cloud development. Don't miss out!
    ResourceId: 6uW7o7pk9WZ
    ResourceType: blog
    ResourceContentOrigin: Human
    ResourceImport: true
    ResourceImportId: 57
    ResourceImportSource: Wordpress
    ResourceImportOriginalSource: GeeksWithBlogs
    date: 2010-03-31
    weight: 1000
    creator: Martin Hinshelwood
    layout: blog
    resourceTypes: blog
    slug: scottish-visual-studio-2010-launch-event-with-jason-zander
    aliases:
    - /resources/6uW7o7pk9WZ
    aliasesArchive:
    - /blog/scottish-visual-studio-2010-launch-event-with-jason-zander
    - /scottish-visual-studio-2010-launch-event-with-jason-zander
    - /resources/blog/scottish-visual-studio-2010-launch-event-with-jason-zander
    tags: []
    categories:
    - Uncategorized
    preview: metro-visual-studio-2010-128-link-1-1.png
  BodyContent: |
    ![image](images/ScottishVisualStudio2010Launcheventwith_125AE-image_-2-2.png)_Microsoft are hosting a launch event for Visual Studio 2010 on **Friday 16th April in Edinburgh**. The have managed to convince one of the head honchos from the Visual Studio product team to come to Scotland. With [Scott Guthrie last week in Glasgow](http://blog.hinshelwood.com/archive/2010/03/29/scott-guthrie-in-glasgow.aspx) and now [**Jason Zander**](http://blogs.msdn.com/jasonz/), Global General Manager for Visual Studio will be arriving in Edinburgh for the Launch event._
    { .post-img }

    _There will be two speakers for the event, Jason will be up first and will be doing a session on Windows, Web, Cloud and Windows Phone 7 development with Visual Studio 2010._

    _Second up is Giles Davis the UK’s Technical Specialist for Visual Studio ALM (formally VSTS)_ who will be introducing the new Visual Studio 2010 Developer and tester collaboration features.

    > **_LAUNCH AGENDA:_**
    >
    > <table border="0" cellspacing="0" cellpadding="0"><tbody><tr><td valign="top" width="170"><p><i>9.30am – 10.00am</i></p></td><td valign="top" width="633"><p><i>Arrival</i></p></td></tr><tr><td valign="top" width="170"><p><i>10.00am - 11.30am</i></p></td><td valign="top" width="633"><p><i>Keynote &amp; Q&amp;A - Jason Zander, Global GM for Visual Studio</i></p></td></tr><tr><td valign="top" width="170"><p><i>11.30am - 12.00pm</i></p></td><td valign="top" width="633"><p><i>Break</i></p></td></tr><tr><td valign="top" width="170"><p><i>12.00pm - 1.00pm</i></p></td><td valign="top" width="633"><p><i>Developer &amp; Tester Collaboration with Visual Studio 2010 - Giles Davies, Technical Specialist</i></p></td></tr><tr><td valign="top" width="170"><p><i>1.00pm - 1.30pm</i></p></td><td valign="top" width="633"><p><i>Lunch</i></p></td></tr></tbody></table>
    >
    > **_DATE:_**              _Friday, 16th April 2010_
    >
    > **_LOCATION:_** _Microsoft Edinburgh, Waverley Gate, 2-4 Waterloo Place, Edinburgh, EH1 3EG_

    _I think Jason will be hanging out for the afternoon to answer questions and meet everyone._

    _f you would like to attend, please email Nathan Davies on [a-ndavie@microsoft.com](mailto:a-ndavie@microsoft.com) with your name, company and email address_

    ![image[4]](images/ScottishVisualStudio2010Launcheventwith_125AE-image4_-3-3.png)
    { .post-img }

    Technorati Tags: [TFS 2010](http://technorati.com/tags/TFS+2010) [VS 2010](http://technorati.com/tags/VS+2010) [ALM](http://technorati.com/tags/ALM) [Testing](http://technorati.com/tags/Testing) [Developing](http://technorati.com/tags/Developing) [WP7](http://technorati.com/tags/WP7)
  FilePath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-03-31-scottish-visual-studio-2010-launch-event-with-jason-zander\index.md
  FolderPath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-03-31-scottish-visual-studio-2010-launch-event-with-jason-zander
- FrontMatter:
    title: Who broke the build?
    description: Discover why broken builds matter in development. Learn how to identify issues and maintain code quality with effective build management strategies.
    ResourceId: SVgPQgwftag
    ResourceType: blog
    ResourceContentOrigin: Human
    ResourceImport: true
    ResourceImportId: 59
    ResourceImportSource: Wordpress
    ResourceImportOriginalSource: GeeksWithBlogs
    date: 2010-03-29
    weight: 380
    creator: Martin Hinshelwood
    layout: blog
    resourceTypes: blog
    slug: who-broke-the-build
    aliases:
    - /resources/SVgPQgwftag
    aliasesArchive:
    - /blog/who-broke-the-build
    - /who-broke-the-build
    - /who-broke-the-build-
    - /blog/who-broke-the-build-
    - /resources/blog/who-broke-the-build
    tags:
    - Software Development
    - Continuous Integration
    - Troubleshooting
    preview: metro-visual-studio-2010-128-link-10-10.png
    categories:
    - Engineering Excellence
  BodyContent: |
    ![BuildIcon_Large](images/114db5acbf63_EDD8-BuildIcon_Large_-1-1.png)
    { .post-img }

    I recently sent round a list of broken builds at SSW and asked for them to be fixed or deleted if they are not being used. My colleague [Peter](http://sharepoint.ssw.com.au/AboutUs/Employees/Pages/Peter.aspx) came back with a couple of questions which I love as it tells me that at least one person reads my email ![Smile](images/114db5acbf63_EDD8-wlEmoticon-smile_2-9-9.png)
    { .post-img }

    I think first we need to answer a couple of other questions related to builds in general.

    Why do we want the build to pass?

    1. Any developer can pick up a project and build it
    2. Standards can be enforced
    3. Constant quality is maintained
    4. Problems in code are identified early

    What could a failed build signify?

    1. Developers have not built and tested their code properly before checking in.
    2. Something added depends on a local resource that is not under version control or does not exist on the target computer.
    3. Developers are not writing tests to cover common problems.
    4. There are not enough tests to cover problems.

    Now we know why, lets answer Peters questions:

    ### Where is this list? (can we see it somehow)

    You can normally only see the builds listed for each project. But, you have a little application called “Build Notifications” on your computer. It is installed when you install Visual Studio 2010.

    ![clip_image001](images/114db5acbf63_EDD8-clip_image001_-2-2.png)  
    { .post-img }
    **Figure: Staring the build notification application on Windows 7.**

    Once you have it open (it may disappear into your system tray) you should click “Options” and select all the projects you are involved in.

    This application only lists projects that have builds, so don’t worry if it is not listed. This just means you are about to setup a build, right?

    I just selected ALL projects that have builds.

    ![image](images/114db5acbf63_EDD8-image_-8-8.png)  
    { .post-img }
    **Figure: All builds are listed here**

    In addition to seeing the list you will also get toast notification of build failure’s.

    ### How can we get more info on **what** broke the build? (who is interesting too, to point the finger ![Smile](images/114db5acbf63_EDD8-wlEmoticon-smile_2-9-9.png) but more important is what)

    { .post-img }

    The only thing worse than breaking the build, is continuing to develop on a broken build!

    ![image](images/114db5acbf63_EDD8-image_-5-5.png)  
    { .post-img }
    **Figure: I have highlighted the users who either are bad for braking the build, or very bad for not fixing it.**

    To find out what is wrong with a build you need to open the build definition. You can open a web version by double clicking the build in the image above, or you can open it from “Team Explorer”.

    Just connect to your project and open out the “Builds” tree. Then Open the build by double clicking on it.

    ![image](images/114db5acbf63_EDD8-image_-6-6.png)  
    { .post-img }
    **Figure: Opening a build is easy, but double click it and then open a build run from the list.**

    ![clip_image004](images/114db5acbf63_EDD8-clip_image004_-3-3.png)  
    { .post-img }
    **Figure: Good example, the build and tests have passed**

    ![image](images/114db5acbf63_EDD8-image_-7-7.png)  
    { .post-img }
    **Figure: Bad example, there are 133 errors preventing POK from being built on the build server.**

    For identifying failures see:

    1. [Solution: Getting Silverlight to build on Team Build 2010 RC](http://blog.hinshelwood.com/archive/2010/03/03/solution-getting-silverlight-to-build-on-team-build-2010-rc.aspx)
    2. [Solution: Testing Web Services with MSTest on Team Build](http://blog.hinshelwood.com/archive/2010/03/04/solution-testing-web-services-with-mstest-on-team-build.aspx)
    3. [Finding the problem on a partially succeeded build](http://blog.hinshelwood.com/archive/2010/03/04/finding-the-problem-on-a-partially-succeeded-build.aspx)

    So, Peter asked about blame, let’s have a look and see:

    ![image](images/114db5acbf63_EDD8-image_-4-4.png)  
    { .post-img }
    **Figure: The build has been broken for so long I have no idea when it was broken, but everyone on this list is to blame (I am there too)**

    The rest of the history is lost in the sands of time, there is no way to tell when the build was originally broken, or by whom, or even if it ever worked in the first place. Build should be protected by the team that uses them and the only way to do that is to have them own them. It is fine for me to go in and setup a build, but the ownership for a build should always reside with the person who broke it last.

    ### Conclusion

    This is an example of a pointless build. Lets be honest, if you have a system like [TFS](http://msdn2.microsoft.com/en-us/teamsystem/aa718934.aspx "Team Foundation Server") in place and builds are constantly left broken, or not added to projects then your developers don’t yet understand the value. I have found that adding a Gated Check-in helps instil that understanding of value. If you prevent them from checking in without passing that basic quality gate of “your code builds on another computer” then it makes them look more closely at why they can’t check-in.

    I have had builds fail because one developer had a “d” drive, but the build server did not. That is what they are there to catch.

    If you want to know what builds to create and why I wrote a post on “[Do you know the minimum builds to create on any branch?](http://blog.hinshelwood.com/archive/2010/03/18/do-you-know-the-minimum-builds-to-create-on-any.aspx)”

    Technorati Tags: [TFS 2010](http://technorati.com/tags/TFS+2010) [ALM](http://technorati.com/tags/ALM) [VS 2010](http://technorati.com/tags/VS+2010) [TFBS](http://technorati.com/tags/TFBS) [Silverlight](http://technorati.com/tags/Silverlight) [SSW](http://technorati.com/tags/SSW) [SP 2010](http://technorati.com/tags/SP+2010) [SharePoint](http://technorati.com/tags/SharePoint)
  FilePath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-03-29-who-broke-the-build\index.md
  FolderPath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-03-29-who-broke-the-build
- FrontMatter:
    title: Scott Guthrie in Glasgow
    description: Join Scott Guthrie in Glasgow as he unveils the latest in Visual Studio 2010, Silverlight 4, and Windows Phone 7. Discover key insights and innovations!
    ResourceId: JkUaXsGbwTq
    ResourceType: blog
    ResourceContentOrigin: Human
    ResourceImport: true
    ResourceImportId: 58
    ResourceImportSource: Wordpress
    ResourceImportOriginalSource: GeeksWithBlogs
    date: 2010-03-29
    weight: 1000
    creator: Martin Hinshelwood
    layout: blog
    resourceTypes: blog
    slug: scott-guthrie-in-glasgow
    aliases:
    - /resources/JkUaXsGbwTq
    aliasesArchive:
    - /blog/scott-guthrie-in-glasgow
    - /scott-guthrie-in-glasgow
    - /resources/blog/scott-guthrie-in-glasgow
    tags: []
    categories:
    - Uncategorized
    preview: metro-visual-studio-2010-128-link-2-1.png
  BodyContent: |
    ![redshirt[1]](images/ScottGuthrieinGlagsow_8765-redshirt1_-3-2.jpg)Last week Scott Guthrie was in Glasgow for his new [Guathon](http://developerdeveloperdeveloper.com/guglas/) tour, which was a roaring success. Scott did talks on the new features in Visual Studio 2010, Silverlight 4, ASP.NET MVC 2 and Windows Phone 7. Scott talked from 10am till 4pm, so this can only contain what I remember and I am sure lots of things he discussed just went in one ear and out another, however I have tried to capture at least all of my Ohh’s and Ahh’s.
    { .post-img }

    ### Visual Studio 2010

    Right now you can download and install [Visual Studio 2010 Candidate Release](http://msdn.microsoft.com/en-us/vstudio/dd582936.aspx), but soon we will have the final product in our hands. With it there are some amazing improvements, and not just in the IDE. New versions of VB and C# come out of the box as well as Silverlight 4 and SharePoint 2010 integration.

    The new Intellisense features allow inline support for Types and Dictionaries as well as being able to type just part of a name and have the list filter accordingly. Even better, and my personal favourite is one that Scott did not mention, and that is that it is not case sensitive so I can actually find things in C# with its reasonless case sensitivity (Scott, can we please have an option to turn that off.)

    Another nice feature is the Routing engine that was created for ASP.NET MVC is now available for WebForms which is good news for all those that just imported the MVC DLL’s to get at it anyway. Another fantastic feature that will need some exploring is the ability to add validation rules to your entities and have them validated automatically on the front end. This removes the need to add your own validators and means that you can control an objects validation rules from a single location, the object. A simple command “GridView.EnableDynamicData(gettype(product))“ will enable this feature on controls.

    What was not clear was wither there would be support for this in WPF and WinForms as well. If there is, we can write our validation rules once and use everywhere.

    I was disappointed to here that there would be no inbuilt support for the Dynamic Language Runtime (DLR) with VS2010, but I think it will be there for .vNext. Because I have been concentrating on the Visual Studio ALM enhancements to VS2010 I found this section invaluable as I now know at least some of what I missed.

    ### Silverlight 4

    I am not a big fan of Silverlight. There I said it, and I will probably get lynched for it. My big problem with Silverlight is that most of the really useful things I leaned from WPF do not work. I am only going to mention one thing and that is “x:Type”. If you are a WPF developer you will know how much power these 6 little letters provide; the ability to target templates at object types being the the most magical and useful.

    But, and this is a massive but, if you are developing applications that MUST run on platforms other than windows then Silverlight is your only choice (well that and Flash, but lets just not go there). And Silverlight has a huge install base as well.. 60% of all internet connected devices have Silverlight. Can Adobe say that?

    Even though I am not a fan of it my current project is a Silverlight one. If you start your XAML experience with Silverlight you will not be disappointed and neither will the users of the applications you build. Scott showed us a fantastic application called “Silverface” that is a Silverlight 4 Out of Browser application. I have looked for a link and can’t find one, but true to form, here is a fantastic WPF version called [Fish Bowl](http://www.fishbowlclient.com/) from Microsoft.

    ### ASP.NET MVC 2

    ASP.NET MVC is something I have played with but never used in anger. It is definitely the way forward, but WebForms is not dead yet. there are still circumstances when WebForms are better. If you are starting from greenfield and you are using TDD, then MVC is ultimately the only way you can go.

    New in version 2 are Dynamic Scaffolding helpers that let you control how data is presented in the UI from the Entities. Adding validation rules and other options that make sense there can help improve the overall ease of developing the UI.

    Also the Microsoft team have heard the cries of help from the larger site builders and provided “Areas” which allow a level of categorisation to your Controllers and Views. These work just like add-ins and have their own folder, but also have sub Controllers and Views. Areas are totally pluggable and can be dropped onto existing sites giving the ability to have boxed products in MVC, although what you do with all of those views is anyone's guess.

    They have been listening to everyone again with the new option to encapsulate UI using the Html.Action or Html.ActionRender. This uses the existing  .ascx functionality in ASP.NET to render partial views to the screen in certain areas. While this was possible before, it makes the method official thereby opening it up to the masses and making it a standard.

    At the end of the session Scott pulled out some IIS goodies including the [IIS SEO Toolkit](http://www.iis.net/expand/SEOToolkit) which can be used to verify your own site is “good” for search engine consumption. Better yet he suggested that you run it against your friends sites and shame them with how bad they are. note: make sure you have fixed yours first.

    ### Windows Phone 7 Series

    I had already seen the new UI for WP7 and heard about the developer story, but Scott brought that home by building a twitter application in about 20 minutes using the emulator.

    Scott’s only mistake was loading [@plip](http://twitter.com/plip)’s tweets into the app…

    And guess what, it was written in Silverlight. When Windows Phone 7 launches you will be able to use about 90% of the codebase of your existing Silverlight application and use it on the phone!

    There are two downsides to the new WP7 architecture:

    1. No, your existing application WILL NOT work without being converted to either a Silverlight or XNA UI.
    2. NO, you will not be able to get your applications onto the phone any other way but through the Marketplace.

    Do I think these are problems? No, not even slightly. This phone is aimed at consumers who have probably never tried to install an application directly onto a device. There will be support for enterprise apps in the future, but for now enterprises should stay on Windows Phone 6.5.x devices.

    ### Post Event drinks

    At the after event drinks gathering Scott was checking out my HTC HD2 (released to the US this month on T-Mobile) and liked the Windows Phone 6.5.5 build I have on it. We discussed why Microsoft were not going to allow Windows Phone 7 Series onto it with my understanding being that it had 5 buttons and not 3, while Scott was sure that there was more to it from a hardware standpoint. I think he is right, and although the HTC HD2 has a DX9 compatible processor, it was never built with WP7 in mind. However, as if by magic Saturday brought fantastic news for all those that have already bought an HD2:

    > Yes, this _appears_ to be Windows Phone 7 running on a HTC HD2. The HD2 itself [won't](http://www.coolsmartphone.com/news5567.html) be getting an official upgrade to Windows Phone 7 Series, so all eyes are on the ROM chefs at the moment. The rather massive photos have been posted by [Tom Codon](http://htcpedia.com/forum/showthread.php?t=2381) on [HTCPedia](http://htcpedia.com/forum/showthread.php?t=2381) and they've apparently got WiFi, GPS, Bluetooth and other bits working. The ROM isn't online yet but according to the post there's a beta version coming soon.  
    > **Leigh Geary** - [http://www.coolsmartphone.com/news5648.html](http://www.coolsmartphone.com/news5648.html "http://www.coolsmartphone.com/news5648.html")

    What _was_ Scott working on on his flight back to the US? ![Tongue out](images/ScottGuthrieinGlagsow_8765-wlEmoticon-tongueout_2-1-3.png)
    { .post-img }

    Follow: [@CAMURPHY](http://twitter.com/CAMURPHY "http://twitter.com/CAMURPHY"), [@ColinMackay](http://twitter.com/ColinMackay "http://twitter.com/ColinMackay"), [@plip](http://twitter.com/plip "http://twitter.com/plip") and of course [@ScottGu](http://twitter.com/ScottGu)

    Technorati Tags: [.NET](http://technorati.com/tags/.NET) [VS 2010](http://technorati.com/tags/VS+2010) [WP7](http://technorati.com/tags/WP7) [WPF](http://technorati.com/tags/WPF) [Silverlight](http://technorati.com/tags/Silverlight)
  FilePath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-03-29-scott-guthrie-in-glasgow\index.md
  FolderPath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-03-29-scott-guthrie-in-glasgow
- FrontMatter:
    title: Do you know the minimum builds to create on any branch?
    description: Discover the essential builds for any branch in your project. Learn how to set up Gate, CI, and Nightly builds to ensure code quality and collaboration.
    ResourceId: wPA1p1UQ6Bi
    ResourceType: blog
    ResourceContentOrigin: Human
    ResourceImport: true
    ResourceImportId: 60
    ResourceImportSource: Wordpress
    ResourceImportOriginalSource: GeeksWithBlogs
    date: 2010-03-18
    weight: 610
    creator: Martin Hinshelwood
    layout: blog
    resourceTypes: blog
    slug: do-you-know-the-minimum-builds-to-create-on-any-branch
    aliases:
    - /resources/wPA1p1UQ6Bi
    aliasesArchive:
    - /blog/do-you-know-the-minimum-builds-to-create-on-any-branch
    - /do-you-know-the-minimum-builds-to-create-on-any-branch
    - /do-you-know-the-minimum-builds-to-create-on-any-branch-
    - /blog/do-you-know-the-minimum-builds-to-create-on-any-branch-
    - /resources/blog/do-you-know-the-minimum-builds-to-create-on-any-branch
    tags:
    - Software Development
    - Continuous Integration
    preview: metro-visual-studio-2010-128-link-6-6.png
    categories:
    - Engineering Excellence
  BodyContent: |
    ![BuildIcon_Large](images/Doyouknowtheminimumbuildstocreate_CABD-BuildIcon_Large_-1-1.png)
    { .post-img }

    When creating projects one of the only ways that you have of proving that it works and is a viable solution is to build it. This is easy when you only have one developer and that developer will be the only one using a solution. But what if you have 2 developers? How do you prove that one developers code works with the other? The answer is build servers. These build servers take specific code away to another computer and build it there.

    Updated 29th March 2010: I was missing an intro for this one.

    ---

    You should always have three builds on your team project. These should be setup and tested using an empty solution before you write any code at all.

    ![clip_image002](images/Doyouknowtheminimumbuildstocreate_CABD-clip_image002_-2-2.jpg)  
    { .post-img }
    **Figure: Three builds named in the format \[TeamProject\].\[AreaPath\]\_\[Branch\].\[Gate|CI|Nightly\] for every branch.**

    These builds should use the same XAML build workflow; however you may set them up to run a different set of tests depending on the time it takes to run a full build.

    - **Gate** – Only needs to run the smallest set of tests, but should run most if not all of the Unit Test. This is run before developers are allowed to check-in
    - **CI** – This should run all Unit Tests and all of the automated UI tests. It is run after a developer check-in.
    - **Nightly** – The Nightly build should run all of the Unit Tests, all of the Automated UI tests and all of the Load and Performance tests. The nightly build is time consuming and will run but once a night. Packaging of your Product for testing the next day may be done at this stage as well.

    ![clip_image004](images/Doyouknowtheminimumbuildstocreate_CABD-clip_image004_-3-3.jpg)  
    { .post-img }
    **Figure: You can control what tests are run and what data is collected while they are running.**

    Note: We do not run all the tests every time because of the time consuming nature of running some tests, but ALL tests should be run overnight.

    Note: If you had a really large project with thousands of tests including long running Load tests you may need to add a Weekly build to the mix.

    ![image](images/Doyouknowtheminimumbuildstocreate_CABD-image_-5-5.png)  
    { .post-img }
    **Figure: Bad example, you can’t tell what these builds do if they are in a larger list**

    ![image](images/Doyouknowtheminimumbuildstocreate_CABD-image_-4-4.png)  
    { .post-img }
    **Figure: Good example, you know exactly what project, branch and type of build these are for.**

    Technorati Tags: [SSW](http://technorati.com/tags/SSW) [SSW Rules](http://technorati.com/tags/SSW+Rules) [ALM](http://technorati.com/tags/ALM) [TFBS](http://technorati.com/tags/TFBS) [VS 2010](http://technorati.com/tags/VS+2010)
  FilePath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-03-18-do-you-know-the-minimum-builds-to-create-on-any-branch\index.md
  FolderPath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-03-18-do-you-know-the-minimum-builds-to-create-on-any-branch
- FrontMatter:
    title: Do you know that every user story should have an owner?
    description: Discover why every user story needs an owner for effective Scrum management. Enhance your team's communication and streamline project success!
    ResourceId: OOCAnXLzP9r
    ResourceType: blog
    ResourceContentOrigin: Human
    ResourceImport: true
    ResourceImportId: 61
    ResourceImportSource: Wordpress
    ResourceImportOriginalSource: GeeksWithBlogs
    date: 2010-03-17
    weight: 790
    creator: Martin Hinshelwood
    layout: blog
    resourceTypes: blog
    slug: do-you-know-that-every-user-story-should-have-an-owner
    aliases:
    - /resources/OOCAnXLzP9r
    aliasesArchive:
    - /blog/do-you-know-that-every-user-story-should-have-an-owner
    - /do-you-know-that-every-user-story-should-have-an-owner
    - /do-you-know-that-every-user-story-should-have-an-owner-
    - /blog/do-you-know-that-every-user-story-should-have-an-owner-
    - /resources/blog/do-you-know-that-every-user-story-should-have-an-owner
    tags: []
    categories:
    - Uncategorized
    preview: metro-SSWLogo-128-link-4-4.png
  BodyContent: |
    ![RulestoBetter](images/4190b47a081e_B7FB-RulestoBetter_-3-3.gif)When you are building complicated software and working with customers it is always nice for them to have some idea on who to speak to about a particular story during a sprint.
    { .post-img }

    Update 14th April 2010

    - Rule added to [Rules to better Scrum with TFS](http://sharepoint.ssw.com.au/Standards/Management/RulesToBetterScrumUsingTFS/)

    ---

    In order to achieve this one of the Team takes responsibility for “looking after” a story” a story and manages it to completion. They will collect all of the [“Done” emails](http://www.ssw.com.au/ssw/Standards/Rules/RulesToBetterEmail.aspx#ReplyAndDelete) and make sure that everyone follows the Done criteria identified by the team as well as answering any Product Owner queries.

    ![image](images/4190b47a081e_B7FB-image_-1-1.png)  
    { .post-img }
    **Figure: Bad example, the product owner is not sure who to speak to.**

    ![image](images/4190b47a081e_B7FB-image_-2-2.png)  
    { .post-img }
    **Figure: Good example, the product owner can now see who he should speak to and developers know where to send done emails.**

    Technorati Tags: [SSW](http://technorati.com/tags/SSW) [Scrum](http://technorati.com/tags/Scrum) [SSW Rules](http://technorati.com/tags/SSW+Rules) [SP 2010](http://technorati.com/tags/SP+2010) [SharePoint](http://technorati.com/tags/SharePoint)
  FilePath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-03-17-do-you-know-that-every-user-story-should-have-an-owner\index.md
  FolderPath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-03-17-do-you-know-that-every-user-story-should-have-an-owner
- FrontMatter:
    title: 'Adventures in Scrum: Lesson 2 - For the record'
    description: Explore key lessons from our first Scrum Sprint at SSW, uncovering the importance of clear communication and alignment in Agile practices. Join the journey!
    ResourceId: ycDsUu_-hNR
    ResourceType: blog
    ResourceContentOrigin: Human
    ResourceImport: true
    ResourceImportId: 62
    ResourceImportSource: Wordpress
    ResourceImportOriginalSource: GeeksWithBlogs
    date: 2010-03-15
    weight: 790
    creator: Martin Hinshelwood
    layout: blog
    resourceTypes: blog
    slug: adventures-in-scrum-lesson-2-for-the-record
    aliases:
    - /resources/ycDsUu_-hNR
    aliasesArchive:
    - /blog/adventures-in-scrum-lesson-2-for-the-record
    - /adventures-in-scrum-lesson-2-for-the-record
    - /adventures-in-scrum--lesson-2---for-the-record
    - /blog/adventures-in-scrum--lesson-2---for-the-record
    - /resources/blog/adventures-in-scrum-lesson-2-for-the-record
    tags:
    - Software Development
    - Scrum Team
    - Agile Frameworks
    categories:
    - Scrum
    preview: metro-SSWLogo-128-link-1-1.png
  BodyContent: |
    At SSW we have always done Agile. Recently we have started doing Scrum and we have nearly completed our first Sprint ever using Scrum. As you probably guessed from my previous post, it looks like it is going to be a “Failed Sprint”, but the Scrum Team (This includes the ScrumMaster and the Product Owner) has learned a huge amount about working in the Scrum Framework.

    Update 16th March 2010

    - [Kane Mar](http://kanemar.com/), suggested a fantastic quote from Kent Beck.

    ---

    We have been running with a “Proxy Product Owner” for the last two weeks, but a simple mistake occurred either during the “Product Planning Meeting” or the “Sprint Planning Meeting” that could have prevented this Sprint from failing. We has a heated discussion on the vision of someone not in the room which ended with the assertion that the Product Owner would be quizzed again on their vision. This did not happen and we ran with the “Proxy Product Owner’s vision for two weeks.

    Product Owner vision: **Update Component A of Product A to Silverlight**

    Proxy Product Owner vision: **Update Product A to Silverlight**

    Do you see the problem?

    > If the people who tell you what to do don't agree with the people who evaluate what you are doing, you're stuffed. – [Kent Beck](http://c2.com/wiki?KentBeck)

    Worse than that, as we had a lot of junior members of the Scrum Team and we are just feeling our way around how Scrum will work at SSW I missed implementing a fundamental rule.

    That’s right, it was me. It does not matter that I did not know about this rule, its on the site and I should have read it. Would a police officer let you off if you did not know that a red light meant stop? I think not…

    But, what is this amazing rule I hear you shout..

    Its simple, as per our rule I should have sent the following email:

    > “ Dear Proxy Product Owner,
    >
    > For the record, I disagree that the Product Owner wants us to ‘Update Product A to Silverlight’ as I still think that he wants us to ‘Update Component A of Product A to Silverlight’ and not the entire application.
    >
    > Regards
    >
    > Martin”  
    > \- [‘For the record’ - Rules to being Software Consultants - Dealing with Clients](http://www.ssw.com.au/ssw/Standards/Rules/RulesToBeingSoftwareConsultantsDealingWithClients.aspx#RecordDisagree)

    This email should have been copied to the entire Scrum Team, which would have included the Product Owner, who would have nipped this misunderstanding in the bud and we would have had one less impediment.

    Technorati Tags: [SSW](http://technorati.com/tags/SSW) [Scrum](http://technorati.com/tags/Scrum) [Silverlight](http://technorati.com/tags/Silverlight)
  FilePath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-03-15-adventures-in-scrum-lesson-2-for-the-record\index.md
  FolderPath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-03-15-adventures-in-scrum-lesson-2-for-the-record
- FrontMatter:
    title: 'Adventures in Scrum: Lesson 1 – The failed Sprint'
    description: "Explore the challenges of Scrum in 'Adventures in Scrum: Lesson 1'. Learn from a failed Sprint and discover key insights for effective team collaboration."
    ResourceId: OG5mmVtH9nU
    ResourceType: blog
    ResourceContentOrigin: Human
    ResourceImport: true
    ResourceImportId: 63
    ResourceImportSource: Wordpress
    ResourceImportOriginalSource: GeeksWithBlogs
    date: 2010-03-15
    weight: 750
    creator: Martin Hinshelwood
    layout: blog
    resourceTypes: blog
    slug: adventures-in-scrum-lesson-1-the-failed-sprint
    aliases:
    - /resources/OG5mmVtH9nU
    - /resources/blog/adventures-in-scrum-lesson-1-the-failed-sprint
    aliasesArchive:
    - /blog/adventures-in-scrum-lesson-1-the-failed-sprint
    - /adventures-in-scrum-lesson-1-the-failed-sprint
    - /adventures-in-scrum--lesson-1-–-the-failed-sprint
    - /blog/adventures-in-scrum--lesson-1-–-the-failed-sprint
    - /resources/blog/adventures-in-scrum-lesson-1-the-failed-sprint
    tags:
    - Scrum Team
    - Software Development
    - Agile Frameworks
    - Agile Planning
    - Agile Product Management
    - Pragmatic Thinking
    - Professional Scrum
    - Team Performance
    - Scrum Master
    categories:
    - Scrum
    preview: metro-SSWLogo-128-link-1-1.png
  BodyContent: |
    I recently had a conversation with a product owner that wanted to have the Scrum team broken up into smaller units so that less time was wasted on the Scrum Ceremonies! Their complaint was around the need in Scrum to have the entire “Team” (7+-2) involved in the sizing of the work during the “Sprint Planning Meeting”.

    Update 16th March 2010

    - [Kane Mar](http://kanemar.com/), the man who taught me Scrum, made a fantastic comment after reading this and I have added it in.

    ---

    The standard flippant answer of all Scrum professionals, “_Well that's not Scrum_”, does not get you any brownie points in these situations. The response could be “_Well we are not doing Scrum then_” which in turn leads to “_We are doing Scrum…But, we have split the scrum team into units of 2/3 so that they can concentrate on a specific area of work_”. While this may work, it is not Scrum and should not be called so… It is just a form of Agile. Don’t get me wrong at this stage, there is nothing wrong with Agile, just don’t call it Scrum.

    The reason that the Product Owner wants to do this is that, in effect, through a number of miscommunications and failings in our implementation of Scrum, there was NO unit of potentially Shippable software at the end of the first sprint. It does not matter to them that most Scrum teams will fail the first Sprint, even those that are high performing teams. Remember it is the product owners their money!

    We should NOT break up scrum teams into smaller units for the purpose of having less people tied up in the Scrum Ceremonies.

    > The amount of backlog the Team selects is solely up to the Team… Only the Team can assess what it can accomplish over the upcoming Sprint.  
    > \- [Scrum Guide](http://www.scrum.org/storage/scrumguides/Scrum%20Guide.pdf#view=fit), Scrum.org

    The entire team must accept the work and in order to understand what they can accept they must be free to size it as a team. This both encourages common understanding and increases visibility on why team members think a task is of a particular size. This has the benefit of increasing the knowledge of the entire team in the problem domain.

    > A new Team often first realizes that it will either sink or swim as a Team, not individually, in this meeting. The Team realizes that it must rely on itself. As it realizes this, it starts to self-organize to take on the characteristics and behaviour of a real Team.  
    > \- [Scrum Guide](http://www.scrum.org/storage/scrumguides/Scrum%20Guide.pdf#view=fit), Scrum.org

    This paragraph goes to the why of having the whole team at the meeting; The goal of Scrum it to produce a unit of potentially shippable software at the end of every Sprint. In order to achieve this we need high performing teams and this is what Scrum as a framework has been optimised to produce.

    I think that our Product Owner is understandably upset over loosing two weeks work and is losing sight the end goal of Scrum in the failures of the moment. As the man spending the money, I completely understand his perspective and I think that we should not have started Scrum on an internal project, but selected a customer  that is open to the ideas and complications of Scrum.

    So, what should we have NOT done on our first Scrum project:

    - **Should not have had 3 interns as the only on site resource** – This lead to bad practices as the experienced guys were not there helping and correcting as they usually would.
    - **Should not have had the only experienced guys offsite** – With both the experienced technical guys in completely different time zones it was difficult to get time for questions. Helping the guys on site was just plain impossible.
    - **Should not have used a part time ScrumMaster** – Although the ScrumMaster attended all of the Ceremonies, because they are only in 2 full days of the week it makes it difficult for the team to raise impediments as they go.
    - **Should not have used a proxy product owner**. – This was probably the worst decision that was made. Mainly because the proxy product owner did not have the same vision as the product owner. While Scrum does not explicitly reject the idea of a Proxy Product Owner, I do not think it works very well in practice. The “single wringable neck” needs to contain both the Money and the Vision as well as attending the required meetings.

    > "Your team may be dysfunctional ... but at least you can see the impediments. Now you have the ability to do something about it!"  
    > \- [Kane Mar](http://scrumology.com) – [Scrumology](http://www.scrumology.com/), Scrum Coach

    I will be brining all of these things up at the Sprint Retrospective and we will learn from our mistakes and move on.

    Do, Inspect then Adapt…

    ---

    ## Need Help?

    ### Professional Scrum Developer Training

    [![Professional Scrum Developer Training](images/PSD%20Announcement%20Graphic.jpg)](http://www.scrum.org/scrumdeveloper/) SSW has six [Professional Scrum Developer Trainers](http://www.ssw.com.au/ssw/Events/Scrum-Training-Course.aspx) who specialise in training your developers in implementing Scrum with Microsoft's Visual Studio ALM tools.
    { .post-img }

    ---

    Technorati Tags: [Scrum](http://technorati.com/tags/Scrum) [SSW](http://technorati.com/tags/SSW)
  FilePath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-03-15-adventures-in-scrum-lesson-1-the-failed-sprint\index.md
  FolderPath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-03-15-adventures-in-scrum-lesson-1-the-failed-sprint
- FrontMatter:
    title: When should I use Areas in TFS instead of Team Projects in Team Foundation Server 2010
    description: Discover when to use Areas in TFS over Team Projects for better project management in Team Foundation Server 2010. Streamline your workflow today!
    ResourceId: vrUQdaxyOTf
    ResourceType: blog
    ResourceContentOrigin: Human
    ResourceImport: true
    ResourceImportId: 64
    ResourceImportSource: Wordpress
    ResourceImportOriginalSource: GeeksWithBlogs
    date: 2010-03-09
    weight: 790
    creator: Martin Hinshelwood
    layout: blog
    resourceTypes: blog
    slug: when-should-i-use-areas-in-tfs-instead-of-team-projects-in-team-foundation-server-2010
    aliases:
    - /resources/vrUQdaxyOTf
    aliasesArchive:
    - /blog/when-should-i-use-areas-in-tfs-instead-of-team-projects-in-team-foundation-server-2010
    - /when-should-i-use-areas-in-tfs-instead-of-team-projects-in-team-foundation-server-2010
    - /resources/blog/when-should-i-use-areas-in-tfs-instead-of-team-projects-in-team-foundation-server-2010
    tags:
    - Application Lifecycle Management
    - Software Development
    - Operational Practices
    - Pragmatic Thinking
    preview: metro-visual-studio-2010-128-link-8-8.png
    categories:
    - Uncategorized
  BodyContent: |
    Well, it depends… If you are a small company that creates a finite number of internal projects then you will find it easier to create a single project for each of your products and have TFS do the heavy lifting with reporting, SharePoint sites and Version Control.

    But what if you are not…

    [Update - 14th August 2012 - Superseded](#update20120814)

    I have updated this as [One Team Project for Visual Studio 2012](http://blog.hinshelwood.com/one-team-project/ "One Team Project with Visual Studio 2012").

    [Update - 13th April 2010 - feedback incorporated](#update20120413-3)

    [Paul Neumeyer](http://sharepoint.ssw.com.au/AboutUs/Employees/Pages/Paul.aspx) – I asked Paul for a comment, and true to form he wrote an essay and with an evening with Sam Guckenheimer firing his blood it’s a good un’..

    [Update - 13th April 2010 - Content update](#update20120413-2)

    [Eric Phan](http://sharepoint.ssw.com.au/AboutUs/Employees/Pages/Eric.aspx), [Paul Neumeyer](http://sharepoint.ssw.com.au/AboutUs/Employees/Pages/Paul.aspx) – After having long discussions with Eric and Paul I have added strategy for Migration to new process templates and of archiving old projects.

    [Update - 13th April 2010 - Content update](#update20120413-1)

    I ran into the problem of not being able to find a build called “Build” and had to search through 172 projects to find it. With Areas there would be substantially less projects to search. A good naming convention would also work ![Smile](images/e81a0b914d47_8DFC-wlEmoticon-smile_2-7-7.png)
    { .post-img }

    [Update - 8th April 2010 - Content update](#update20120408)

    [Ognjen Bajic](http://ognjenbajic.com/blog) – Ognjen from Ekobit who make [Team Companion](http://www.ekobit.com/productsdetailview.aspx?id=1) made some comments that I found useful, which I have added.

    [Update - 11th March 2010 - Content update](#update20120311)

    [Adam Cogan](http://adamcogan.com/) – Adam suggested I get our disagreement out in the open, improve the proposed solution description with some visual cues and move the Pros and Cons to the top. Last but not least, to plug out custom TFS template :)

    [Update - 9th March 2010 - feedback incorporated](#update20120309-3)

    [Ewald Hofman](http://www.ewaldhofman.nl/) gave me a couple of Cons, and maybe a few more soon. Ewald’s company, Avanade, currently uses Areas, but it looks like the manual management is getting too much and the project is getting cluttered.

    [Update - 9th March 2010 - feedback incorporated](#update20120309-2)

    [Michael Fourie](http://www.freetodev.com/) gave me some feedback which I have integrated.

    [Update - 9th March 2010 - feedback incorporated](#update20120309-1)

    [Ed Blankenship](http://www.edsquared.com) via [@edblankenship](http://twitter.com/edblankenship/status/10221184645) offered encouragement and a nice quote.

    ---

    What if you are likely to have hundreds of projects, possibly with a multitude of internal and external projects? You might have 1 project for a customer or 10. This is the situation that most consultancies find themselves in and thus they need a more sustainable and maintainable option. What I am advocating is that we should have 1 “Team Project” per customer, and use areas to create “sub projects” within that single “Team Project”.

    > "_What you describe is what we generally do internally and what we recommend. We make very heavy use of area path to categorize the work within a larger project_."  
    > \- **[Brian Harry](http://blogs.msdn.com/bharry/)**, Microsoft Technical Fellow & Product Unit Manager for Team Foundation Server

    This post has an ulterior motive as I am having this debate with my boss, Adam Cogan, and we both decided that we wanted to find out what the community at large thinks of this approach to managing projects in TFS. Adam thinks this is a bad idea as it is not supported “out-of-the-box”, and I think that a lot of things are not supported “out-of-the-box” in TFS which never the less, are a good idea, including this one.

    > I’ve been a big advocate of using a single project per client for years because from experience a client will want to merge products or  have their name changed, a component form their existing project code base a client will want to ‘spin-off’ as a separate product with a different team without losing any work items or history, and there are always tasks that development teams can’t decide where to put when there are multiple, but related products in separate TFS projects.  All of that is easier with a  single project per client and using Areas.  Last night I spent an evening with Sam Guckenheimer and it is clear his vision of TFS was always targeted at a lot more that source control and a task tracking, TFS is a flexible application lifecycle management (ALM) system that if setup with Areas can streamline the decade+ lifecycle of interaction between developers and the guys with budget that is the reality we live in.  
    > \-[Dr Paul Neumeyer](http://sharepoint.ssw.com.au/AboutUs/Employees/Pages/Paul.aspx), Ph.D Parallel Processes, ScrumMaster and SSW Solution Architect

    > Using areas in existing team project instead of creating a new team project (a.k.a. “prefer small number of big team projects over large number of small team projects”) has been established best practice for long time. Microsoft works that way internally and they recommend everyone should. We use it internally and all of our partners have been thought to use it as well.  
    > [**Ognjen Bajic**](http://ognjenbajic.com/blog), Visual Studio ALM MVP, Ekobit

    > "_We tend to use areas to segregate multiple projects in the same team project and it works well_."  
    > \- **[Tiago Pascoal](http://agilior.pt/blogs/tiago.pascoal/)**, Visual Studio ALM MVP

    > _"In general, I believe this approach provides consistency \[to multi-product engagements\] and lowers the administration and maintenance costs. All good."  
    > _\- [**Michael Fourie**](http://www.freetodev.com/), Visual Studio ALM MVP

    > “_@\_\_MrHinsh_ _BTW, I'm very much a fan of very large, if not huge, team projects in TFS. Just FYI :) Use Areas & Iterations.”_  
    > [**Ed Blankenship**](http://www.edsquared.com), Visual Studio ALM MVP

    I am proposing that SSW change from over 70 internal team projects:

    - SSW.CodeAuditor
    - SSW.SQLAuditor
    - SSW.SQLDeploy
    - etc

    To 1 internal team project:

    - SSW.Agile5
      - CodeAuditor
      - SQLAuditor
      - SQLDeploy
      - etc

    Note: The single Team Project called “SSW.Agile5” would contain all of our internal projects and consequently all of the Areas and Iteration move down one hierarchy to accommodate this. Where we would have had “SSWSprint 1” we now have “SSWSqlDeploySprint1” with “SqlDeploy” being our internal project. At the moment SSW has over 70 internal projects and more than 170 total projects in TFS.

    This method has long term benefits that help to simplify the support model for companies that often have limited internal support time and many projects. But, there are implications as TFS does not provide this model “out-of-the-box”. These implications stretch across Areas, Iterations, Queries, Project Portal and Version Control.

    Michael made a good comment, he said:

    > _I agree with your approach, assuming that in a multi-product engagement with a client, they are happy to adopt the same process template across all products. If they are not, then it’ll either be easy to convince them or there is a valid reason for having a different template_  
    > \- [Michael Fourie](http://www.freetodev.com/), Visual Studio ALM MVP

    At SSW we have a standard [SSW Agile](http://www.ssw.com.au/ssw/AgileTemplate/) process template that we use and this is applied across the board, to all of our projects. We even apply any changes to the core process template to all of our existing projects as well. If you have multiple projects for the same clients on multiple templates and you want to keep it that way, then this approach will not work for you. However, if you want to standardise as we have at SSW then this approach may benefit you as well.

    #### Pros

    - **You only have one project to upgrade when a process template changes** – After going through an upgrade of over 170 project prior to the changes in the RC I can tell you that that many projects is no fun.
    - **Standardises your Process Template** – You will always have the same Process implementation across projects/products without exception
    - **You get tighter control over the permissions –** Yes, you can do this on a standard Team Project, but it gets a lot easier with practice.
    - **You can “move” work items from one “product” to another** – Have we not always wanted to do that.
    - **You can rename your projects** – Wahoo: everyone wants to do this, now you can.
    - **One set of Reporting Services reports to manage** – You set an area and iteration to run reports anyway, so you may as well set both.
    - **Simplified Check-In Policies**– There is only one set of check-in policies per client. This simplifies administration of policies.
    - **Simplified Alerts** – As alerts are applied across multiple projects this simplifies your alert rules as per client.
    - **Process Template Upgrades** – When a new process template is released, like “Agile6” we can create a “SSW.Agile6” project and move Area Projects ad-hock into it as we use them. This way we keep the history of the work items in tact and are able to properly upgrade to the new process template.
    - **Archiving** – We would be able to archive old unused projects by leaving them behind with history and source intact in the old “SSW.Agile5” project and then using the Project Collection splitting process to only keep active projects on TFS while keeping the database available if it is needed in the future.
    - **Find all builds** – You need to open a project to query builds, so you will be able to see all builds in one project.

    #### Cons

    All of these cons could be mitigated by a custom tool that helps automate creation of “Sub-projects” within Team Projects. This custom tool could create areas, Iteration, permissions, SharePoint and queries. It just does not exist yet :)

    - **You need to configure the Areas and Iterations** – This is just like you would do for Sprints/Iterations and for functional areas of your application, but with 1 extra level at the top of the tree.
    - **You need to configure the permissions** – This I guess is the main configuration point. It is possible to create the same permissions as a Team Project at this level, but that would be a bit of configuration work.
    - **You may need to configure sub sites for SharePoint** (depends on your requirement) – If you have two projects/products in the same Team Project then you will not see the burn down for each one out-of-the-box, but rather a cumulative for the Team Project. This is not really that much of a problem as you would have to configure your burndown graphs for your current iteration anyway.  
       _note: When you create a sub site to a TFS linked portal it will inherit the settings of its parent site :) This is fantastic as it means that you can easily create sub sites and then set the Area and Iteration path in each of the reports to be the correct one._
    - **Every team wants their own customization** (via [Ewald Hofman](http://www.ewaldhofman.nl/)) - small teams of 2 persons against teams of 30 – or even outsourcing – need their own process, you cannot allow that because everybody gets the same work item types.  
       _note: Luckily at SSW this is not a problem as our template is standardised across all projects and customers._
    - **Large list of builds** (via [Ewald Hofman](http://www.ewaldhofman.nl/)) – As the build list in Team Explorer is just a flat list it can get very cluttered.  
       _note: I would mitigate this by removing any build that has not been run in over 30 days. The build template and workflow will still be available in version control, but it will clean the list._

    ### Implications around Areas

    Areas should be used for topological classification/isolation of work items. You can think of this as architecture areas, organisational areas or even the main features of your application. In our scenario there is an additional top level item that represents the Project / Product that we want to chop our Team Project into.

    ![image](images/e81a0b914d47_8DFC-image_-1-1.png)  
    { .post-img }
    **Figure: Creating a sub area to represent a product/project is easy.**

    Becomes:

    ### Implications around Iterations

    Iterations should be used for chronological classification/isolation of work items. This could include isolated time boxes, milestones or release timelines and really depends on the logical flow of your project or projects. Due to the new level in Area we need to add the same level to Iteration. This is primarily because it is unlikely that the sprints in each of your projects/products will start and end at the same time. This is just a reality of managing multiple projects.

    ![image](images/e81a0b914d47_8DFC-image_-5-5.png)  
    { .post-img }
    **Figure: Adding the same Area value to Iteration as the top level item adds flexibility to Iteration.**

    > Sprint 1

    Or

    > Release 1Sprint 1

    Becomes:

    > Sprint 1

    Or

    > Release 1Sprint 1

    ### Implications around Queries

    Queries are used to filter your work items based on a specified level of granularity. There are a number of queries that are built into a project created using the MSF Agile 5.0 template, but we now have multiple projects and it would be a pain to have to edit all of the work items every time we changed project, and that would only allow one team to work on one project at a time.

    ![image](images/e81a0b914d47_8DFC-image_-2-2.png)   
    { .post-img }
    **Figure: The Queries that are created in a normal MSF Agile 5.0 project do not quite suit our new needs.**

    In order for project contributors to be able to query based on their project we need a couple of things. The first thing I did was to create an “\_Area Template” folder that has a copy of the project layout with all the queries setup to filter based on the “\_Area Template” Area and the “\_Sprint template” you can see in the Area and Iteration views.

    ![image](images/e81a0b914d47_8DFC-image_-4-4.png)  
    { .post-img }
    **Figure: The template is currently easily drag and drop, but you then need to edit the queries to point at the right Area and Iteration. This needs a tool.**

    I then created an “Areas” folder to hold all of the area specific queries. So, when you go to create a new TFS Sub-Project you just drag “\_Area Template” while holding “Ctrl” and drop it onto “Areas”. There is a little setup here. That said I managed it in around 10 minutes which is not so bad, and I can imagine it being quite easy to build a tool to create these queries

    ![image](images/e81a0b914d47_8DFC-image_-3-3.png)  
    { .post-img }
    **Figure: These new queries can be configured in around 10 minutes, which includes setting up the Area and Iteration as well.**

    ### Version Control

    What about your source code? Well, that is the easiest of the lot. Just create a sub folder for each of your projects/products.

    ![image](images/e81a0b914d47_8DFC-image_-6-6.png)  
    { .post-img }
    **Figure: Creating sub folders in source control is easy as “Right click | Create new folder”.**

    > DEVMain

    Becomes:

    > DEVMain

    ### Conclusion

    I think it is up to each company to make a call on how you want to configure your Team Projects and it depends completely on how many projects/products you are going to have for each customer including yourself.

    If we decide to utilise this route it will require some configuration to get our 170+ projects into this format, and I will probably be writing some tools to help.

    #### Feedback

    Now that I have explained this method, what do you think?

    - **What other pros and cons can you see?**
    - **What do you think of this approach?**
    - **Will you be using it?**
    - **What tools would you like to support you?**

    Technorati Tags: [ALM](http://technorati.com/tags/ALM) [TFS Admin](http://technorati.com/tags/TFS+Admin) [TFBS](http://technorati.com/tags/TFBS) [TFS Custom](http://technorati.com/tags/TFS+Custom) [WIT](http://technorati.com/tags/WIT) [CodeProject](http://technorati.com/tags/CodeProject) [SSW](http://technorati.com/tags/SSW) [Scrum](http://technorati.com/tags/Scrum) [SP 2010](http://technorati.com/tags/SP+2010) [SharePoint](http://technorati.com/tags/SharePoint)
  FilePath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-03-09-when-should-i-use-areas-in-tfs-instead-of-team-projects-in-team-foundation-server-2010\index.md
  FolderPath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-03-09-when-should-i-use-areas-in-tfs-instead-of-team-projects-in-team-foundation-server-2010
- FrontMatter:
    title: MVVM for Dummies
    description: Master MVVM with this essential guide for developers. Learn best practices in WPF and Silverlight to achieve clean, maintainable code. Dive in now!
    ResourceId: __7oXNKjdWP
    ResourceType: blog
    ResourceContentOrigin: Human
    ResourceImport: true
    ResourceImportId: 65
    ResourceImportSource: Wordpress
    ResourceImportOriginalSource: GeeksWithBlogs
    date: 2010-03-05
    weight: 790
    creator: Martin Hinshelwood
    layout: blog
    resourceTypes: blog
    slug: mvvm-for-dummies
    aliases:
    - /resources/__7oXNKjdWP
    aliasesArchive:
    - /blog/mvvm-for-dummies
    - /mvvm-for-dummies
    - /resources/blog/mvvm-for-dummies
    tags:
    - Software Development
    categories:
    - Uncategorized
    preview: metro-binary-vb-128-link-1-1.png
  BodyContent: |
    I think that I have found one of the best articles on MVVM that I have ever read:

    [http://jmorrill.hjtcentral.com/Home/tabid/428/EntryId/432/MVVM-for-Tarded-Folks-Like-Me-or-MVVM-and-What-it-Means-to-Me.aspx](http://jmorrill.hjtcentral.com/Home/tabid/428/EntryId/432/MVVM-for-Tarded-Folks-Like-Me-or-MVVM-and-What-it-Means-to-Me.aspx)

    This article sums up what is in MVVM and what is outside of MVVM. Note, when I and most other people say MVVM, they really mean MVVM, Commanding, Dependency Injection + any other Patterns you need to create your application.

    In WPF a lot of use is made of the Decorator and Behaviour pattern as well. The goal of all of this is to have pure separation of concerns. This is what every code behind file of every Control / Window / Page  should look like if you are engineering your WPF and Silverlight correctly:

    ### C# – Ideal

    ```
      public partial class IdealView : UserControl
      {
          public IdealView()
          {
              InitializeComponent();
          }
      }
    ```

    **Figure: This is the ideal code behind for a Control / Window / Page when using MVVM.**

    ### C# – Compromise, but works

    ```
      public partial class IdealView : UserControl
      {
          public IdealView()
          {
              InitializeComponent();

              this.DataContext = new IdealViewModel();
          }
      }
    ```

    **Figure: This is a compromise, but the best you can do without Dependency Injection**

    ### VB.NET – Ideal

    ```
    Partial Public Class ServerExplorerConnectView

    End Class
    ```

    **Figure: This is the ideal code behind for a Control / Window / Page when using MVVM.**

    ### VB.NET – Compromise, but works

    ```
    Partial Public Class ServerExplorerConnectView

        Private Sub ServerExplorerConnectView_Loaded(ByVal sender As Object, ByVal e As System.Windows.RoutedEventArgs) Handles Me.Loaded
            Me.DataContext = New ServerExplorerConnectViewModel
        End Sub

    End Class
    ```

    **Figure: This is a compromise, but the best you can do without Dependency Injection**

    Technorati Tags: [.NET](http://technorati.com/tags/.NET) [WPF](http://technorati.com/tags/WPF) [Silverlight](http://technorati.com/tags/Silverlight) [MVVM](http://technorati.com/tags/MVVM)
  FilePath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-03-05-mvvm-for-dummies\index.md
  FolderPath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-03-05-mvvm-for-dummies
- FrontMatter:
    title: 'Solution: Testing Web Services with MSTest on Team Foundation Build Services 2010'
    description: Learn how to effectively test web services using MSTest on Team Foundation Build Services 2010. Overcome common challenges and streamline your testing process!
    ResourceId: VfWTqYc6S-M
    ResourceType: blog
    ResourceContentOrigin: Human
    ResourceImport: true
    ResourceImportId: 68
    ResourceImportSource: Wordpress
    ResourceImportOriginalSource: GeeksWithBlogs
    date: 2010-03-04
    weight: 610
    creator: Martin Hinshelwood
    layout: blog
    resourceTypes: blog
    slug: solution-testing-web-services-with-mstest-on-team-foundation-build-services-2010
    aliases:
    - /resources/VfWTqYc6S-M
    aliasesArchive:
    - /blog/solution-testing-web-services-with-mstest-on-team-foundation-build-services-2010
    - /solution-testing-web-services-with-mstest-on-team-foundation-build-services-2010
    - /solution--testing-web-services-with-mstest-on-team-foundation-build-services-2010
    - /blog/solution--testing-web-services-with-mstest-on-team-foundation-build-services-2010
    - /resources/blog/solution-testing-web-services-with-mstest-on-team-foundation-build-services-2010
    tags:
    - Automated Testing
    - Technical Mastery
    - Software Development
    - Test Automation
    - Pragmatic Thinking
    - Technical Excellence
    - Engineering Practices
    - Troubleshooting
    preview: metro-visual-studio-2010-128-link-6-6.png
    categories:
    - Engineering Excellence
  BodyContent: |
    Guess what. About 20 minutes after I fixed the build, Allan broke it again!

    ![clip_image002](images/2faeb3370980_F4FC-clip_image002_-1-1.jpg)
    { .post-img }

    Update: 4th March 2010 – After having huge problems getting this working I read [Billy Wang’s post](http://billwg.blogspot.com/2009/06/testing-wcf-web-services.html) which showed me the light.

    ---

    The problem here is that even though the test passes locally it will not during an Automated Build. When you send your tests to the build server it does not understand that you want to spin up the web site and run tests against that! When you run the test in Visual Studio it spins up the web site anyway, but would you expect your test to pass if you told the website not to spin up? Of course not. So, when you send the code to the build server you need to tell it what to spin up.

    First, the best way to get the parameters you need is to right click on the method you want to test and select “Create Unit Test”. This will detect wither you are running in IIS or ASP.NET Development Server or None, and create the relevant tags.

    ![clip_image002[4]](images/2faeb3370980_F4FC-clip_image0024_-2-2.jpg)
    { .post-img }

    Figure: Right clicking on “SaveDefaultProjectFile” will produce a context menu with “Create Unit tests…” on it.

    If you use this option it will AutoDetect most of the Attributes that are required.

    ```
    /// <summary>
    ///A test for SSW.SQLDeploy.SilverlightUI.Web.Services.IProfileService.SaveDefaultProjectFile
    ///</summary>
    // TODO: Ensure that the UrlToTest attribute specifies a URL to an ASP.NET page (for example,
    // http://.../Default.aspx). This is necessary for the unit test to be executed on the web server,
    // whether you are testing a page, web service, or a WCF service.
    [TestMethod()]
    [HostType("ASP.NET")]
    [AspNetDevelopmentServerHost("D:WorkspacesSSWSSWSqlDeployDEVMainSSW.SQLDeploy.SilverlightUI.Web", "/")]
    [UrlToTest("http://localhost:3100/")]
    [DeploymentItem("SSW.SQLDeploy.SilverlightUI.Web.dll")]
    public void SaveDefaultProjectFileTest()
    {
        IProfileService target = new ProfileService(); // TODO: Initialize to an appropriate value
        string strComputerName = string.Empty; // TODO: Initialize to an appropriate value
        bool expected = false; // TODO: Initialize to an appropriate value
        bool actual;
        actual = target.SaveDefaultProjectFile(strComputerName);
        Assert.AreEqual(expected, actual);
        Assert.Inconclusive("Verify the correctness of this test method.");
    }
    ```

    **Figure: Auto created code that shows the attributes required to run correctly in IIS or in this case ASP.NET Development Server**

    If you are a purist and don’t like creating unit tests like this then you just need to add the three attributes manually.

    - **HostType** – This attribute specified what host to use. Its an extensibility point, so you could write your own. Or you could just use “ASP.NET”.
    - **UrlToTest** – This specifies the start URL. For most tests it does not matter which page you call, as long as it is a valid page otherwise your test may not run on the server, but may pass anyway.
    - **AspNetDevelopmentServerHost** – This is a nasty one, it is only used if you are using ASP.NET Development Host and is unnecessary if you are using IIS. This sets the host settings and the first value MUST be the physical path to the root of your web application.

    OK, so all that was rubbish and I could not get anything working using the MSDN documentation. Google provided very little help until I ran into [Billy Wang’s post](http://billwg.blogspot.com/2009/06/testing-wcf-web-services.html)  and I heard that heavenly music that all developers hear when understanding dawns that what they have been doing up until now is just plain stupid.

    I am sure that the above will work when I am doing Web Unit Tests, but there is a much easier way when doing web services.

    You need to add the AspNetDevelopmentServer attribute to your code. This will tell MSTest to spin up an ASP.NET Development server to host the service. Specify the path to the web application you want to use.

    ```
    [AspNetDevelopmentServer("WebApp1", "D:WorkspacesSSWSSWSqlDeployDEVMainSSW.SQLDeploy.SilverlightUI.Web")]
    [DeploymentItem("SSW.SQLDeploy.SilverlightUI.Web.dll")]
    [TestMethod]
    public void ProfileService_Integration_SaveDefaultProjectFile_Returns_True()
    {
        ProfileServiceClient target = new ProfileServiceClient();

        bool isTrue = target.SaveDefaultProjectFile("Mav");

        Assert.AreEqual(true, isTrue);
    }
    ```

    **Figure: This AspNetDevelopmentServer will make sure that the specified web application is launched.**

    Now we can run the test and have it pass, but if the dynamically assigned ASP.NET Development server port changes what happens to the details in your app.config that was generated when creating a reference to the web service? Well, it would be wrong and the test would fail.

    This is where Billy’s helper method comes in. Once you have created an instance of your service call, and it has loaded the config, but before you make any calls to it you need to go in and dynamically set the Endpoint address to the same address as your dynamically hosted Web Application.

    ```
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Text;
    using Microsoft.VisualStudio.TestTools.UnitTesting;
    using System.Reflection;
    using System.ServiceModel.Description;
    using System.ServiceModel;

    namespace SSW.SQLDeploy.Test
    {
        class WcfWebServiceHelper
        {

            public static bool TryUrlRedirection(object client, TestContext context, string identifier)
            {
                bool result = true;
                try {
                    PropertyInfo property = client.GetType().GetProperty("Endpoint");
                    string webServer = context.Properties[string.Format("AspNetDevelopmentServer.{0}", identifier)].ToString();
                    Uri webServerUri = new Uri(webServer);
                    ServiceEndpoint endpoint = (ServiceEndpoint)property.GetValue(client, null);
                    EndpointAddressBuilder builder = new EndpointAddressBuilder(endpoint.Address);
                    builder.Uri = new Uri(endpoint.Address.Uri.OriginalString.Replace(endpoint.Address.Uri.Authority, webServerUri.Authority));
                    endpoint.Address = builder.ToEndpointAddress();
                }
                catch (Exception e) {
                    context.WriteLine(e.Message); result = false;
                }
                return result;
            }
        }
    }
    ```

    **Figure: This fixes a problem with the URL in your web.config not being the same as the dynamically hosted ASP.NET Development server port.**

    We can now add a call to this method after we created the Proxy object and change the Endpoint for the Service to the correct one. This process is wrapped in an assert as if it fails there is no point in continuing.

    ```
    [AspNetDevelopmentServer("WebApp1", D:WorkspacesSSWSSWSqlDeployDEVMainSSW.SQLDeploy.SilverlightUI.Web")]
    [DeploymentItem("SSW.SQLDeploy.SilverlightUI.Web.dll")]
    [TestMethod]
    public void ProfileService_Integration_SaveDefaultProjectFile_Returns_True()
    {
        ProfileServiceClient target = new ProfileServiceClient();
        Assert.IsTrue(WcfWebServiceHelper.TryUrlRedirection(target, TestContext, "WebApp1"));

        bool isTrue = target.SaveDefaultProjectFile("Mav");

        Assert.AreEqual(true, isTrue);
    }
    ```

    **Figure: Editing the Endpoint from the app.config on the fly to match the dynamically hosted ASP.NET Development Server URL and port is now easy.**

    As you can imagine AspNetDevelopmentServer poses some problems of you have multiple developers. What are the chances of everyone using the same location to store the source? What about if you are using a build server, how do you tell MSTest where to look for the files?

    To the rescue is a property called" “%PathToWebRoot%” which is always right on the build server. It will always point to your build drop folder for your solutions web sites. Which will be “tfs.ssw.com.auBuildDrop\[BuildName\]Debug_PrecompiledWeb” or whatever your build drop location is. So lets change the code above to add this.

    ```
    [AspNetDevelopmentServer("WebApp1", "%PathToWebRoot%SSW.SQLDeploy.SilverlightUI.Web")]
    [DeploymentItem("SSW.SQLDeploy.SilverlightUI.Web.dll")]
    [TestMethod]
    public void ProfileService_Integration_SaveDefaultProjectFile_Returns_True()
    {
        ProfileServiceClient target = new ProfileServiceClient();
        Assert.IsTrue(WcfWebServiceHelper.TryUrlRedirection(target, TestContext, "WebApp1"));

        bool isTrue = target.SaveDefaultProjectFile("Mav");

        Assert.AreEqual(true, isTrue);
    }
    ```

    **Figure: Adding %PathToWebRoot% to the AspNetDevelopmentServer path makes it work everywhere.**

    Now we have another problem… this will ONLY run on the build server and will fail locally as %PathToWebRoot%’s default value is “C:Users\[profile\]DocumentsVisual Studio 2010Projects”. Well this sucks… How do we get the test to run on any build server **_and_** any developer laptop.

    Open “Tools | Options | Test Tools | Test Execution” in Visual Studio and you will see a field called “Web application root directory”. This is where you override that default above.

    ![image](images/2faeb3370980_F4FC-image_-3-3.png)  
    { .post-img }
    **Figure: You can override the default website location for tests.**

    In my case I would put in “D:WorkspacesSSWSSWSqlDeployDEVMain” and all the developers working with this branch would put in the folder that they have mapped.

    ### Can you see a problem?

    What is I create a “$/SSW/SqlDeploy/DEV/34567” branch from Main and I want to run tests in there. Well… I would have to change the value above. This is not ideal, but as you can put your projects anywhere on a computer, it has to be done.

    ### Conclusion

    Although this looks convoluted and complicated there are real problems being solved here that mean that you have a test ANYWHERE solution. Any build server, any Developer workstation.

    ### Resources:

    [http://billwg.blogspot.com/2009/06/testing-wcf-web-services.html](http://billwg.blogspot.com/2009/06/testing-wcf-web-services.html "http://billwg.blogspot.com/2009/06/testing-wcf-web-services.html")

    [http://tough-to-find.blogspot.com/2008/04/testing-asmx-web-services-in-visual.html](http://tough-to-find.blogspot.com/2008/04/testing-asmx-web-services-in-visual.html "http://tough-to-find.blogspot.com/2008/04/testing-asmx-web-services-in-visual.html")

    [http://msdn.microsoft.com/en-us/library/ms243399(VS.100).aspx](<http://msdn.microsoft.com/en-us/library/ms243399(VS.100).aspx> "http://msdn.microsoft.com/en-us/library/ms243399(VS.100).aspx")

    [http://blogs.msdn.com/dscruggs/archive/2008/09/29/web-tests-unit-tests-the-asp-net-development-server-and-code-coverage.aspx](http://blogs.msdn.com/dscruggs/archive/2008/09/29/web-tests-unit-tests-the-asp-net-development-server-and-code-coverage.aspx "http://blogs.msdn.com/dscruggs/archive/2008/09/29/web-tests-unit-tests-the-asp-net-development-server-and-code-coverage.aspx")

    [http://www.5z5.com/News/?543f8bc8b36b174f](http://www.5z5.com/News/?543f8bc8b36b174f "http://www.5z5.com/News/?543f8bc8b36b174f")

    ---

    ## Need Help?

    ![www.SSW.com.au](images/GWB-5366-o_SSWLogo1-4-4.png)
    { .post-img }

    [SSW](http://www.ssw.com.au) was the first company in the world outside of Microsoft to deploy Visual Studio 2010 Team Foundation Server to production, not [once](http://blog.hinshelwood.com/archive/2009/10/25/deploying-visual-studio-2010-team-foundation-server-beta-2.aspx), but [twice](http://blog.hinshelwood.com/archive/2010/02/10/upgrading-from-tfs-2010-beta-2-to-tfs-2010-rc.aspx).

    ### Team Foundation Server

    ![Visual Studi2010 ALM](images/GWB-5366-o_vs2010logo1-5-5.png) SSW provides expert Visual Studio ALM guidance including [installation, configuration and customisation](http://www.ssw.com.au/ssw/Company/SourceControl.aspx) through our four Microsoft Visual Studio ALM MVP’s in three countries; Australia, Beijing and the UK. They have experience deploying to small development shops all the way through to large blue chips.
    { .post-img }

    ### Professional Scrum Developer Training

    ![Professional Scrum Developer Training](images/PSD%20Announcement%20Graphic.jpg) SSW has six [Professional Scrum Developer Trainers](http://www.ssw.com.au/ssw/Events/Scrum-Training-Course.aspx) who specialise in training your developers in implementing Scrum with Microsoft's Visual Studio ALM tools.
    { .post-img }

    Technorati Tags: [ALM](http://technorati.com/tags/ALM) [TFBS](http://technorati.com/tags/TFBS) [Visual Studio](http://technorati.com/tags/Visual+Studio) [SSW](http://technorati.com/tags/SSW) [Testing](http://technorati.com/tags/Testing) [TFS 2010](http://technorati.com/tags/TFS+2010) [WCF](http://technorati.com/tags/WCF) [Silverlight](http://technorati.com/tags/Silverlight) [Scrum](http://technorati.com/tags/Scrum) [VS 2010](http://technorati.com/tags/VS+2010) [TFS](http://technorati.com/tags/TFS)
  FilePath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-03-04-solution-testing-web-services-with-mstest-on-team-foundation-build-services-2010\index.md
  FolderPath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-03-04-solution-testing-web-services-with-mstest-on-team-foundation-build-services-2010
- FrontMatter:
    title: Microsoft, please help me diagnose TFS Administration permission issues!
    description: Struggling with TFS 2010 admin permissions? Join Martin Hinshelwood as he shares his troubleshooting journey and tips to resolve common issues effectively!
    ResourceId: ueNhR-7dVyg
    ResourceType: blog
    ResourceContentOrigin: Human
    ResourceImport: true
    ResourceImportId: 67
    ResourceImportSource: Wordpress
    ResourceImportOriginalSource: GeeksWithBlogs
    date: 2010-03-04
    weight: 1000
    creator: Martin Hinshelwood
    layout: blog
    resourceTypes: blog
    slug: microsoft-please-help-me-diagnose-tfs-administration-permission-issues
    aliases:
    - /resources/ueNhR-7dVyg
    aliasesArchive:
    - /blog/microsoft-please-help-me-diagnose-tfs-administration-permission-issues
    - /microsoft-please-help-me-diagnose-tfs-administration-permission-issues
    - /microsoft,-please-help-me-diagnose-tfs-administration-permission-issues-
    - /blog/microsoft,-please-help-me-diagnose-tfs-administration-permission-issues-
    - /microsoft--please-help-me-diagnose-tfs-administration-permission-issues-
    - /blog/microsoft--please-help-me-diagnose-tfs-administration-permission-issues-
    - /resources/blog/microsoft-please-help-me-diagnose-tfs-administration-permission-issues
    tags:
    - Troubleshooting
    preview: metro-SSWLogo-128-link-1-1.png
    categories:
    - Uncategorized
  BodyContent: |
    I recently had a fun time trying to debug a permission issue I ran into using TFS 2010’s TfsConfig.

    Update 5th March 2010 – In its style of true excellence my company has added rant to its “[Suggestions for Better TFS](http://www.ssw.com.au/ssw/Standards/BetterSoftwareSuggestions/TeamFoundationServer.aspx#PermissionIssues)”.

    ---

    <rant>

    I was trying to run the TfsConfig tool and I kept getting the message:

    > “TF55038: You don't have sufficient privileges to run this tool. Contact your Team Foundation system administrator."

    This message made me think that it was something to do with the Install permissions as it is always recommended to use a single account to do every install of TFS. I did not install the original TFS on our network and my account was not used to do the TFS2010 install. But I did do the upgrade from 2010 beta 2 to 2010 RC with my current account.

    So I proceeded to do some checking:

    - Am I in the administrators group on the server?  
       ![image](images/MicrosoftpleasehelpmediagnoseTFSAdminist_E8E5-image_-7-7.png)  
      { .post-img }
      **Figure: Yes, I am in the administrators group on the server  
       **
    - Am I in the Administration Console users list?  
       ![image](images/MicrosoftpleasehelpmediagnoseTFSAdminist_E8E5-image_-7-7.png)  
      { .post-img }
      **Figure: Yes, I am in** **the Administration Console users list**
    - Have I reapplied the permissions in the Administration Console users list ticking all the options?  
       ![image](images/MicrosoftpleasehelpmediagnoseTFSAdminist_E8E5-image_-7-7.png)  
      { .post-img }
      **Figure: Make sure you check all of the boxed if you want to have all the admin options  
       **  
       **![image](images/MicrosoftpleasehelpmediagnoseTFSAdminist_E8E5-image_-7-7.png)  
      { .post-img }
      Figure: Yes, I have made sure that all my options are correct.**

    - Am I in the Team Foundation administrators group?  
       ![image](images/MicrosoftpleasehelpmediagnoseTFSAdminist_E8E5-image_-7-7.png)  
      { .post-img }
      **Figure: Yes, I am in the Team Foundation Administrators group  
       **
    - Is my account explicitly SysAdmin on the Database server?  
       ![image](images/MicrosoftpleasehelpmediagnoseTFSAdminist_E8E5-image_-7-7.png)  
      { .post-img }
      **Figure: Yes, I do have explicit SysAdmin on the database**

    Can you guess what the problem was?

    **_The command line window was not running as the administrator!_**

    As with most other applications there should be an explicit error message that states:

    > _"You are not currently running in administrator mode; please restart the command line with elevated privileges!"_

    This would have saved me 30 minutes, although I agree that I should change my name to Muppet and just be done with it.

    </rant>

    Technorati Tags: [ALM](http://technorati.com/tags/ALM) [TFS Admin](http://technorati.com/tags/TFS+Admin) [SSW](http://technorati.com/tags/SSW) [TFS 2010](http://technorati.com/tags/TFS+2010)
  FilePath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-03-04-microsoft-please-help-me-diagnose-tfs-administration-permission-issues\index.md
  FolderPath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-03-04-microsoft-please-help-me-diagnose-tfs-administration-permission-issues
- FrontMatter:
    title: Finding the problem on a partially succeeded build on Team Foundation Build Services 2010
    description: Discover how to troubleshoot partially succeeded builds in TFS 2010. Learn effective strategies to identify and resolve issues for smoother development.
    ResourceId: YBExXvBtNAN
    ResourceType: blog
    ResourceContentOrigin: Human
    ResourceImport: true
    ResourceImportId: 66
    ResourceImportSource: Wordpress
    ResourceImportOriginalSource: GeeksWithBlogs
    date: 2010-03-04
    weight: 490
    creator: Martin Hinshelwood
    layout: blog
    resourceTypes: blog
    slug: finding-the-problem-on-a-partially-succeeded-build-on-team-foundation-build-services-2010
    aliases:
    - /resources/YBExXvBtNAN
    aliasesArchive:
    - /blog/finding-the-problem-on-a-partially-succeeded-build-on-team-foundation-build-services-2010
    - /finding-the-problem-on-a-partially-succeeded-build-on-team-foundation-build-services-2010
    - /resources/blog/finding-the-problem-on-a-partially-succeeded-build-on-team-foundation-build-services-2010
    tags:
    - Software Development
    - Troubleshooting
    - Pragmatic Thinking
    preview: metro-visual-studio-2010-128-link-8-8.png
    categories:
    - Scrum
  BodyContent: |
    Now that I have the Build failing because of a genuine bug and not just because of a test framework failure, lets see if we can trace through to finding why the first test in our new application failed. Lets look at the build and see if we can see why there is a red cross on it.

    First, lets open that build list. On Team Explorer Expand your Team Project Collection | Team Project and then Builds. Double click the offending build.

    ![image](images/Findingtheproblemonapartiallysucceededbu_D7AC-image_-5-5.png)  
    { .post-img }
    Figure: Opening the Build list is a key way to see what the current state of your software is.

    ![image](images/Findingtheproblemonapartiallysucceededbu_D7AC-image_-5-5.png)  
    { .post-img }
    **Figure: A test is failing, but we can now view the Test Results to find the problem**

    ![image](images/Findingtheproblemonapartiallysucceededbu_D7AC-image_-5-5.png)    
    { .post-img }
    **Figure: You can quite clearly see that the test has failed with “The device is not ready”.**

    To me the “The Device is not ready” smacks of a System.IO exception, but it passed on my local computer, so why not on the build server?

    Its a FaultException so it is most likely coming from the Service and not the client, so lets take a look at the client method that the test is calling:

    ```
    bool IProfileService.SaveDefaultProjectFile(string strComputerName)
    {
        ProjectFile file = new ProjectFile()
        {
            ProjectFileName = strComputerName + "_" + System.DateTime.Now.ToString("yyyyMMddhhmmsss") + ".xml",
            ConnectionString = "persist security info=False; pooling=False; data source=(local); application name=SSW.SQLDeploy.vshost.exe; integrated security=SSPI; initial catalog=SSWSQLDeployNorthwindSample",
            DateCreated = System.DateTime.Now,
            DateUpdated = System.DateTime.Now,
            FolderPath = @"C:Program FilesSSW SQL DeploySampleData",
            IsComplete=false,
            Version = "1.3",
            NewDatabase = true,
            TimeOut = 5,
            TurnOnMSDE = false,
            Mode="AutomaticMode"
        };

        string strFolderPath = "D:"; //LocalSettings.ProjectFileBasePath;
        string strFileName = strFolderPath + file.ProjectFileName;

        try
        {
            using (FileStream fs = new FileStream(strFileName, FileMode.Create))
            {
                DataContractSerializer serializer = new DataContractSerializer(typeof(ProjectFile));
                using (XmlDictionaryWriter writer = XmlDictionaryWriter.CreateTextWriter(fs))
                {
                    serializer.WriteObject(writer, file);
                }
            }
        }
        catch (Exception ex)
        {
            //TODO: Log the exception
            throw ex;
            return false;
        }

        return true;
    }
    ```

    **Figure: You can see on lines 9 and 18 that there are calls being made to specific folders and disks.**

    What is wrong with this code? What assumptions mistakes could the developer have made to make this look OK:

    1. That every install would be to “C:Program FilesSSW SQL Deploy”
    2. That every computer would have a “D:”
    3. That checking in code at 6pm because the had to go home was a good idea.

    lets solve each of these problems:

    1. We are in a web service… lets store data within the web root. So we can call “Server.MapPath(“~/App_Data/SSW SQL DeploySampleData”) instead.
    2. Never reference an explicit path. If you need some storage for your application use IsolatedStorage.
    3. Shelve your code instead.

    What else could have been done?

    1. Code review before check-in – The developer should have shelved their code and asked another dev to look at it.
    2. Use Defensive programming – Make sure that any code that has the possibility of failing has checks.

    **Any more options?**

    _Let me know and I will add them._

    ### What do we do?

    The correct things to do is to add a Bug to the backlog, but as this is probably going to be fixed in sprint, I will add it directly to the sprint backlog.

    1. Right click on the failing test Select “Create Work Item | Bug”  
        ![image](images/Findingtheproblemonapartiallysucceededbu_D7AC-image_-5-5.png)  
       { .post-img }
       **Figure: Create an associated bug to add to the backlog.**

    2. Set the values for the Bug making sure that it goes into the right sprint and Area. Make your steps to reproduce as explicit as possible, but “See test” is valid under these circumstances.  
         ![image](images/Findingtheproblemonapartiallysucceededbu_D7AC-image_-5-5.png)  
       { .post-img }
       Figure: Add it to the correct Area and set the Iteration to the Area name or the Sprint if you think it will be fixed in Sprint and make sure you bring it up at the next Scrum Meeting.  
        Note: make sure you leave the “Assigned To” field blank as in Scrum team members sign up for work, you do not give it to them. The developer who broke the test will most likely either sign up for the bug, or say that they are stuck and need help.  
        Note: Visual Studio has taken care of associating the failing test with the Bug.

    3. Save…

    ---

    ## Need Help?

    ![www.SSW.com.au](images/GWB-5366-o_SSWLogo-6-6.png)
    { .post-img }

    [SSW](http://www.ssw.com.au) was the first company in the world outside of Microsoft to deploy Visual Studio 2010 Team Foundation Server to production, not [once](http://blog.hinshelwood.com/archive/2009/10/25/deploying-visual-studio-2010-team-foundation-server-beta-2.aspx), but [twice](http://blog.hinshelwood.com/archive/2010/02/10/upgrading-from-tfs-2010-beta-2-to-tfs-2010-rc.aspx).

    ### Team Foundation Server

    ![Visual Studi2010 ALM](images/GWB-5366-o_vs2010logo-7-7.png) SSW provides expert Visual Studio ALM guidance including [installation, configuration and customisation](http://www.ssw.com.au/ssw/Company/SourceControl.aspx) through our four Microsoft Visual Studio ALM MVP’s in three countries; Australia, Beijing and the UK. They have experience deploying to small development shops all the way through to large blue chips.
    { .post-img }

    ### Professional Scrum Developer Training

    ![Professional Scrum Developer Training](images/PSD%20Announcement%20Graphic.jpg) SSW has six [Professional Scrum Developer Trainers](http://www.ssw.com.au/ssw/Events/Scrum-Training-Course.aspx) who specialise in training your developers in implementing Scrum with Microsoft's Visual Studio ALM tools.
    { .post-img }

    Technorati Tags: [TFBS](http://technorati.com/tags/TFBS) [Design](http://technorati.com/tags/Design) [Developing](http://technorati.com/tags/Developing) [Testing](http://technorati.com/tags/Testing) [.NET](http://technorati.com/tags/.NET) [WCF](http://technorati.com/tags/WCF) [SSW](http://technorati.com/tags/SSW) [Scrum](http://technorati.com/tags/Scrum) [VS 2010](http://technorati.com/tags/VS+2010) [TFS](http://technorati.com/tags/TFS)
  FilePath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-03-04-finding-the-problem-on-a-partially-succeeded-build-on-team-foundation-build-services-2010\index.md
  FolderPath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-03-04-finding-the-problem-on-a-partially-succeeded-build-on-team-foundation-build-services-2010
- FrontMatter:
    title: 'Solution: Getting Silverlight to build on Team Foundation Build Services 2010'
    description: Learn how to successfully build Silverlight applications using Team Foundation Build Services 2010. Overcome common challenges with expert tips and solutions!
    ResourceId: KPVUDFGZRaX
    ResourceType: blog
    ResourceContentOrigin: Human
    ResourceImport: true
    ResourceImportId: 69
    ResourceImportSource: Wordpress
    ResourceImportOriginalSource: GeeksWithBlogs
    date: 2010-03-03
    weight: 690
    creator: Martin Hinshelwood
    layout: blog
    resourceTypes: blog
    slug: solution-getting-silverlight-to-build-on-team-foundation-build-services-2010
    aliases:
    - /resources/KPVUDFGZRaX
    aliasesArchive:
    - /blog/solution-getting-silverlight-to-build-on-team-foundation-build-services-2010
    - /solution-getting-silverlight-to-build-on-team-foundation-build-services-2010
    - /solution--getting-silverlight-to-build-on-team-foundation-build-services-2010
    - /blog/solution--getting-silverlight-to-build-on-team-foundation-build-services-2010
    - /resources/blog/solution-getting-silverlight-to-build-on-team-foundation-build-services-2010
    tags:
    - Software Development
    - Troubleshooting
    - Install and Configuration
    categories:
    - Uncategorized
    preview: metro-visual-studio-2010-128-link-3-3.png
  BodyContent: |
    This is SSW’s first time using Team Build 2010 to automatically create a Silverlight application. In the past the guys have used Cruse Control, but we want to move to a pure TFS 2010 solution. When one of our developers ([Allan](http://sharepoint.ssw.com.au/AboutUs/Employees/Pages/Allan.aspx)) added a Silverlight 3 project to the Solution our build server spat it out.

    ![clip_image001](images/SolutiongettingSilverlighttobuildonTeamB_C6CA-clip_image001_-4-4.png)  
    { .post-img }
    **Figure: Build SSW.SqlDeploy_20100303.8 failed when trying to build a Silverlight application.**

    Usually the person who broke the build should now be the one responsible for babysitting it until the next person breaks the build. In this case we had not agreed that as part of our project prep so I think I will need to wait until the retrospective at the end of our current, and first for this project, sprint.

    ### Problem 1: First time for Silverlight compile on the Build Server.

    Because Allan added the first Silverlight 3 application to the Solution the build server hiccupped as only the Silverlight 2 SDK was installed on it and it was a Silverlight 3 project. I have highlighted below where the problem was located.

    ![image](images/SolutiongettingSilverlighttobuildonTeamB_C6CA-image_-13-9.png)  
    { .post-img }
    **Figure: The Silverlight targets file was not found on the build server.**

    I downloaded and installed the [Silverlight 3 SDK](http://www.microsoft.com/downloads/details.aspx?FamilyID=1ea49236-0de7-41b1-81c8-a126ff39975bWn8hmhweA) from Microsoft, and hoped all would be well.

    But the build failed again…

    ![clip_image003](images/SolutiongettingSilverlighttobuildonTeamB_C6CA-clip_image003_-5-5.png)  
    { .post-img }
    **Figure: SSW.SqlDeploy_20100303.10 failed still trying to find targets.**

    ### Problem 2: This was due to the web targets not being installed.

    At this point I got fed up and copied the contents of my local directory “C:Program Files (x86)MSBuildMicrosoftVisualStudiov10.0” to the same folder on the build server.

    ![image](images/SolutiongettingSilverlighttobuildonTeamB_C6CA-image_-13-9.png)  
    { .post-img }
    Figure: MSBuild could not find the web targets.

    But the build failed again…

    ![image](images/SolutiongettingSilverlighttobuildonTeamB_C6CA-image_-13-9.png)  
    { .post-img }
    **Figure: SSW.SqlDeploy_20100303.11 failed again trying to build Silverlight.**

    ### Problem 3: Can’t build Silverlight 3 projects with MSBuild 64-bit (the default)

    There is a nasty [bug in the Silverlight SDK](http://weblogs.asp.net/andresv/archive/2009/11/05/build-silverlight-2-0-or-3-0-projects-with-an-x64-tfs-2010-build-agent.aspx) that means that you can’t build using the MSBuild 64-bit process. But on a 64-bit OS, the 64-bit MSBuild is used by default… so how to change it.

    ![image](images/SolutiongettingSilverlighttobuildonTeamB_C6CA-image_-13-9.png)  
    { .post-img }
    **Figure: Why is it saying that the SDK is not installed… oh, a bug.**

    This is an easy fix, but a hard to find solution. if you Open up your “build process definition” and expand the Advanced tree you will see that there is a MSBuild Platform option that is set to “Auto”, change this to “X86”.

    ![clip_image005](images/SolutiongettingSilverlighttobuildonTeamB_C6CA-clip_image005_-6-6.png)  
    { .post-img }
    **Figure: You MUST set the MSBuild Platform to X86 to build a Silverlight project,**

    And the build failed again…

    ![image](images/SolutiongettingSilverlighttobuildonTeamB_C6CA-image_-13-9.png)  
    { .post-img }
    **Figure: SSW.SqlDeploy_20100304.04 failed again trying to do code analysis.**  
    Note: This was only run 20 or so minutes after the last build, but my build server happens to be in Australia :)

    ### Problem 4: Can’t run Code Analysis on Build Server

    Now I get Code Analysis errors…

    ![image](images/SolutiongettingSilverlighttobuildonTeamB_C6CA-image_-13-9.png)  
    { .post-img }
    Figure: Why would I be getting code analysis errors? Could it be that it is not installed?

    To fix this one I just bit the bullet and installed Visual Studio 2010 onto the Build server, and…

    ![clip_image007](images/SolutiongettingSilverlighttobuildonTeamB_C6CA-clip_image007_-7-7.png)  
    { .post-img }
    Figure: Successful builds give me a warm fuzzy feeling…

    ### Conclusion

    The things that should be installed on the build server are:

    - Team Foundation Build Services 2010 or 2008 or 2005
    - Visual Studio 2010/2008/2005
    - Add-on’s for TFS or Visual Studio that may be required to execute the build.

    The options you should set for any Build that has 32-bit dependencies that are causing a problem:

    - You MUST set the MSBuild Platform to X86 to build a project that can’t be built in 64-bit MSBuild.

    ---

    ## Need Help?

    ![www.SSW.com.au](images/GWB-5366-o_SSWLogo2-1-1.png)
    { .post-img }

    [SSW](http://www.ssw.com.au) was the first company in the world outside of Microsoft to deploy Visual Studio 2010 Team Foundation Server to production, not [once](http://blog.hinshelwood.com/archive/2009/10/25/deploying-visual-studio-2010-team-foundation-server-beta-2.aspx), but [twice](http://blog.hinshelwood.com/archive/2010/02/10/upgrading-from-tfs-2010-beta-2-to-tfs-2010-rc.aspx).

    ### Team Foundation Server

    ![Visual Studi2010 ALM](images/GWB-5366-o_vs2010logo2-2-2.png) SSW provides expert Visual Studio ALM guidance including [installation, configuration and customisation](http://www.ssw.com.au/ssw/Company/SourceControl.aspx) through our four Microsoft Visual Studio ALM MVP’s in three countries; Australia, Beijing and the UK. They have experience deploying to small development shops all the way through to large blue chips.
    { .post-img }

    ### Professional Scrum Developer Training

    ![Professional Scrum Developer Training](images/PSD%20Announcement%20Graphic.jpg) SSW has six [Professional Scrum Developer Trainers](http://www.ssw.com.au/ssw/Events/Scrum-Training-Course.aspx) who specialise in training your developers in implementing Scrum with Microsoft's Visual Studio ALM tools.
    { .post-img }

    Technorati Tags: [TFBS](http://technorati.com/tags/TFBS) [ALM](http://technorati.com/tags/ALM) [Silverlight](http://technorati.com/tags/Silverlight) [.NET](http://technorati.com/tags/.NET) [CodeProject](http://technorati.com/tags/CodeProject) [TFS 2010](http://technorati.com/tags/TFS+2010) [SSW](http://technorati.com/tags/SSW) [Scrum](http://technorati.com/tags/Scrum) [VS 2010](http://technorati.com/tags/VS+2010) [SP 2010](http://technorati.com/tags/SP+2010) [TFS](http://technorati.com/tags/TFS) [SharePoint](http://technorati.com/tags/SharePoint)
  FilePath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-03-03-solution-getting-silverlight-to-build-on-team-foundation-build-services-2010\index.md
  FolderPath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-03-03-solution-getting-silverlight-to-build-on-team-foundation-build-services-2010
- FrontMatter:
    title: Upgrading from TFS 2010 Beta 2 to TFS 2010 RC done
    description: Discover the smooth upgrade process from TFS 2010 Beta 2 to RC, ensuring your development team is up and running efficiently. Get expert tips and insights!
    ResourceId: dg9tlise6Bd
    ResourceType: blog
    ResourceContentOrigin: Human
    ResourceImport: true
    ResourceImportId: 70
    ResourceImportSource: Wordpress
    ResourceImportOriginalSource: GeeksWithBlogs
    date: 2010-02-10
    weight: 840
    creator: Martin Hinshelwood
    layout: blog
    resourceTypes: blog
    slug: upgrading-from-tfs-2010-beta-2-to-tfs-2010-rc-done
    aliases:
    - /resources/dg9tlise6Bd
    aliasesArchive:
    - /blog/upgrading-from-tfs-2010-beta-2-to-tfs-2010-rc-done
    - /upgrading-from-tfs-2010-beta-2-to-tfs-2010-rc-done
    - /resources/blog/upgrading-from-tfs-2010-beta-2-to-tfs-2010-rc-done
    tags:
    - Install and Configuration
    - System Configuration
    preview: metro-visual-studio-2010-128-link-3-3.png
    categories:
    - Uncategorized
  BodyContent: |
    Visual Studio Team Foundation Server 2010 RC was released yesterday on MSDN. I am happy to report that today we successfully completed upgrading our production TFS 2010 Beta 2 server, to the new TFS 2010 RC. wow.

    Updated: 11th February 2010– Added link to Brian Harry’s post  
    Updated: 12th February 2010 – Adam Cogan was not clear that there were two problems with snapshoting running servers.

    ---

    The upgrade was smooth, let me tell you the steps:

    note: If you are upgrading from TFS 2008 you can follow our [Rules to better TFS 2010 Migration](http://sharepoint.ssw.com.au/Standards/TFS/RulesToBetterTFS2010Migration/Pages/default.aspx)

    1. **Snapshot the hyper-v server**   
       There are two reasons why you should never do this while the server is running:
       1. It’s Slow - Make sure you turn off your server before you take a snapshot. It took 15 minutes to get to 2% while the server was running, but turning it off had the whole operation completed in under 30 seconds. I think of this as very like the feature of Linux that let you recompile the kernel on the fly to avoid rebooting when adding drivers: Nice to have, but only if you have 10 hours to spare.
       2. It’s Dangerous - Brian Harry has an even better reason why you should [never snapshot a running server](http://blogs.msdn.com/bharry/archive/2010/02/10/a-tfs-2010-upgrade-success-story.aspx).
    2. **Uninstall Visual Studio Team Explorer 2010 Beta 2**   
       You will need to uninstall all of the Visual Studio 2010 Beta 2 client bits that you have on the server. That's a no brainer, but you can remove them early to streamline your installation process
    3. **Uninstall TFS 2010 Beta 2**
    4. **Install TFS 2010 RC**
    5. **Configure TFS 2010 RC**  
       Pick the Upgrade option and point it at your existing “tfs_Configuration” database to load all of the existing settings
    6. **Test the server**

    All of our 52 developers are now up and running on TFS 2010 RC. Well…almost all. A couple of guys reported this problem even though they had previously connected to TFS 2010 Beta 2:

    1.  If you get this error on the VS 2008 client after the upgrade, you should check whether you have KB74558 installed, if not you can [download it manually](http://www.microsoft.com/downloads/details.aspx?displaylang=en&FamilyID=cf13ea45-d17b-4edc-8e6c-6c5b208ec54d) or [run diagnostics](http://www.ssw.com.au/ssw/Diagnostics/Default.aspx) to ensure your entire system is up to date.  
         ![clip_image002](images/UpgradingfromTFS2010Beta2toTFS2010RC_B2CD-clip_image002_-5-5.jpg)  
        { .post-img }
        Figure: Error TF31001 or TF253022, but why is that link not clickable.
        ![clip_image001](images/UpgradingfromTFS2010Beta2toTFS2010RC_B2CD-clip_image001_-4-4.jpg)
        { .post-img }
        Figure:  Check that you have the update so you can connect to TFS 2010 via “Help | About Microsoft Visual Studio”

    I will be ironing out any other kinks tomorrow…

    Next steps includes upgrading our build servers and moving all 52 developers over to Visual Studio 2010.

    We were the [first company on Beta 2 in production](http://blog.hinshelwood.com/archive/2009/10/25/deploying-visual-studio-2010-team-foundation-server-beta-2.aspx) and I believe we are first on RC in production.

    ---

    ## Need Help?

    ![www.SSW.com.au](images/GWB-5366-o_SSWLogo3-1-1.png)
    { .post-img }

    [SSW](http://www.ssw.com.au) was the first company in the world outside of Microsoft to deploy Visual Studio 2010 Team Foundation Server to production, not [once](http://blog.hinshelwood.com/archive/2009/10/25/deploying-visual-studio-2010-team-foundation-server-beta-2.aspx), but [twice](http://blog.hinshelwood.com/archive/2010/02/10/upgrading-from-tfs-2010-beta-2-to-tfs-2010-rc.aspx).

    ### Team Foundation Server

    ![Visual Studi2010 ALM](images/GWB-5366-o_vs2010logo3-2-2.png) SSW provides expert Visual Studio ALM guidance including [installation, configuration and customisation](http://www.ssw.com.au/ssw/Company/SourceControl.aspx) through our four Microsoft Visual Studio ALM MVP’s in three countries; Australia, Beijing and the UK. They have experience deploying to small development shops all the way through to large blue chips.
    { .post-img }

    ### Professional Scrum Developer Training

    ![Professional Scrum Developer Training](images/PSD%20Announcement%20Graphic.jpg) SSW has six [Professional Scrum Developer Trainers](http://www.ssw.com.au/ssw/Events/Scrum-Training-Course.aspx) who specialise in training your developers in implementing Scrum with Microsoft's Visual Studio ALM tools.
    { .post-img }

    Technorati Tags: [ALM](http://technorati.com/tags/ALM) [TFS Admin](http://technorati.com/tags/TFS+Admin) [SSW](http://technorati.com/tags/SSW) [Scrum](http://technorati.com/tags/Scrum) [VS 2010](http://technorati.com/tags/VS+2010) [VS 2008](http://technorati.com/tags/VS+2008) [TFS 2010](http://technorati.com/tags/TFS+2010) [TFS 2008](http://technorati.com/tags/TFS+2008) [SP 2010](http://technorati.com/tags/SP+2010) [TFS](http://technorati.com/tags/TFS) [SharePoint](http://technorati.com/tags/SharePoint)
  FilePath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-02-10-upgrading-from-tfs-2010-beta-2-to-tfs-2010-rc-done\index.md
  FolderPath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-02-10-upgrading-from-tfs-2010-beta-2-to-tfs-2010-rc-done
- FrontMatter:
    title: Why I miss Orange and why Vodafone suck!
    description: Discover why Martin Hinshelwood misses Orange and shares his frustrating experience with Vodafone's customer service. A must-read for mobile users!
    ResourceId: 5uRWOuzPVbV
    ResourceType: blog
    ResourceContentOrigin: Human
    ResourceImport: true
    ResourceImportId: 71
    ResourceImportSource: Wordpress
    ResourceImportOriginalSource: GeeksWithBlogs
    date: 2010-02-08
    weight: 1000
    creator: Martin Hinshelwood
    layout: blog
    resourceTypes: blog
    slug: why-i-miss-orange-and-why-vodafone-suck
    aliases:
    - /resources/5uRWOuzPVbV
    aliasesArchive:
    - /blog/why-i-miss-orange-and-why-vodafone-suck
    - /why-i-miss-orange-and-why-vodafone-suck
    - /why-i-miss-orange-and-why-vodafone-suck-
    - /blog/why-i-miss-orange-and-why-vodafone-suck-
    - /resources/blog/why-i-miss-orange-and-why-vodafone-suck
    tags: []
    categories:
    - Uncategorized
    preview: nakedalm-logo-128-link-2-2.png
  BodyContent: |
    <rant>

    ![logo](images/d7b5cd926c08_137EA-logo_-1-1.gif) I am currently in Sydney Australia attending some training and meeting my boss for the first time. I was having a fantastic time until my wife phoned to let me know that Vodafone had called to say that the bill was over some limit and that they would be cutting my phone off if I did not contact them to confirm. Now, I had done the right thing and told them I would be abroad and where I was going, but I had forgotten to add my wife to the account. Fair enough…
    { .post-img }

    So I called them and spoke to Customer Services to let them know that everything was OK, that I was happy to go over that limit, and add my wife to the account. They guy said that was fine…but next day my phone was not working.

    I got my wife to phone them and they confirmed that they would reconnect the phone and that it would activate at 8am the next morning. It did not!

    That was Vodafone's second chance!

    She then called today and the operator denied that I had given her access to the account, and that it was even possible that she had spoken to customer services the day before. The operator then refused to put her through to a manager and cut her off…

    That was their third chance!

    If I was a pay as you go customer I would have left by now, but with a contract I am locked in for 18 months and my wife for 24 months :( being from Glasgow you can imagine the number of times I have had to edit this post for profanity and content.

    I was a contract customer of Orange for 12 years prior to moving to Vodafone and I have to say that although I had a few small complaints with Orange their service and support is far superior.. I miss you Orange, I would never have left you if you had offered me a HTC HD2!

    If you are thinking of going with Vodafone… stop, think and go somewhere else!

    </rant>

    Technorati Tags: [Fail](http://technorati.com/tags/Fail)
  FilePath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-02-08-why-i-miss-orange-and-why-vodafone-suck\index.md
  FolderPath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-02-08-why-i-miss-orange-and-why-vodafone-suck
- FrontMatter:
    title: 'Solution - IIS SMTP Service 5.5.2 rejected: need fully qualified hostname'
    description: Resolve the IIS SMTP Service 5.5.2 error with our step-by-step guide. Ensure successful email delivery by configuring a fully qualified hostname.
    ResourceId: FnOt4634WJy
    ResourceType: blog
    ResourceContentOrigin: Human
    ResourceImport: true
    ResourceImportId: 72
    ResourceImportSource: Wordpress
    ResourceImportOriginalSource: GeeksWithBlogs
    date: 2010-01-09
    weight: 1000
    creator: Martin Hinshelwood
    layout: blog
    resourceTypes: blog
    slug: solution-iis-smtp-service-5-5-2-rejected-need-fully-qualified-hostname
    aliases:
    - /resources/FnOt4634WJy
    - /resources/blog/solution-iis-smtp-service-5.5.2-rejected-need-fully-qualified-hostname
    aliasesArchive:
    - /blog/solution-iis-smtp-service-5-5-2-rejected-need-fully-qualified-hostname
    - /solution-iis-smtp-service-5-5-2-rejected-need-fully-qualified-hostname
    - /solution---iis-smtp-service-5-5-2-rejected--need-fully-qualified-hostname
    - /blog/solution---iis-smtp-service-5-5-2-rejected--need-fully-qualified-hostname
    - /resources/blog/solution-iis-smtp-service-5-5-2-rejected-need-fully-qualified-hostname
    - /resources/blog/solution-iis-smtp-service-5.5.2-rejected-need-fully-qualified-hostname
    tags:
    - Windows
    - Troubleshooting
    - Install and Configuration
    - System Configuration
    preview: metro-SSWLogo-128-link-5-5.png
    categories:
    - Uncategorized
  BodyContent: |
    We had a small problem today with a new site we were going live with. It was refusing to send emails in 90% of cases. Problems like these are always difficult to identify, but your first step is always to enable logging.

    ```
    #Software: Microsoft Internet Information Services 7.0
    #Version: 1.0
    #Date: 2010-01-09 18:49:30
    #Fields: c-ip cs-username s-sitename s-computername s-ip s-port cs-method cs-uri-query sc-win32-status cs-bytes cs-version cs(User-Agent) cs(Referer)
    127.0.0.1 MYHOST-MYSERVER SMTPSVC1 MYHOST-MYSERVER 127.0.0.1 0 EHLO +ServerName 0 18 SMTP - -
    127.0.0.1 MYHOST-MYSERVER SMTPSVC1 MYHOST-MYSERVER 127.0.0.1 0 MAIL +FROM:enquiries@company.com 0 47 SMTP - -
    127.0.0.1 MYHOST-MYSERVER SMTPSVC1 MYHOST-MYSERVER 127.0.0.1 0 RCPT +TO:&lt;martin@hinshelwood.com&gt; 0 32 SMTP - -
    127.0.0.1 MYHOST-MYSERVER SMTPSVC1 MYHOST-MYSERVER 127.0.0.1 0 DATA &lt;MYHOST-MYSERVERVoMDrx0000015e@MYHOST-MYSERVER&gt; 0 2560 SMTP - -
    216.146.33.4 OutboundConnectionResponse SMTPSVC1 MYHOST-MYSERVER - 25 - 220+mx1.mailhop.org+ESMTP+MailHop+by+DynDNS.com 0 0 SMTP - -
    216.146.33.4 OutboundConnectionCommand SMTPSVC1 MYHOST-MYSERVER - 25 EHLO MYHOST-MYSERVER 0 0 SMTP - -
    216.146.33.4 OutboundConnectionResponse SMTPSVC1 MYHOST-MYSERVER - 25 - 250-mx1.mailhop.org 0 0 SMTP - -
    216.146.33.4 OutboundConnectionCommand SMTPSVC1 MYHOST-MYSERVER - 25 MAIL FROM:&lt;enquiries@company.com&gt;+SIZE=2884 0 0 SMTP - -
    216.146.33.4 OutboundConnectionResponse SMTPSVC1 MYHOST-MYSERVER - 25 - 250+2.1.0+Ok 0 0 SMTP - -
    216.146.33.4 OutboundConnectionCommand SMTPSVC1 MYHOST-MYSERVER - 25 RCPT TO:&lt;martin@hinshelwood.com&gt; 0 0 SMTP - -
    216.146.33.4 OutboundConnectionResponse SMTPSVC1 MYHOST-MYSERVER - 25 - 504+5.5.2+&lt;MYHOST-MYSERVER&gt;:+Helo+command+rejected:+need+fully-qualified+hostname 0 0 SMTP - -
    216.146.33.4 OutboundConnectionCommand SMTPSVC1 MYHOST-MYSERVER - 25 RSET - 0 0 SMTP - -
    216.146.33.3 OutboundConnectionResponse SMTPSVC1 MYHOST-MYSERVER - 25 - 220+mx1.mailhop.org+ESMTP+MailHop+by+DynDNS.com 0 0 SMTP - -
    216.146.33.3 OutboundConnectionCommand SMTPSVC1 MYHOST-MYSERVER - 25 EHLO MYHOST-MYSERVER 0 0 SMTP - -
    216.146.33.3 OutboundConnectionResponse SMTPSVC1 MYHOST-MYSERVER - 25 - 250-mx1.mailhop.org 0 0 SMTP - -
    216.146.33.3 OutboundConnectionCommand SMTPSVC1 MYHOST-MYSERVER - 25 MAIL FROM:&lt;enquiries@company.com&gt;+SIZE=2884 0 0 SMTP - -
    216.146.33.3 OutboundConnectionResponse SMTPSVC1 MYHOST-MYSERVER - 25 - 250+2.1.0+Ok 0 0 SMTP - -
    216.146.33.3 OutboundConnectionCommand SMTPSVC1 MYHOST-MYSERVER - 25 RSET - 0 0 SMTP - -
    216.146.33.3 OutboundConnectionResponse SMTPSVC1 MYHOST-MYSERVER - 25 - 250+2.0.0+Ok 0 0 SMTP - -
    216.146.33.3 OutboundConnectionCommand SMTPSVC1 MYHOST-MYSERVER - 25 QUIT - 0 0 SMTP - -
    216.146.33.3 OutboundConnectionResponse SMTPSVC1 MYHOST-MYSERVER - 25 - 221+2.0.0+Bye 0 0 SMTP - -
    ```

    Figure: The log shows the source of the problem.

    “5.5.2 rejected: need fully qualified hostname” tends to be destination server specific and relates to the server name that the mail is sent **from** which is different from the email from name. Most mail servers will reject mail from a name that they cannot lookup in DNS as an anti-spam measure.

    To fix:

    1. I opened “**Internet Information Services (IIS) 6.0 Manager**” on the server.  
        ![clip_image001](images/a0127b4e14f2_116A4-clip_image001_3-1-1.jpg)
       { .post-img }
    2. Expanded and then right click on “**\[SMTP Virtual Server #1\]**” and select “**Properties**”  
        ![image](images/a0127b4e14f2_116A4-image_6-4-4.png) 
       { .post-img }
    3. Select the “**Delivery**” Tab and then “**Advanced**”  
        ![clip_image003](images/a0127b4e14f2_116A4-clip_image003_3-2-2.jpg)
       { .post-img }
    4. Enter “**_company.com_**” in the “**fully-qualified domain name**” field.  
        ![image](images/a0127b4e14f2_116A4-image_5-3-3.png) 
       { .post-img }
    5. Click “ok” and then “ok” to save the changes

    You should now be able to send emails from your site without any problems.

    Technorati Tags: [.NET](http://technorati.com/tags/.NET) [Windows](http://technorati.com/tags/Windows)
  FilePath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-01-09-solution-iis-smtp-service-5-5-2-rejected-need-fully-qualified-hostname\index.md
  FolderPath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-01-09-solution-iis-smtp-service-5-5-2-rejected-need-fully-qualified-hostname
- FrontMatter:
    title: Solution - SEO permanent redirects for old URL’s?
    description: Learn how to maintain your SEO rankings with permanent redirects for old URLs. Discover effective strategies to map old links to new ones seamlessly.
    ResourceId: 2x0w1Oay2UF
    ResourceType: blog
    ResourceContentOrigin: Human
    ResourceImport: true
    ResourceImportId: 73
    ResourceImportSource: Wordpress
    ResourceImportOriginalSource: GeeksWithBlogs
    date: 2010-01-04
    weight: 840
    creator: Martin Hinshelwood
    layout: blog
    resourceTypes: blog
    slug: solution-seo-permanent-redirects-for-old-urls
    aliases:
    - /resources/2x0w1Oay2UF
    - /resources/blog/solution-seo-permanent-redirects-for-old-url-s
    aliasesArchive:
    - /blog/solution-seo-permanent-redirects-for-old-urls
    - /solution-seo-permanent-redirects-for-old-urls
    - /solution---seo-permanent-redirects-for-old-url’s-
    - /blog/solution---seo-permanent-redirects-for-old-url’s-
    - /resources/blog/solution-seo-permanent-redirects-for-old-urls
    - /resources/blog/solution-seo-permanent-redirects-for-old-url-s
    tags:
    - Software Development
    - Install and Configuration
    - Pragmatic Thinking
    - Troubleshooting
    - Technical Mastery
    categories:
    - Uncategorized
    preview: metro-sharepoint-128-link-1-1.png
  BodyContent: |
    From time to time, your website structure may change. When this happens, you do not want to have to start from scratch with your Google rankings, so you need to map all of your Old URLs to new ones.

    This may seem like a trivial thing, but it is essential to keep your current rankings, that you worked hard for, intact.

    In our scenario the old site used a query string with the product ID in it, and the new site uses nice friendly names.

    Old: [http://northwind.com/Product/ProductInfo.aspx?id=3456](http://northwind.com/Product/ProductInfo.aspx?id=3456)

    New: [http://northwind.com/CoolLightsaberWithRealAction.aspx](http://northwind.com/CoolLightsaberWithRealAction.aspx)

    Updated #1 January 5th, 2010: \- As suggested by [Adam Cogan](http://sharepoint.ssw.com.au/AboutUs/Employees/Pages/Adam.aspx), I changed:

    - Change Figures to SSW standard with “Good example, ….”, “OK example, ….” And “Bad example, ….“
    - Prefix main headings with “Option #x” to make them stand out
    - Prefix process steps with “Step #x” to differentiate them.
    - Remove tiny URL’s so the reader knows where they are going
    - Spell check (i.e. run through Word)
    - Link to rules for better regex
    - Change “outtakes” to “TODO:”’s
    - End on an impact line (“In conclusion I …..”)
    - Change Title to  “Solution - SEO permanent redirects for old URL’s?”

    Updated #2 January 6th, 2010: –As suggested by [John Liu](http://sharepoint.ssw.com.au/AboutUs/Employees/Pages/John.aspx), I changed the SQL call to be completely wrapped in a “try catch” statement and to close the connection in the “Finally” area. Dam, I thought no one at SSW could read VB.

    Updated #3 January 7th, 2010: \- As suggested by [Peter Gfader](http://sharepoint.ssw.com.au/AboutUs/Employees/Pages/Peter.aspx), I changed the source to use a parameterised SQL statement instead of a Stored Procedure. He pointed out that “[Stored procedures are bad, m'kay?](http://weblogs.asp.net/fbouma/archive/2003/11/18/38178.aspx "Stored procedures are bad, m'kay?")”

    Updated #4 January 8th, 2010: – Updated to reflect latest code changes to increase flexibility of the rule.

    ---

    ## Option #1 - You can do it in product.aspx

    ```
    // …
    // Lookup database here and find the friendly name for the product with the ID 3456
    // …
    Response.Status = "301 Moved Permanently"
    Response.StatusCode = 301;
    Response.AddHeader("Location","/CoolLightsaberWithRealAction.aspx");
    Response.End();
    ```

    Figure: Bad example, Write it right into the old page.

    Why is this not a good approach?

    - The old page may not exist, you may be building a whole new version of the site
    - It is slow. You have to wait for the page to load, which probably means your master page, and all the code which goes with that.
    - It leaves old pages dotted about your site that you do not really want.

    ## Option #2 - You can do it in the global.asax

    ```
    protected void Application_BeginRequest(object sender, EventArgs e)
    {

        if (Request.FilePath.Contains("/product.aspx?id=")
        {
            // ...
            // Lookup the ID in the database to get the new friendly name
            // ...
            Response.Status="301 Moved Permanently"
            Response.StatusCode=301;
            Response.Redirect ("/CoolLightsaberWithRealAction.aspx", true);
        }
    }
    ```

    Figure: Bad example, ASP.NET 2.0 solution in the global.asax file for redirects

    ```
    protected void Application_BeginRequest(object sender, EventArgs e)
    {

        if (Request.FilePath.Contains("/product.aspx?id=")
        {
            // ...
            // Lookup the ID in the database to get the new friendly name
            // ...
            Response.RedirectPermanent("/CoolLightsaberWithRealAction.aspx", true);
        }
    }
    ```

    Figure: Bad example, ASP.NET 4.0 solution in the global.asax file for redirects, less code.

    Using the global.asax has its draw backs.

    - To change it you must make a code change to your site and re-deploy
    - If you have multiple redirects it is going to get ugly fast.

    ## Option #3 - You can do it with the IIS7 URL Rewrite Module

    Using the IIS7 URL Rewrite Module which can be installed using the [Microsoft Web Platform Installer](http://www.microsoft.com/web/downloads/platform.aspx) is the best option, but unfortunately it does [not currently support](http://blog.hinshelwood.com/archive/2009/12/28/do-you-know-how-to-permanently-redirect-old-incoming-urlrsquos.aspx) looking up a database.

    If you have identifiable patterns in the rewrites that you want to perform then this is fantastic. So if you have all of the information that you need in the URL to do the rewrite, then you can stop reading and go an install it.

    With the IIS7 URL Rewrite Module you can

    - Rewrite and redirect URLs
    - Handles requests before ASP.NET is aware of (good performance)
    - Solves both problems: redirecting broken pages and creating nice URLs
    - **Various rule actions**. Instead of rewriting a URL, a rule may perform other actions, such as issue an HTTP redirect, abort the request, or send a custom status code to HTTP client.
    - Nice graphical rule editor
    - Regex pattern matching for requests and rewrites
    - URL rewrite module v2 adds support for outbound response rewriting
    - Fix up the content of any HTTP response by using regular expression pattern matching (e.g. modify links in outgoing response)

    As it turns out, we found out yesterday that the next version of the IIS7 URL Rewriting Module IS going to support loading from a database! Wither that is just loading the rules, or you can load some of the data you need has yet to be seen. But as we can’t get even a beta for a couple of weeks, and our release date is in that region we could not wait.

    ## Option #4 - You can do it with UrlRewritingNet.UrlRewriter

    Using the [UrlRewritingNet.UrlRewriter](http://www.urlrewriting.net) component you can do pretty much everything that the IIS7 Rewrite Module does, but it does not have a nice UI to interact with. The best part of UrlRewritingNet.UrlRewriter is that its rules engine is extensible, so we can add a new rule type to load from a database.

    The first thing you do with any new toolkit is read the documentation, or at least have it open and pretend to read it while you tinker.

    ### Step #1 - Add UrlRewritingNet.UrlRewriter to our site

    To add UrlRewritingNet.UrlRewriter to our site you need to add UrlRewritingNet.UrlRewriter.dll (you can download this from their site) to the Bin folder and make a couple of modifications to the web.config. I have opted to add the UrlRewritingNet.UrlRewriter section of the config to a separate file as this makes it more maintainable.

    ```
    <?xml version="1.0"?>
    <urlrewritingnet xmlns="http://www.urlrewriting.net/schemas/config/2006/07">
      <providers>
        <!-- providers go here -->
      </providers>
      <rewrites>
          <!-- rules go here -->
      </rewrites>
    </urlrewritingnet>
    ```

    Figure: Boilerplate URLRewriting config.

    Create a new blank file called "urlrewriting.config" and insert the code above. As you can see you can add numerous providers and rules. Lookup the documentation for the built in rules model that uses the same method we will be using to capture URL's, but has a regular expression based replace implementation that lets you reform any URL into any other URL, provided all the values you need are either static, or included in the incoming URL.

    ```
    <configSections>
      ...
      <section name="urlrewritingnet"
          restartOnExternalChanges="true"
          requirePermission="false"
          type="UrlRewritingNet.Configuration.UrlRewriteSection, UrlRewritingNet.UrlRewriter"       />
    </configSections>
    ```

    Figure: ASP.NET Section definition for URLRewriting.

    In your "web.config" add this section.

    ```
    <urlrewritingnet configSource="UrlRewrite.config" />
    ```

    Figure: You can use an external file or inline.

    After the sections definition, but NOT inside any other section, add the section implementation, but use the "configSource" tag to map it to the "urlrewriting.config" file you created previously. You could also just add the contents of "urlrewriting.config" under "urlrewritingnet" element and remove the need for the additional file, but I think this is neater.

    ```
    <system.web>
      <httpModules>
        <add name="UrlRewriteModule"
          type="UrlRewritingNet.Web.UrlRewriteModule, UrlRewritingNet.UrlRewriter" />
      </httpModules>
    </system.web>
    ```

    Figure: HttpModules make it all work in IIS6.

    We need IIS to know that it needs to do some processing, but there are some key differences between IIS6 and IIS7, to make sure that both load your rewrite correctly, especially if you still have developers on Windows XP, you will need to add both of them. Add this one to the "HttpModules" element, before any other rewriting modules, it tells IIS6 that it needs to load the module.

    ```
    <system.webServer>
      <modules>
        <add name="UrlRewriteModule"
          type="UrlRewritingNet.Web.UrlRewriteModule, UrlRewritingNet.UrlRewriter" />
      </modules>
    </system.webServer>
    ```

    Figure: Modules make it all work in IIS7.

    II7 does things a little differently, so add the above to the "modules" element of "system.webServer". This does exactly the same thing, but slots it into the IIS7 pipeline.

    You should now be able to add rules as specified in the documentation and have them run successfully, provided you have your regular expression  is correct :), but for this process we need to write our custom rule.

    ### Step #2 - Creating a blank custom rule

    For some reason I have not yet fathomed, you need to create a “Provider” as well. It just has boilerplate code, but I would assume that there are circumstances when it would be useful to have some code in there.

    ```
    Imports UrlRewritingNet.Configuration.Provider

    Public Class SqlUrlRewritingProvider
        Inherits UrlRewritingProvider

        Public Overrides Function CreateRewriteRule() As UrlRewritingNet.Web.RewriteRule
            Return New SqlRewriteRule
        End Function

    End Class
    ```

    Figure: Simple code for the provider.

    All you need to do in the Provider is override the “CreateRewriteRule” and pass back an instance of your custom rule.

    ```
    Imports UrlRewritingNet.Web
    Imports UrlRewritingNet.Configuration
    Imports System.Configuration

    Public Class SqlRewriteRule
        Inherits RewriteRule

        Public Overrides Sub Initialize(ByVal rewriteSettings As RewriteSettings)
            MyBase.Initialize(rewriteSettings)
        End Sub

        Public Overrides Function IsRewrite(ByVal requestUrl As String) As Boolean
            Return false
        End Function

        Public Overrides Function RewriteUrl(ByVal url As String) As String
            Return url
        End Function

    End Class
    ```

    Figure: Boilerplate Rule.

    This is a skeleton of a new rule. It does nothing now, and in fact will not run as long as the “IsRewrite” function returns false.

    The “Initialize” method passes any setting that are set on the rule entry in the config file. As we want to create a dynamic and reusable rule, we will be using a lot of settings. The settings are written as Attributes in the XML, but are in effect name value pairs.

    The “IsRewrite” will determine wither we want to run the logic behind the rule. I would not advice any performance intensive calls here (like calling the database), so you should find a quick and easy way of determining if we want to proceed to rewrite the URL. The best way of doing this will be via a regular expression.

    “RewiteUrl” provides the actual logic to do the rewrite. We will be calling the database here so this is more intensive work.

    ### Step #3 - Capture the URL you want to rewrite

    Let’s first consider the capturing of the URL so we can do the IsRewrite. To provide our regular expression we will need to options, the first being our pattern, the second being the Regular expression options. We add the options so we can have both Case sensitive and insensitive settings. The standard field name for regular expressions that match is “VirtualUrl” we will just call the other “RegexOptions”.

    ```
    Imports UrlRewritingNet.Web
    Imports UrlRewritingNet.Configuration
    Imports System.Data.SqlClient
    Imports System.Text.RegularExpressions
    Imports System.Configuration

    Public Class SqlRewriteRule
        Inherits RewriteRule

        Private m_regexOptions As Text.RegularExpressions.RegexOptions
        Private m_virtualUrl As String = String.Empty

        Public Overrides Sub Initialize(ByVal rewriteSettings As RewriteSettings)
            Me.m_regexOptions = rewriteSettings.GetEnumAttribute(Of RegexOptions)("regexOptions", RegexOptions.None)
            Me.m_virtualUrl = rewriteSettings.GetAttribute("virtualUrl", "")
            MyBase.Initialize(rewriteSettings)
        End Sub

        Public Overrides Function IsRewrite(ByVal requestUrl As String) As Boolean
            Return true
        End Function

        Public Overrides Function RewriteUrl(ByVal url As String) As String
            Return url
        End Function


    End Class
    ```

    Figure: Retrieving values from the config is easy.

    In order to capture these values we just add two fields to our class, and parse out the data from “rewriteSettings” for these two fields in the Initialize method.

    ```
    Imports UrlRewritingNet.Web
    Imports UrlRewritingNet.Configuration
    Imports System.Text.RegularExpressions
    Imports System.Configuration

    Public Class ProductKeyRewriteRule
        Inherits RewriteRule

        Private m_regex As Text.RegularExpressions.Regex
        Private m_regexOptions As Text.RegularExpressions.RegexOptions
        Private m_virtualUrl As String = String.Empty

        ' Methods
        Private Sub CreateRegEx()
            Dim helper As New UrlHelper
            If MyBase.IgnoreCase Then
                Me.m_regex = New Regex(helper.HandleRootOperator(Me.m_virtualUrl), ((RegexOptions.Compiled Or RegexOptions.IgnoreCase) Or Me.m_regexOptions))
            Else
                Me.m_regex = New Regex(helper.HandleRootOperator(Me.m_virtualUrl), (RegexOptions.Compiled Or Me.m_regexOptions))
            End If
        End Sub

        Public Overrides Sub Initialize(ByVal rewriteSettings As RewriteSettings)
            Me.m_regexOptions = rewriteSettings.GetEnumAttribute(Of RegexOptions)("regexOptions", RegexOptions.None)
            Me.m_virtualUrl = rewriteSettings.GetAttribute("virtualUrl", "")
            CreateRegEx
            MyBase.Initialize(rewriteSettings)
        End Sub

        Public Overrides Function IsRewrite(ByVal requestUrl As String) As Boolean
            Return Me.m_regex.IsMatch(requestUrl)
        End Function

        Public Overrides Function RewriteUrl(ByVal url As String) As String
            Return url
        End Function


    End Class
    ```

    Figure: Creating an instance of a regular expression and using that is always faster than creating one each time.

    We now have all of the information we need to create a regular expression and call "IsMatch" in the "IsRewrite" method. Therefore, we add another field for the regular expression and add a “CreateRegEx” method to create our regular expression using the built in “Ignorecase” option as well as our “RegexOptions” value. This creates a single compiled copy of our regular expression so it will operate as quickly as possible. Remember that this code will now be called for EVERY incoming URL request.

    ### Step #4 - Rewrite the URL with data from the database

    Now that we have captured the URL, we need to rewrite it. in order to do this we will need some extra fields, and this is were things get a little complicated because we want to be generic. We will need:

    - a connection string so we know where to load the data from
    - a SQL Statement
    - some input parameters for our SQL
    - some output data
    - a destination URL to inject our output into
    - a place to redirect users to if all else fails

    The connection string is easy, or is it.

    ```
    ' Test for connectionString and throw exception if not available
    m_ConnectionString = rewriteSettings.GetAttribute("connectionString", String.Empty)
    If m_ConnectionString = String.Empty Then
        Throw New NotSupportedException(String.Format("You must specify a connectionString attribute for the DataRewriteRule {0}", rewriteSettings.Name))
    End If
    ' Check to see if this is a named connection string
    Dim NamedConnectionString As ConnectionStringSettings = ConfigurationManager.ConnectionStrings(m_ConnectionString)
    If Not NamedConnectionString Is Nothing Then
        m_ConnectionString = NamedConnectionString.ConnectionString
    End If
    ```

    Figure: Make sure that you check wither values are correct.

    There are two ways for a connection string to be stored in ASP.NET, inline and shared. We don’t want to be fixed to a specific type, so we need to assume shared and if we can’t find a shared string, assume that the string provided in the connection string and not a key for the shared string.

    The stored procedure is just a string, but the input parameters, now that is a quandary. Where can we get them from and now can we configure them. Although it would probably be best if we could have sub elements to the rule definition in the “web.config” we can’t, so all we have is a set of name value pairs.

    ```
    ^.*/Product/ProductInfo.aspx?id=(?'ProductId'd+)
    ```

    Figure: Follow the rule: [Do you test your regular expressions?](http://www.ssw.com.au/ssw/standards/Rules/RulesToBetterRegularExpressions.aspx#testregex)

    The solution I went for was to use Named groups in the regular expression. The only input parameter with this expression would be “@ProductId” and should be populated by the data in the capture group for the regular expression.

    ```
    ' Get all the named groups from the regular expression and use them as the stored procedure parameters.
    Dim groupNames = From groupName In m_regex.GetGroupNames Where Not groupName = String.Empty And Not IsNumeric(groupName)
    ' Iterate through the named groups
    For Each groupName As String In groupNames
       ' Add the name and value to the saved replacements
       UrlReplacements.Add(groupName, match.Groups(groupName).ToString)
       ' Add the name and value as input prameters to the stored procedure
       cmd.Parameters.AddWithValue("@" & groupName, match.Groups(groupName).ToString)
    Next
    ```

    Figure: Retrieving the named groups is easier than you think, but remember that it also contains the unnamed groups as a number.

    So for each of the group names found in the regular expression I will be adding a SqlParameter to the SqlCommand object with the value that is returned. Again, a better solution would be to have meta data along with this that would identify the input parameters as well as data types and where to get them from, but alas it is not possible in this context.

    All this allows you to call a parameterised SQL statement and get some data back that you can use in the “RewriteUrl” method. I created a “GetUrlReplacements” method to encapsulate this logic.

    ```
    Private Function GetUrlReplacements(ByVal match As Match) As Dictionary(Of String, String)
        Dim UrlReplacements As New Dictionary(Of String, String)
        Dim paramString As String = String.Empty
        ' Call database
        Using conn As New SqlConnection(m_ConnectionString)
            Try
                conn.Open()
                Dim cmd As New SqlCommand(m_parameterisedSql, conn)
                cmd.CommandType = CommandType.Text
                ' Get all the named groups from the regular expression and use them as the stored procedure parameters.
                Dim groupNames = From groupName In m_regex.GetGroupNames Where Not groupName = String.Empty And Not IsNumeric(groupName)
                ' Iterate through the named groups
                For Each groupName As String In groupNames
                    ' Add the name and value as input prameters to the stored procedure
                    cmd.Parameters.AddWithValue("@" & groupName, match.Groups(groupName).ToString)
                    paramString = paramString & "[@" & groupName & "=" & match.Groups(groupName).ToString & "]"
                    If UrlReplacements.ContainsKey(groupName) Then
                        UrlReplacements.Add(groupName, match.Groups(groupName).ToString)
                    Else
                        UrlReplacements(groupName) = match.Groups(groupName).ToString
                    End If
                Next
                ' Defigne the data capture method
                Dim sqlReader As SqlClient.SqlDataReader
                ' Execute the SQL
                sqlReader = cmd.ExecuteReader()
                If sqlReader.HasRows Then
                    Dim isDone As Boolean = False
                    Do While sqlReader.Read()
                        If isDone Then
                            ' If more than one record is returned, exit and record
                            My.Application.Log.WriteEntry(String.Format("Too many results from execution of '{0}' using parameters '{1}' on the connection '{2}'. Make sure your query only returns a single record.", m_parameterisedSql, paramString, m_ConnectionString), TraceEventType.Error, 19786)
                            Exit Do
                        End If
                        ' Add a sql output parameter for each outputParam (note: Must be NVarChar(255))
                        For i As Integer = 0 To sqlReader.FieldCount - 1
                            If UrlReplacements.ContainsKey(sqlReader.GetName(i)) Then
                                UrlReplacements.Add(sqlReader.GetName(i), sqlReader.GetValue(i).ToString)
                            Else
                                UrlReplacements(sqlReader.GetName(i)) = sqlReader.GetValue(i).ToString
                            End If
                        Next
                        isDone = True
                    Loop
                    sqlReader.Close()
                Else
                    My.Application.Log.WriteEntry(String.Format("No results from execution of '{0}' using parameters '{1}' on the connection '{2}'", m_parameterisedSql, paramString, m_ConnectionString), TraceEventType.Error, 19784)
                    UrlReplacements.Clear()
                    UrlReplacements.Add("results", "None")
                End If
            Catch ex As System.Data.SqlClient.SqlException
                My.Application.Log.WriteException(ex, TraceEventType.Error, String.Format("Unable to execute '{0}' using parameters '{1}' on the connection '{2}'", m_parameterisedSql, paramString, m_ConnectionString), 19783)
                UrlReplacements.Clear()
                UrlReplacements.Add("ex", "SqlException")
            Catch ex As Exception
                My.Application.Log.WriteException(ex, TraceEventType.Error, String.Format("Unable to connect using the connection '{0}'", m_ConnectionString), 19782)
                UrlReplacements.Clear()
                UrlReplacements.Add("ex", ex.GetType.ToString)
            End Try
        End Using
        Return UrlReplacements
    End Function
    ```

    Figure: Always encapsulate your more complicated logic, especially database calls.

    The SQL is called and the first, and only the first, returned record is parsed into a name value collection allowing for multiple values to be returned.

    Now that we have the relevant data, we can rewrite the URL.

    ```
    Public Overrides Function RewriteUrl(ByVal url As String) As String
        ' Get the url replacement values
        Dim UrlReplacements As Dictionary(Of String, String) = GetUrlReplacements(Me.m_regex.Match(url))
        ' Take a copy of the target url
        Dim newUrl As String = m_destinationUrl
        ' Replace any valid values with the new value
        For Each key As String In UrlReplacements.Keys
            newUrl = newUrl.Replace("{" & key & "}", UrlReplacements(key))
        Next
        ' Test to see is any failed by looking for any left over '{'
        If newUrl.Contains("{") Then
            ' If there are left over bits, then only do a Tempory redirect to the failed URL
            Me.RedirectMode = RedirectModeOption.Temporary
            My.Application.Log.WriteEntry(String.Format("Unable to locate a product url replacement for {0}", url), TraceEventType.Error, 19781)
            Return (String.Format(m_RedirectToOnFail, Me.Name, "NotFound", UrlReplacementsToQueryString(UrlReplacements)))
        End If
        ' Sucess, so do a perminant redirect to the new url.
        My.Application.Log.WriteEntry(String.Format("Redirecting {0} to {1}", url, newUrl), TraceEventType.Information, 19780)
        Me.RedirectMode = RedirectModeOption.Permanent
        Return newUrl.Replace("^", "")
    End Function
    ```

    Figure: Make sure that there is a backup plan for your rewrites.

    As you can see all we do once we have the replacement values is replace the keys from the “DestinationUrl” value with the new values. One additional test is done to check that we have not miss-configured and left some values out, so check to see if there are any “{“ left and redirect to the  “redirectOnFailed” location if we did. This will be caught if either we did not get any data back, or we just messed up the configuration.

    Lets setup the rule in the config.

    ```
    <?xml version="1.0"?>
    <urlrewritingnet xmlns="http://www.urlrewriting.net/schemas/config/2006/07">
      <providers>
        <add name="SqlUrlRewritingProvider" type="SSW.UrlRewriting.SqlUrlRewritingProvider, SSW.UrlRewriting"/>
      </providers>
      <rewrites>
        <add name="Rule2"
            provider="SqlUrlRewritingProvider"
            connectionString="MyConnectionString"
            virtualUrl="^.*/Product/ProductInfo.aspx?id=(?'ProductId'd+)"
            parameterisedSql="SELECT dbo.CatalogEntry.Code as ProductId, dbo.CatalogItemSeo.Uri as ProductKey FROM  dbo.CatalogEntry INNER JOIN dbo.CatalogItemSeo ON dbo.CatalogEntry.CatalogEntryId = dbo.CatalogItemSeo.CatalogEntryId WHERE Code = @ProductId"
            DestinationUrl="^~/{ProductKey}"
            rewriteUrlParameter="IncludeQueryStringForRewrite"
            redirectToOnFail="~/default.aspx?rewrite=productNotFound"
            redirectMode="Permanent"
            redirect="Application"
            rewrite="Application"
            ignoreCase="true" />
      </rewrites>
    </urlrewritingnet>
    ```

    Figure: You can configure as many rules as you like.

    The final config entry for the rule looks complicated, but it should all make sense to you now that all the logic has been explained. There are some additional propertied here that are part of the Rewriting engine, but you will find them all in the documentation.

    In conclusion, hopefully the IIS7 module will support a more elegant solution in its next iteration, and you can always just hard code an HttpModule. This however is the beginnings of a more dynamic solution that can be used over and over again, even in the one site.

    For those of you that can’t be bothered to piece this all together, here is the full rule source, but Don’t forget to skip to the bottom for the TODO.

    ```
    Imports UrlRewritingNet.Web
    Imports UrlRewritingNet.Configuration
    Imports System.Data.SqlClient
    Imports System.Text.RegularExpressions
    Imports System.Configuration

    Public Class SqlRewriteRule
        Inherits RewriteRule

        Private m_ConnectionString As String
        Private m_parameterisedSql As String
        Private m_destinationUrl As String = String.Empty
        Private m_regex As Text.RegularExpressions.Regex
        Private m_regexOptions As Text.RegularExpressions.RegexOptions
        Private m_virtualUrl As String = String.Empty
        Private m_RedirectToOnFail As String

        ' Methods
        Private Sub CreateRegEx()
            Dim helper As New UrlHelper
            If MyBase.IgnoreCase Then
                Me.m_regex = New Regex(helper.HandleRootOperator(Me.m_virtualUrl), ((RegexOptions.Compiled Or RegexOptions.IgnoreCase) Or Me.m_regexOptions))
            Else
                Me.m_regex = New Regex(helper.HandleRootOperator(Me.m_virtualUrl), (RegexOptions.Compiled Or Me.m_regexOptions))
            End If
        End Sub

        Public Overrides Sub Initialize(ByVal rewriteSettings As RewriteSettings)
            Me.m_regexOptions = rewriteSettings.GetEnumAttribute(Of RegexOptions)("regexOptions", RegexOptions.None)
            Me.m_virtualUrl = rewriteSettings.GetAttribute("virtualUrl", "")
            Me.m_destinationUrl = rewriteSettings.GetAttribute("destinationUrl", "")
            Me.CreateRegEx()
            ' Test for connectionString and throw exception if not available
            m_ConnectionString = rewriteSettings.GetAttribute("connectionString", String.Empty)
            If m_ConnectionString = String.Empty Then
                Throw New NotSupportedException(String.Format("You must specify a connectionString attribute for the DataRewriteRule {0}", rewriteSettings.Name))
            End If
            ' Check to see if this is a named connection string
            Dim NamedConnectionString As ConnectionStringSettings = ConfigurationManager.ConnectionStrings(m_ConnectionString)
            If Not NamedConnectionString Is Nothing Then
                m_ConnectionString = NamedConnectionString.ConnectionString
            End If
            ' Test for storedProcedure and throw exception if not available
            m_parameterisedSql = rewriteSettings.GetAttribute("parameterisedSql", String.Empty)
            If m_parameterisedSql = String.Empty Then
                Throw New NotSupportedException(String.Format("You must specify a parameterisedSql attribute for the DataRewriteRule {0}", rewriteSettings.Name))
            End If

            ' Test for redirectToOnFail and throw exception if not available
            m_RedirectToOnFail = rewriteSettings.GetAttribute("redirectToOnFail", String.Empty)
            If m_RedirectToOnFail = String.Empty Then
                Throw New NotSupportedException(String.Format("You must specify a redirectToOnFail attribute for the DataRewriteRule {0}", rewriteSettings.Name))
            End If
            MyBase.Initialize(rewriteSettings)
        End Sub

        Public Overrides Function IsRewrite(ByVal requestUrl As String) As Boolean
            Return Me.m_regex.IsMatch(requestUrl)
        End Function

        Public Overrides Function RewriteUrl(ByVal url As String) As String
            ' Get the url replacement values
            Dim UrlReplacements As Dictionary(Of String, String) = GetUrlReplacements(Me.m_regex.Match(url))
            ' Take a copy of the target url
            Dim newUrl As String = m_destinationUrl
            ' Replace any valid values with the new value
            For Each key As String In UrlReplacements.Keys
                newUrl = newUrl.Replace("{" & key & "}", UrlReplacements(key))
            Next
            ' Test to see is any failed by looking for any left over '{'
            If newUrl.Contains("{") Then
                ' If there are left over bits, then only do a Tempory redirect to the failed URL
                Me.RedirectMode = RedirectModeOption.Temporary
                My.Application.Log.WriteEntry(String.Format("Unable to locate a product url replacement for {0}", url), TraceEventType.Error, 19781)
                Return (String.Format(m_RedirectToOnFail, Me.Name, "NotFound", UrlReplacementsToQueryString(UrlReplacements)))
            End If
            ' Sucess, so do a perminant redirect to the new url.
            My.Application.Log.WriteEntry(String.Format("Redirecting {0} to {1}", url, newUrl), TraceEventType.Information, 19780)
            Me.RedirectMode = RedirectModeOption.Permanent
            Return newUrl.Replace("^", "")
        End Function

        Private Function GetUrlReplacements(ByVal match As Match) As Dictionary(Of String, String)
            Dim UrlReplacements As New Dictionary(Of String, String)
            Dim paramString As String = String.Empty
            ' Call database
            Using conn As New SqlConnection(m_ConnectionString)
                Try
                    conn.Open()
                    Dim cmd As New SqlCommand(m_parameterisedSql, conn)
                    cmd.CommandType = CommandType.Text
                    ' Get all the named groups from the regular expression and use them as the stored procedure parameters.
                    Dim groupNames = From groupName In m_regex.GetGroupNames Where Not groupName = String.Empty And Not IsNumeric(groupName)
                    ' Iterate through the named groups
                    For Each groupName As String In groupNames
                        ' Add the name and value as input prameters to the stored procedure
                        cmd.Parameters.AddWithValue("@" & groupName, match.Groups(groupName).ToString)
                        paramString = paramString & "[@" & groupName & "=" & match.Groups(groupName).ToString & "]"
                        If UrlReplacements.ContainsKey(groupName) Then
                            UrlReplacements.Add(groupName, match.Groups(groupName).ToString)
                        Else
                            UrlReplacements(groupName) = match.Groups(groupName).ToString
                        End If
                    Next
                    ' Defigne the data capture method
                    Dim sqlReader As SqlClient.SqlDataReader
                    ' Execute the SQL
                    sqlReader = cmd.ExecuteReader()
                    If sqlReader.HasRows Then
                        Dim isDone As Boolean = False
                        Do While sqlReader.Read()
                            If isDone Then
                                ' If more than one record is returned, exit and record
                                My.Application.Log.WriteEntry(String.Format("Too many results from execution of '{0}' using parameters '{1}' on the connection '{2}'. Make sure your query only returns a single record.", m_parameterisedSql, paramString, m_ConnectionString), TraceEventType.Error, 19786)
                                Exit Do
                            End If
                            ' Add a sql output parameter for each outputParam (note: Must be NVarChar(255))
                            For i As Integer = 0 To sqlReader.FieldCount - 1
                                If UrlReplacements.ContainsKey(sqlReader.GetName(i)) Then
                                    UrlReplacements.Add(sqlReader.GetName(i), sqlReader.GetValue(i).ToString)
                                Else
                                    UrlReplacements(sqlReader.GetName(i)) = sqlReader.GetValue(i).ToString
                                End If
                            Next
                            isDone = True
                        Loop
                        sqlReader.Close()
                    Else
                        My.Application.Log.WriteEntry(String.Format("No results from execution of '{0}' using parameters '{1}' on the connection '{2}'", m_parameterisedSql, paramString, m_ConnectionString), TraceEventType.Error, 19784)
                        UrlReplacements.Clear()
                        UrlReplacements.Add("results", "None")
                    End If
                Catch ex As System.Data.SqlClient.SqlException
                    My.Application.Log.WriteException(ex, TraceEventType.Error, String.Format("Unable to execute '{0}' using parameters '{1}' on the connection '{2}'", m_parameterisedSql, paramString, m_ConnectionString), 19783)
                    UrlReplacements.Clear()
                    UrlReplacements.Add("ex", "SqlException")
                Catch ex As Exception
                    My.Application.Log.WriteException(ex, TraceEventType.Error, String.Format("Unable to connect using the connection '{0}'", m_ConnectionString), 19782)
                    UrlReplacements.Clear()
                    UrlReplacements.Add("ex", ex.GetType.ToString)
                End Try
            End Using
            Return UrlReplacements
        End Function

        Private Function UrlReplacementsToQueryString(ByVal dic As Dictionary(Of String, String)) As String
            Dim quer As String = String.Empty
            For Each dicEntry In dic
                quer = String.Format("{0}&{1}={2}", quer, dicEntry.Key, dicEntry.Value)
            Next
            Return quer
        End Function

    End Class
    ```

    Figure: Full source listing for the rule.

    \----------

    ## TODO

    What would I change and why…or things that I just did not have time to do.

    ### TODO: Add more configurable parameters

    The lack of meta data will lead to limitations in the future and ultimately the duplication of code. The ideal solution would be something like the ASP.NET SqlDataSource configuration, with a nice UI.

    ```
    <asp:SqlDataSource ID="SqlDataSource1" runat="server"
        CacheExpirationPolicy="Sliding"
        ConnectionString="MyConnectionString"
        EnableCaching="True"
        SelectCommand="ssw_proc_SeoProductIdToProductKey"
        SelectCommandType="StoredProcedure">
        <SelectParameters>
            <asp:RegexParameter DbType="StringFixedLength" DefaultValue="0"
                Name="ProductId" RegexGroupName="ProductId" Size="100" Type="String" />
            <asp:Parameter DbType="StringFixedLength" Direction="Output" Name="ProductKey"
                Size="255" Type="String" />
        </SelectParameters>
    </asp:SqlDataSource>
    ```

    Figure: Good Example, code from the ASP.NET 2.0 SqlDataSource.

    You should be able to configure any set of input and output parameters.

    ### TODO: Retrieve a record and replace based on the columns

    It may make more sense to return a single record and perform the replaces based on the columns that are returned. This may help to reduce complexity while increasing functionality.

    ### TODO: Add caching to improve performance

    Caching is a difficult thing as it depends on the amount of data returned, but it can improve the speed.

    Technorati Tags: [SSW](http://technorati.com/tags/SSW) [.NET](http://technorati.com/tags/.NET) [Software Development](http://technorati.com/tags/Software+Development) [CodeProject](http://technorati.com/tags/CodeProject) [SP 2010](http://technorati.com/tags/SP+2010) [SharePoint](http://technorati.com/tags/SharePoint)
  FilePath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-01-04-solution-seo-permanent-redirects-for-old-urls\index.md
  FolderPath: C:\Users\MartinHinshelwoodNKD\source\repos\NKDAgility.com\site\content\resources\blog\2010\2010-01-04-solution-seo-permanent-redirects-for-old-urls

