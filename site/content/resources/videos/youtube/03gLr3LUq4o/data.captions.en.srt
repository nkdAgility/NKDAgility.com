1
00:00:00,320 --> 00:00:06,160
we are going to take a look at how to do

2
00:00:04,000 --> 00:00:08,719
a migration with the Azure devops

3
00:00:06,160 --> 00:00:10,960
migration tools um I'm going to take a

4
00:00:08,719 --> 00:00:13,639
very straightforward simple migration

5
00:00:10,960 --> 00:00:16,800
and walk you through it um we're also

6
00:00:13,639 --> 00:00:19,480
going to take care of any exceptions or

7
00:00:16,800 --> 00:00:21,199
issues and all those little things uh

8
00:00:19,480 --> 00:00:25,039
that come up at least the common ones

9
00:00:21,199 --> 00:00:27,640
that come up so let me switch to my

10
00:00:25,039 --> 00:00:30,880
desktop there we go uh so first thing

11
00:00:27,640 --> 00:00:32,800
I'm going to do is um install

12
00:00:30,880 --> 00:00:36,280
at the Azure devops tools we need to get

13
00:00:32,800 --> 00:00:40,600
them first um if we go to

14
00:00:36,280 --> 00:00:45,640
GitHub the tool repo uh you'll find just

15
00:00:40,600 --> 00:00:49,960
down on the right hand side you'll find

16
00:00:45,640 --> 00:00:52,359
a little list of all of the releases and

17
00:00:49,960 --> 00:00:55,760
the latest release will be at the top um

18
00:00:52,359 --> 00:00:57,600
so you can use this release here um

19
00:00:55,760 --> 00:00:59,440
whatever the latest one is is the one

20
00:00:57,600 --> 00:01:01,000
you should be using we only support uh

21
00:00:59,440 --> 00:01:03,840
the latest one we have one going through

22
00:01:01,000 --> 00:01:05,360
the pipeline at the moment uh but if you

23
00:01:03,840 --> 00:01:08,479
open up that

24
00:01:05,360 --> 00:01:10,080
release uh if you're in an environment

25
00:01:08,479 --> 00:01:12,799
where you can't you don't really have

26
00:01:10,080 --> 00:01:16,960
internet access you don't have uh any of

27
00:01:12,799 --> 00:01:19,079
those things then you can use uh this

28
00:01:16,960 --> 00:01:23,439
version of the file

29
00:01:19,079 --> 00:01:26,040
here and you just download that and you

30
00:01:23,439 --> 00:01:28,880
will be able to unzip it to any location

31
00:01:26,040 --> 00:01:30,720
any folder and then run uh the migration

32
00:01:28,880 --> 00:01:33,040
from that folder

33
00:01:30,720 --> 00:01:35,200
um so you can you can do that I'm not

34
00:01:33,040 --> 00:01:37,520
going to do that today uh because if you

35
00:01:35,200 --> 00:01:39,560
check out the documentation which if you

36
00:01:37,520 --> 00:01:43,799
scroll down a little bit you will

37
00:01:39,560 --> 00:01:46,880
find a link here to documentation in the

38
00:01:43,799 --> 00:01:49,200
documentation it talks about how you uh

39
00:01:46,880 --> 00:01:50,880
install and configure the tools and

40
00:01:49,200 --> 00:01:52,840
there a little getting started link up

41
00:01:50,880 --> 00:01:56,439
here in the top left um and it talks

42
00:01:52,840 --> 00:01:58,640
about the install now we deploy uh to Wi

43
00:01:56,439 --> 00:02:01,840
get and

44
00:01:58,640 --> 00:02:03,920
chocolatey so so if you are uh on a

45
00:02:01,840 --> 00:02:05,960
Windows Server uh you need to use

46
00:02:03,920 --> 00:02:08,720
chocolatey you can use chocolatey

47
00:02:05,960 --> 00:02:12,319
anywhere in fact uh that you're running

48
00:02:08,720 --> 00:02:14,400
Windows uh but we also have Wing get as

49
00:02:12,319 --> 00:02:20,160
well uh for those of us that are on

50
00:02:14,400 --> 00:02:24,560
Windows 10 or Windows 11 um so let's uh

51
00:02:20,160 --> 00:02:27,160
put this in the other mode I'll switch

52
00:02:24,560 --> 00:02:31,239
over here there we go so what I'm going

53
00:02:27,160 --> 00:02:37,239
to do is I'm going to open uh command

54
00:02:31,239 --> 00:02:40,280
prompt and one thing uh to note is that

55
00:02:37,239 --> 00:02:42,959
you want to use a non-admin command

56
00:02:40,280 --> 00:02:45,519
prompt there's actually a bug in uh

57
00:02:42,959 --> 00:02:48,040
winget uh that if you use an admin

58
00:02:45,519 --> 00:02:52,200
command prompt it doesn't add the app

59
00:02:48,040 --> 00:02:53,360
folder to the path um you don't have to

60
00:02:52,200 --> 00:02:55,000
worry about what that means but they

61
00:02:53,360 --> 00:02:57,760
don't add it to path which means that

62
00:02:55,000 --> 00:03:00,239
you get a missing file so I'm just going

63
00:02:57,760 --> 00:03:04,280
to find the package so if you do Wing

64
00:03:00,239 --> 00:03:07,920
get uh search then I'm going to do um

65
00:03:04,280 --> 00:03:09,200
Azure devops um and pull up the list of

66
00:03:07,920 --> 00:03:11,799
tools that are available for a your

67
00:03:09,200 --> 00:03:15,000
devops and I'm just going to

68
00:03:11,799 --> 00:03:19,879
copy that uh uh ID

69
00:03:15,000 --> 00:03:23,159
there and I'm going to do uh wi get

70
00:03:19,879 --> 00:03:27,920
install that tool and you'll find that

71
00:03:23,159 --> 00:03:30,480
will uh shoot off and go do go do

72
00:03:27,920 --> 00:03:32,280
that it'll take a minute or so it's

73
00:03:30,480 --> 00:03:34,439
going in downloading the package

74
00:03:32,280 --> 00:03:37,159
verifying it and then unpacking it and

75
00:03:34,439 --> 00:03:40,040
setting up uh some stuff but again it is

76
00:03:37,159 --> 00:03:43,319
just a portable uh uh portable setup

77
00:03:40,040 --> 00:03:45,640
while that's running um you can go to uh

78
00:03:43,319 --> 00:03:47,000
do I have the chocolatey Link in here no

79
00:03:45,640 --> 00:03:49,200
I maybe don't have the chocolatey link

80
00:03:47,000 --> 00:03:52,040
anymore cuz we want to use we want to

81
00:03:49,200 --> 00:03:53,439
use the the the new stuff so there we go

82
00:03:52,040 --> 00:03:56,840
starting the install of the package and

83
00:03:53,439 --> 00:04:01,680
it's it's set it up uh so now if I uh

84
00:03:56,840 --> 00:04:01,680
switch to uh see

85
00:04:02,920 --> 00:04:08,480
temp and do di you'll see that I've got

86
00:04:06,640 --> 00:04:10,640
a config file in there I'm actually just

87
00:04:08,480 --> 00:04:14,360
going to overwrite it and create a new

88
00:04:10,640 --> 00:04:20,359
one um by calling the tools so if I go

89
00:04:14,360 --> 00:04:23,240
CLS right so if I want to use the

90
00:04:20,359 --> 00:04:25,080
tools I just call devops migration uh

91
00:04:23,240 --> 00:04:26,400
that will initially show you uh cuz

92
00:04:25,080 --> 00:04:28,199
you've not selected like what do you

93
00:04:26,400 --> 00:04:30,440
want it to do it will say what the

94
00:04:28,199 --> 00:04:32,720
options are and there's in it and

95
00:04:30,440 --> 00:04:35,840
there's execute execute is for executing

96
00:04:32,720 --> 00:04:40,520
a a migration and in it is for creating

97
00:04:35,840 --> 00:04:43,240
config files so if I do init and then

98
00:04:40,520 --> 00:04:47,680
help H you'll see it's got some helpful

99
00:04:43,240 --> 00:04:49,600
options there uh for for what things are

100
00:04:47,680 --> 00:04:53,400
available

101
00:04:49,600 --> 00:04:54,520
um but we're just going to call in it

102
00:04:53,400 --> 00:04:57,800
and it will

103
00:04:54,520 --> 00:05:00,720
create there we go it's updated and

104
00:04:57,800 --> 00:05:03,800
created this config file in C temp so if

105
00:05:00,720 --> 00:05:07,000
I just pop that open and go to Temp

106
00:05:03,800 --> 00:05:09,160
there we go I have that configuration

107
00:05:07,000 --> 00:05:11,759
file here I'm going to open it in visual

108
00:05:09,160 --> 00:05:15,000
studio and there we go I'm all set up

109
00:05:11,759 --> 00:05:18,840
with this is the default out ofth box uh

110
00:05:15,000 --> 00:05:21,280
configuration file um we've got some

111
00:05:18,840 --> 00:05:24,400
changes to the default configuration

112
00:05:21,280 --> 00:05:26,000
file coming down the pipeline just now

113
00:05:24,400 --> 00:05:27,759
they're not quite here yet so there's a

114
00:05:26,000 --> 00:05:30,800
couple of fixies that I have to make so

115
00:05:27,759 --> 00:05:32,720
if you have an older cont file or you've

116
00:05:30,800 --> 00:05:34,720
generated one before uh there's some

117
00:05:32,720 --> 00:05:36,919
fixes that you're going to want to make

118
00:05:34,720 --> 00:05:41,400
uh the first fix is going to be to

119
00:05:36,919 --> 00:05:45,520
remove all of the um field maps here

120
00:05:41,400 --> 00:05:47,639
field maps are great uh for for when you

121
00:05:45,520 --> 00:05:49,560
want to move from one process to another

122
00:05:47,639 --> 00:05:51,160
process uh but they get in the way

123
00:05:49,560 --> 00:05:54,120
especially the default ones do get in

124
00:05:51,160 --> 00:05:57,039
the way uh so we've we've changed that

125
00:05:54,120 --> 00:06:01,479
um so when you create uh although we're

126
00:05:57,039 --> 00:06:01,479
on uh 2.2

127
00:06:01,720 --> 00:06:06,199
three I think if you do

128
00:06:03,440 --> 00:06:08,919
2.2.3 which has already been updated

129
00:06:06,199 --> 00:06:12,479
while the package is being deployed um

130
00:06:08,919 --> 00:06:13,800
then you will uh have these things will

131
00:06:12,479 --> 00:06:17,039
already been removed so you need to

132
00:06:13,800 --> 00:06:19,319
remove that and then down down here uh

133
00:06:17,039 --> 00:06:22,240
there's a skip to final revised work

134
00:06:19,319 --> 00:06:25,199
item type uh that should be false by

135
00:06:22,240 --> 00:06:27,759
default it is currently set to True um

136
00:06:25,199 --> 00:06:29,960
and the other one is these node paths

137
00:06:27,759 --> 00:06:32,840
just get in the way

138
00:06:29,960 --> 00:06:35,720
so you uh best way is just to delete

139
00:06:32,840 --> 00:06:38,560
them and replace it with null and then

140
00:06:35,720 --> 00:06:40,440
they are gone we don't have to worry

141
00:06:38,560 --> 00:06:42,960
about them those are the two things that

142
00:06:40,440 --> 00:06:45,440
you have to that that will be the

143
00:06:42,960 --> 00:06:50,120
default what you see here um will be the

144
00:06:45,440 --> 00:06:51,960
default in by tomorrow by tomorrow let's

145
00:06:50,120 --> 00:06:56,720
see so what we're going to do is we're

146
00:06:51,960 --> 00:06:59,800
going to set up um this for us so we

147
00:06:56,720 --> 00:07:04,160
have a a source project and we have a

148
00:06:59,800 --> 00:07:07,039
Target project okay now the

149
00:07:04,160 --> 00:07:09,199
source project uh we're going to use

150
00:07:07,039 --> 00:07:10,720
prompt to connect to it um and we're

151
00:07:09,199 --> 00:07:15,520
going to connect to an Azure devops

152
00:07:10,720 --> 00:07:17,639
instance in uh preview but uh not this

153
00:07:15,520 --> 00:07:20,199
project that one doesn't exist so I'm

154
00:07:17,639 --> 00:07:24,360
just going to

155
00:07:20,199 --> 00:07:28,039
open that and go to migration Source

156
00:07:24,360 --> 00:07:30,599
this is my uh default uh migration

157
00:07:28,039 --> 00:07:36,599
source project here and something to

158
00:07:30,599 --> 00:07:38,440
note here is that um you will need both

159
00:07:36,599 --> 00:07:43,759
the URL of the

160
00:07:38,440 --> 00:07:46,199
collection and the URL of the project so

161
00:07:43,759 --> 00:07:50,199
this one here is the project and this

162
00:07:46,199 --> 00:07:51,639
here is the collection so if I take I'm

163
00:07:50,199 --> 00:07:53,879
just going to copy the project because I

164
00:07:51,639 --> 00:07:56,280
already have the collection in there and

165
00:07:53,879 --> 00:07:58,840
you'll see here's the collection and I'm

166
00:07:56,280 --> 00:08:01,159
going to update the project now for the

167
00:07:58,840 --> 00:08:03,759
source you don't actually have to worry

168
00:08:01,159 --> 00:08:06,240
about reflected work item ID is not

169
00:08:03,759 --> 00:08:08,319
required for you to update this it can

170
00:08:06,240 --> 00:08:10,879
be anything uh you like it's not going

171
00:08:08,319 --> 00:08:12,560
to use it on here and you can leave this

172
00:08:10,879 --> 00:08:14,720
as prompt because we're only going to

173
00:08:12,560 --> 00:08:17,720
read from the source we never write to

174
00:08:14,720 --> 00:08:19,159
the source we only read from it um so

175
00:08:17,720 --> 00:08:21,560
I'm just going to use prompt there

176
00:08:19,159 --> 00:08:23,479
because it's just easier just now and

177
00:08:21,560 --> 00:08:26,080
then we need a Target project so what

178
00:08:23,479 --> 00:08:28,879
I'm going to do is I'm going to create a

179
00:08:26,080 --> 00:08:31,519
brand new Target project um and I'm

180
00:08:28,879 --> 00:08:34,680
going to call it uh

181
00:08:31,519 --> 00:08:39,120
migration Target three cuz I have lots

182
00:08:34,680 --> 00:08:41,680
of Ingenuity on what to call things um

183
00:08:39,120 --> 00:08:44,240
so I'm going to use the same process so

184
00:08:41,680 --> 00:08:47,200
the source is also this process and I'm

185
00:08:44,240 --> 00:08:48,880
going to create that project here so

186
00:08:47,200 --> 00:08:50,560
while this goes off and creates the the

187
00:08:48,880 --> 00:08:53,080
project this is going to create an empty

188
00:08:50,560 --> 00:08:56,640
project um it is worth noting there we

189
00:08:53,080 --> 00:08:59,200
go uh so this has no work items work

190
00:08:56,640 --> 00:09:02,200
items nothing here uh recently updated

191
00:08:59,200 --> 00:09:03,720
Creed nothing uh recently created

192
00:09:02,200 --> 00:09:09,519
nothing

193
00:09:03,720 --> 00:09:10,720
okay but it does have uh the process

194
00:09:09,519 --> 00:09:12,519
here and if you're looking for the

195
00:09:10,720 --> 00:09:15,000
process I just clicked the project

196
00:09:12,519 --> 00:09:17,279
settings on the bottom left and then uh

197
00:09:15,000 --> 00:09:19,800
once you've got that open uh you will

198
00:09:17,279 --> 00:09:22,360
see the process that's connected to your

199
00:09:19,800 --> 00:09:25,240
project in here and if you click on it

200
00:09:22,360 --> 00:09:27,200
that will go into the definition of the

201
00:09:25,240 --> 00:09:28,640
process so you can take a look even if

202
00:09:27,200 --> 00:09:30,360
you can't edit this you will be able to

203
00:09:28,640 --> 00:09:33,480
read it but you will need to be able to

204
00:09:30,360 --> 00:09:36,920
edit it on the target environment uh for

205
00:09:33,480 --> 00:09:39,600
sure okay uh because every work item

206
00:09:36,920 --> 00:09:42,920
type that's in scope needs a special

207
00:09:39,600 --> 00:09:44,839
field on it so that we can track which

208
00:09:42,920 --> 00:09:46,839
work items we've created and what

209
00:09:44,839 --> 00:09:49,360
they're related to in the source

210
00:09:46,839 --> 00:09:52,160
environment and so for that we actually

211
00:09:49,360 --> 00:09:55,000
add a field uh called reflected work

212
00:09:52,160 --> 00:09:56,519
Item ID so I'm just going to add a new

213
00:09:55,000 --> 00:09:58,120
one just to show you what it would look

214
00:09:56,519 --> 00:10:01,120
like for you so I'm going to create a

215
00:09:58,120 --> 00:10:01,120
new field

216
00:10:02,440 --> 00:10:06,320
ID uh I'm just going to call it

217
00:10:04,360 --> 00:10:07,480
reflected work let's call it three

218
00:10:06,320 --> 00:10:10,240
because I think I already created one

219
00:10:07,480 --> 00:10:13,440
called two reflect work item id 3 it's a

220
00:10:10,240 --> 00:10:15,279
single text line it can go anywhere no

221
00:10:13,440 --> 00:10:16,720
default value and it can go anywhere so

222
00:10:15,279 --> 00:10:19,600
I'm just going to stick it in details

223
00:10:16,720 --> 00:10:22,640
because I don't care okay so there is

224
00:10:19,600 --> 00:10:25,000
added it if you go to edit again and go

225
00:10:22,640 --> 00:10:27,720
to options you'll see what the name of

226
00:10:25,000 --> 00:10:29,519
that field is okay so this is the ref

227
00:10:27,720 --> 00:10:31,680
name rather than the friendly name this

228
00:10:29,519 --> 00:10:34,640
is the friendly name here and then the

229
00:10:31,680 --> 00:10:37,480
under the covers name is the custom uh

230
00:10:34,640 --> 00:10:39,920
do reflected work item ID3 if you've

231
00:10:37,480 --> 00:10:42,120
added or had already got a reflected

232
00:10:39,920 --> 00:10:44,680
work Item ID in your system like I do

233
00:10:42,120 --> 00:10:49,240
going to remove that one which is this

234
00:10:44,680 --> 00:10:51,880
one you can go check in options what the

235
00:10:49,240 --> 00:10:54,519
ref name is and you can see this was

236
00:10:51,880 --> 00:10:56,279
created quite some time ago and as your

237
00:10:54,519 --> 00:10:58,440
devops has changed the way this works

238
00:10:56,279 --> 00:11:00,720
yours will probably say custom if you're

239
00:10:58,440 --> 00:11:02,519
adding it recently um if you've added a

240
00:11:00,720 --> 00:11:05,120
long time ago it will say the name of

241
00:11:02,519 --> 00:11:07,639
the process within which it was added so

242
00:11:05,120 --> 00:11:11,560
that's um nkd scrum so I'm just going to

243
00:11:07,639 --> 00:11:15,680
copy that go back in uh here and now I

244
00:11:11,560 --> 00:11:19,320
can update uh the target element to mkd

245
00:11:15,680 --> 00:11:22,079
scrum that reflected work item id okay

246
00:11:19,320 --> 00:11:25,959
uh the other thing that's worth noting

247
00:11:22,079 --> 00:11:27,959
is that in the Target if you're using uh

248
00:11:25,959 --> 00:11:32,320
uh

249
00:11:27,959 --> 00:11:35,040
azure as your target um you will need to

250
00:11:32,320 --> 00:11:40,200
fill out a personal access token there

251
00:11:35,040 --> 00:11:43,360
are certain capabilities in Ado um that

252
00:11:40,200 --> 00:11:46,320
require us to do some weird patchy

253
00:11:43,360 --> 00:11:49,720
things that require a pat token um so

254
00:11:46,320 --> 00:11:52,360
all you do is on your environment H

255
00:11:49,720 --> 00:11:54,639
click on the little uh person Cog go to

256
00:11:52,360 --> 00:11:56,279
personal access tokens and create a

257
00:11:54,639 --> 00:11:57,720
personal access token you see I created

258
00:11:56,279 --> 00:12:00,600
one earlier so I'm just going to

259
00:11:57,720 --> 00:12:02,600
regenerate that one

260
00:12:00,600 --> 00:12:05,279
and there we go I've got my personal

261
00:12:02,600 --> 00:12:07,760
access token H now you'll notice I have

262
00:12:05,279 --> 00:12:10,040
it set up as full access you can try

263
00:12:07,760 --> 00:12:13,079
other stuff but we tend to use full

264
00:12:10,040 --> 00:12:15,480
access when uh creating these so now all

265
00:12:13,079 --> 00:12:18,240
I need to do is put in my personal

266
00:12:15,480 --> 00:12:20,760
access token in there and if you want to

267
00:12:18,240 --> 00:12:24,040
only use the pat token and not use

268
00:12:20,760 --> 00:12:26,800
prompt um you can

269
00:12:24,040 --> 00:12:28,519
say access token in the authentication

270
00:12:26,800 --> 00:12:29,720
mode and it will just use the token so

271
00:12:28,519 --> 00:12:32,040
we can set that up here so we're going

272
00:12:29,720 --> 00:12:35,680
to use prompt for the source and access

273
00:12:32,040 --> 00:12:38,480
token for the Target um prompt just pops

274
00:12:35,680 --> 00:12:40,279
uh aure active directory authentication

275
00:12:38,480 --> 00:12:42,279
uh and that's that's easy

276
00:12:40,279 --> 00:12:44,920
peasy you don't need to worry about

277
00:12:42,279 --> 00:12:47,000
these language Maps if you have uh you

278
00:12:44,920 --> 00:12:49,920
may need to worry about it in the source

279
00:12:47,000 --> 00:12:54,920
if you're migrating from uh let's say a

280
00:12:49,920 --> 00:12:57,639
German uh installation of uh TFS where

281
00:12:54,920 --> 00:13:00,120
it the database is set up as a German

282
00:12:57,639 --> 00:13:02,800
collation then then uh you'll need to

283
00:13:00,120 --> 00:13:04,480
fill out whatever the German is for area

284
00:13:02,800 --> 00:13:07,199
and whatever the German is for iteration

285
00:13:04,480 --> 00:13:09,600
CU that's uh uh how the system uh stores

286
00:13:07,199 --> 00:13:11,760
it and then that will make sure all the

287
00:13:09,600 --> 00:13:14,639
mappings work uh so you just fill out

288
00:13:11,760 --> 00:13:17,519
your language specific uh uh terminology

289
00:13:14,639 --> 00:13:19,320
in here but 90% of the time you're not

290
00:13:17,519 --> 00:13:20,839
going to need to uh you're not going to

291
00:13:19,320 --> 00:13:24,399
need to do that at

292
00:13:20,839 --> 00:13:27,000
all so then everything else is kind of

293
00:13:24,399 --> 00:13:28,600
uh uh not needed for a simple migration

294
00:13:27,000 --> 00:13:30,639
if you're changing the process or you

295
00:13:28,600 --> 00:13:34,199
want to move data from one field to

296
00:13:30,639 --> 00:13:38,160
another um I've done things like I had a

297
00:13:34,199 --> 00:13:41,800
customer who had uh the version number

298
00:13:38,160 --> 00:13:44,639
as Year Dot number I think it was year

299
00:13:41,800 --> 00:13:46,120
do month in uh their Source system and

300
00:13:44,639 --> 00:13:48,920
in the Target system they wanted two

301
00:13:46,120 --> 00:13:52,000
Fields one with year and one with month

302
00:13:48,920 --> 00:13:54,199
so I just added a field map to Reg X

303
00:13:52,000 --> 00:13:56,920
those out into the individual Fields no

304
00:13:54,199 --> 00:13:59,880
problem at all uh the documentation uh

305
00:13:56,920 --> 00:14:02,079
has a list I jump to the docks

306
00:13:59,880 --> 00:14:05,560
the docs have a list on the left hand

307
00:14:02,079 --> 00:14:08,199
side under under V1 under ref V1 you'll

308
00:14:05,560 --> 00:14:11,079
find a list of field maps here so

309
00:14:08,199 --> 00:14:13,680
there's the regx field map um and all I

310
00:14:11,079 --> 00:14:16,199
did was set up a source field being my

311
00:14:13,680 --> 00:14:19,560
version Target Field my version year

312
00:14:16,199 --> 00:14:22,120
only pattern match the year out and put

313
00:14:19,560 --> 00:14:23,560
it in the new field right that's that's

314
00:14:22,120 --> 00:14:27,720
pretty pretty straightforward so you

315
00:14:23,560 --> 00:14:29,800
would just copy this um obviously change

316
00:14:27,720 --> 00:14:33,399
it to what you need and put it into the

317
00:14:29,800 --> 00:14:35,000
field map okay so it's just a a list of

318
00:14:33,399 --> 00:14:36,560
field maps and the field maps are run in

319
00:14:35,000 --> 00:14:37,959
the order that they're listed there

320
00:14:36,560 --> 00:14:39,240
right so you can control the order a

321
00:14:37,959 --> 00:14:42,920
little

322
00:14:39,240 --> 00:14:47,759
bit if you have links from your work

323
00:14:42,920 --> 00:14:50,680
items to get repos then um you will need

324
00:14:47,759 --> 00:14:53,800
to have those links fixed so that in the

325
00:14:50,680 --> 00:14:57,040
new system um they will match up it's

326
00:14:53,800 --> 00:15:00,040
worth noting that we only fix the work

327
00:14:57,040 --> 00:15:01,920
item connection to the git repo we don't

328
00:15:00,040 --> 00:15:07,160
fix the git repo connection to the work

329
00:15:01,920 --> 00:15:09,519
item so in your git uh commit text uh

330
00:15:07,160 --> 00:15:11,560
you might have IDs for work items that

331
00:15:09,519 --> 00:15:15,040
no longer exist they're not links it's

332
00:15:11,560 --> 00:15:17,480
kind of invalid it's just text but uh um

333
00:15:15,040 --> 00:15:19,759
the link from the work item to the git

334
00:15:17,480 --> 00:15:22,720
commit will be fixed with the tool so if

335
00:15:19,759 --> 00:15:24,920
you've changed the name of the git repo

336
00:15:22,720 --> 00:15:27,880
um you just create a name list of name

337
00:15:24,920 --> 00:15:30,639
value mappings in here similar to the

338
00:15:27,880 --> 00:15:32,920
language map right uh and have the

339
00:15:30,639 --> 00:15:36,440
original git repo and the target git

340
00:15:32,920 --> 00:15:38,720
repo um under here um and only you only

341
00:15:36,440 --> 00:15:40,800
need it if you've changed the name of

342
00:15:38,720 --> 00:15:43,160
your git repo during the migration if

343
00:15:40,800 --> 00:15:44,560
it's the same name on both sides doesn't

344
00:15:43,160 --> 00:15:45,720
matter you don't have to do anything in

345
00:15:44,560 --> 00:15:50,399
there

346
00:15:45,720 --> 00:15:53,519
okay so then uh the main uh body in here

347
00:15:50,399 --> 00:15:55,000
is the processor that's the bit that's

348
00:15:53,519 --> 00:15:55,680
got all the gobbins for actually doing

349
00:15:55,000 --> 00:15:58,279
the

350
00:15:55,680 --> 00:16:00,279
migration and we're actually pretty

351
00:15:58,279 --> 00:16:02,720
close close to being able to run a

352
00:16:00,279 --> 00:16:06,160
migration at the moment so we've set up

353
00:16:02,720 --> 00:16:08,240
the the connection and and then in here

354
00:16:06,160 --> 00:16:11,440
uh we have the the the migration the

355
00:16:08,240 --> 00:16:13,639
important bits are what type of

356
00:16:11,440 --> 00:16:17,120
processor it is and then you've got your

357
00:16:13,639 --> 00:16:19,560
work item query bit here that's one of

358
00:16:17,120 --> 00:16:21,720
the most important uh sections here

359
00:16:19,560 --> 00:16:23,600
we're going to run into a few problems

360
00:16:21,720 --> 00:16:25,839
when we do our migration we're going to

361
00:16:23,600 --> 00:16:27,440
fix them in here uh so I can show you

362
00:16:25,839 --> 00:16:29,480
what that looks like so what I'm going

363
00:16:27,440 --> 00:16:34,160
to do is just show you this uh this

364
00:16:29,480 --> 00:16:36,600
query so in this query here you can see

365
00:16:34,160 --> 00:16:38,600
it excludes certain work item types

366
00:16:36,600 --> 00:16:42,440
these are work item types that we do not

367
00:16:38,600 --> 00:16:44,519
migrate at this point using this tool um

368
00:16:42,440 --> 00:16:47,120
there are things you can do with shared

369
00:16:44,519 --> 00:16:49,279
steps and shared parameters uh but that

370
00:16:47,120 --> 00:16:50,880
is definitely more advanced feedback

371
00:16:49,279 --> 00:16:52,680
requests test plans and test Suites

372
00:16:50,880 --> 00:16:54,319
should never be migrated with the work

373
00:16:52,680 --> 00:16:57,480
item migration processor there's a

374
00:16:54,319 --> 00:17:01,160
separate tool um for for for doing that

375
00:16:57,480 --> 00:17:04,919
stuff so in here uh this is this bit at

376
00:17:01,160 --> 00:17:06,919
the front um and Clos date equals

377
00:17:04,919 --> 00:17:09,640
nothing means that it will only migrate

378
00:17:06,919 --> 00:17:12,000
things that aren't closed uh but I can

379
00:17:09,640 --> 00:17:13,839
just delete that and I will just not

380
00:17:12,000 --> 00:17:15,640
migrate those types of work items

381
00:17:13,839 --> 00:17:18,039
everything else will come across that's

382
00:17:15,640 --> 00:17:19,520
basically everything uh this is great if

383
00:17:18,039 --> 00:17:21,799
you have a really big migration if

384
00:17:19,520 --> 00:17:23,160
you've got more than 10,000 Things uh

385
00:17:21,799 --> 00:17:25,160
that come back from your query you're

386
00:17:23,160 --> 00:17:28,039
going to get an error um and what you're

387
00:17:25,160 --> 00:17:30,960
going to have to do is shape your query

388
00:17:28,039 --> 00:17:34,400
so you bring back chunks of smaller than

389
00:17:30,960 --> 00:17:37,679
10,000 work items um so you might do

390
00:17:34,400 --> 00:17:40,520
that with date ranges uh uh you know

391
00:17:37,679 --> 00:17:42,600
let's migrate everything that's that's

392
00:17:40,520 --> 00:17:44,520
uh been changed in the last 90 days

393
00:17:42,600 --> 00:17:48,080
migrate everything that's been changed

394
00:17:44,520 --> 00:17:50,480
between 1990 120 days and then keep

395
00:17:48,080 --> 00:17:52,679
making those chunks uh in order to

396
00:17:50,480 --> 00:17:55,360
migrate it

397
00:17:52,679 --> 00:17:59,039
across

398
00:17:55,360 --> 00:18:00,480
um and yeah so that's that's it we've

399
00:17:59,039 --> 00:18:04,039
set up our query we've set up our

400
00:18:00,480 --> 00:18:05,840
connection uh we should be good to go so

401
00:18:04,039 --> 00:18:09,080
I'm going to run the migration so I'm

402
00:18:05,840 --> 00:18:11,760
going to switch back to my code there we

403
00:18:09,080 --> 00:18:15,120
go and what we're going to do is we're

404
00:18:11,760 --> 00:18:16,960
going to do devops

405
00:18:15,120 --> 00:18:20,440
migration

406
00:18:16,960 --> 00:18:26,480
execute uh minus C for the for the

407
00:18:20,440 --> 00:18:26,480
config file and it's C EMP um and

408
00:18:27,320 --> 00:18:32,640
it's

409
00:18:30,000 --> 00:18:35,760
is it Jason I actually can't

410
00:18:32,640 --> 00:18:41,039
remember what is that configuration.

411
00:18:35,760 --> 00:18:44,320
Json there we go all so I'm going to run

412
00:18:41,039 --> 00:18:46,720
that there we go so it's loaded the file

413
00:18:44,320 --> 00:18:47,919
and it's done nothing so this is the

414
00:18:46,720 --> 00:18:49,960
first thing that will happen when you

415
00:18:47,919 --> 00:18:52,360
try and run it because you have

416
00:18:49,960 --> 00:18:55,200
forgotten something uh in the config

417
00:18:52,360 --> 00:18:57,919
file you'll notice that it has processor

418
00:18:55,200 --> 00:19:00,400
enabled equals false we need to change

419
00:18:57,919 --> 00:19:04,400
that to through for it to do anything uh

420
00:19:00,400 --> 00:19:08,799
this is so that you can actually um you

421
00:19:04,400 --> 00:19:11,120
can set this up so that um you can have

422
00:19:08,799 --> 00:19:13,559
multiple configs in there and then

423
00:19:11,120 --> 00:19:16,520
enable and disable them as needed I tend

424
00:19:13,559 --> 00:19:18,720
to have multiple files um just to make

425
00:19:16,520 --> 00:19:23,559
things less confusing uh but now going

426
00:19:18,720 --> 00:19:23,559
to go back and run it so this

427
00:19:24,919 --> 00:19:30,960
boom okay so now it's you can see it's

428
00:19:29,000 --> 00:19:33,559
went quite quickly there and I got an

429
00:19:30,960 --> 00:19:37,280
unhandled exception I maybe messed

430
00:19:33,559 --> 00:19:37,280
something up so I will need to check

431
00:19:40,559 --> 00:19:47,640
that so it connected

432
00:19:45,159 --> 00:19:52,360
here

433
00:19:47,640 --> 00:19:55,240
to the source granted then it tried to

434
00:19:52,360 --> 00:20:00,240
connect to the

435
00:19:55,240 --> 00:20:00,240
target with access token

436
00:20:01,080 --> 00:20:07,679
and then I got access

437
00:20:02,880 --> 00:20:10,080
granted and oh look what I did see there

438
00:20:07,679 --> 00:20:13,720
we go what I did was I forgot to update

439
00:20:10,080 --> 00:20:16,640
the project name always something that

440
00:20:13,720 --> 00:20:19,840
Martin does that things up there we go

441
00:20:16,640 --> 00:20:23,159
let's go back to so it's

442
00:20:19,840 --> 00:20:24,880
migration Target three was our empty

443
00:20:23,159 --> 00:20:27,880
empty project there it is Market

444
00:20:24,880 --> 00:20:29,600
migration Target three uh so there we go

445
00:20:27,880 --> 00:20:34,360
I forgot to update

446
00:20:29,600 --> 00:20:37,200
that so C there we go let's run it again

447
00:20:34,360 --> 00:20:39,440
and see what happens so connected to the

448
00:20:37,200 --> 00:20:42,440
source connected to the

449
00:20:39,440 --> 00:20:45,480
Target um and then it's doing a node

450
00:20:42,440 --> 00:20:47,919
migration so it's creating the area and

451
00:20:45,480 --> 00:20:51,000
iteration nodes in the Target all of

452
00:20:47,919 --> 00:20:55,280
these little things here um and they

453
00:20:51,000 --> 00:20:59,159
have to match that's we use a a thing um

454
00:20:55,280 --> 00:21:01,080
called rules overrides

455
00:20:59,159 --> 00:21:04,400
can't remember what it's called by rules

456
00:21:01,080 --> 00:21:07,320
bypass we bypass the rules engine um

457
00:21:04,400 --> 00:21:08,960
which means that uh all of the areas and

458
00:21:07,320 --> 00:21:11,440
iterations that are on the work item

459
00:21:08,960 --> 00:21:13,480
must exist so the first thing we do is

460
00:21:11,440 --> 00:21:16,600
we go through if I make that smaller

461
00:21:13,480 --> 00:21:19,919
there we go uh we go through and this is

462
00:21:16,600 --> 00:21:21,640
uh checking and validating all of the

463
00:21:19,919 --> 00:21:24,039
areas and iterations that are in the

464
00:21:21,640 --> 00:21:28,880
source and checking that they're in and

465
00:21:24,039 --> 00:21:31,039
valid in the Target okay um but

466
00:21:28,880 --> 00:21:32,840
what we also do is after we've loaded

467
00:21:31,039 --> 00:21:35,600
the work items and you see there's 10

468
00:21:32,840 --> 00:21:39,120
work items we actually go through the

469
00:21:35,600 --> 00:21:40,799
full history of all of the work items

470
00:21:39,120 --> 00:21:43,799
and we pull out all the area and

471
00:21:40,799 --> 00:21:44,919
iteration paths and we check that they

472
00:21:43,799 --> 00:21:47,919
all

473
00:21:44,919 --> 00:21:49,679
exist okay we check that they all exist

474
00:21:47,919 --> 00:21:51,720
because in the history there's two

475
00:21:49,679 --> 00:21:53,799
things that might have happened uh you

476
00:21:51,720 --> 00:21:56,279
might have an area or iteration path

477
00:21:53,799 --> 00:21:58,240
that's from a previous project if

478
00:21:56,279 --> 00:21:59,960
somebody has moved a work item from one

479
00:21:58,240 --> 00:22:02,679
project to another only happens in aure

480
00:21:59,960 --> 00:22:05,200
devops but it's possible and the other

481
00:22:02,679 --> 00:22:07,960
issue is that you might have an area or

482
00:22:05,200 --> 00:22:10,400
iteration path that has subsequently

483
00:22:07,960 --> 00:22:12,600
been deleted right so then it doesn't

484
00:22:10,400 --> 00:22:16,400
exist anymore in the source so when we

485
00:22:12,600 --> 00:22:17,679
create the main set it doesn't exist so

486
00:22:16,400 --> 00:22:19,480
what we're what we're going to have to

487
00:22:17,679 --> 00:22:22,039
do is we're going to have to create a

488
00:22:19,480 --> 00:22:25,600
mapping for these the system will stop

489
00:22:22,039 --> 00:22:29,400
and say the missing uh

490
00:22:25,600 --> 00:22:31,640
um missing iteration uh there there's

491
00:22:29,400 --> 00:22:34,279
one that is missing that we need to deal

492
00:22:31,640 --> 00:22:35,880
with actually there's two right because

493
00:22:34,279 --> 00:22:40,080
what it's what it's actually done here

494
00:22:35,880 --> 00:22:41,840
is it's created these two um which it

495
00:22:40,080 --> 00:22:44,400
didn't didn't exist before so it's

496
00:22:41,840 --> 00:22:46,240
generated them on the fly but we're

497
00:22:44,400 --> 00:22:48,320
still missing this one called Sky Point

498
00:22:46,240 --> 00:22:50,600
Cloud because it doesn't recognize what

499
00:22:48,320 --> 00:22:53,600
to do with it right it's from a older

500
00:22:50,600 --> 00:22:55,880
older project uh so if I open up work

501
00:22:53,600 --> 00:22:59,240
item

502
00:22:55,880 --> 00:23:02,039
414 in here so if I just go 414 it

503
00:22:59,240 --> 00:23:03,520
should let me just oh I might need to go

504
00:23:02,039 --> 00:23:05,520
to the source

505
00:23:03,520 --> 00:23:08,679
project

506
00:23:05,520 --> 00:23:11,919
Source 414 there it

507
00:23:08,679 --> 00:23:13,480
is so here's 414 and you can see well

508
00:23:11,919 --> 00:23:16,360
looks like it's got perfectly valid

509
00:23:13,480 --> 00:23:17,960
iterations but if I go in here and all

510
00:23:16,360 --> 00:23:20,400
the way back to the past you'll see that

511
00:23:17,960 --> 00:23:23,400
the team project that it was created in

512
00:23:20,400 --> 00:23:25,440
was skypoint Cloud that is not this

513
00:23:23,400 --> 00:23:27,480
project this is migration source so it's

514
00:23:25,440 --> 00:23:32,480
been moved from one project to another

515
00:23:27,480 --> 00:23:35,000
but that data is still in the history

516
00:23:32,480 --> 00:23:37,279
okay so it's had history and then it's

517
00:23:35,000 --> 00:23:39,960
been changed removed to this this

518
00:23:37,279 --> 00:23:42,279
project so we need to go deal with that

519
00:23:39,960 --> 00:23:44,159
in the config so the config has been

520
00:23:42,279 --> 00:23:47,880
helpful and just said here's the missing

521
00:23:44,159 --> 00:23:49,960
thing you need to add um so I'm going to

522
00:23:47,880 --> 00:23:52,880
grab that cuz that's what we need to

523
00:23:49,960 --> 00:23:55,600
create and go into the config so down in

524
00:23:52,880 --> 00:23:57,520
the config under the processor uh you've

525
00:23:55,600 --> 00:23:58,559
got area maps and iteration Maps I'm

526
00:23:57,520 --> 00:24:00,200
going to give you you some secret

527
00:23:58,559 --> 00:24:04,559
information as well that you need to

528
00:24:00,200 --> 00:24:04,559
need to add so effectively we

529
00:24:04,679 --> 00:24:11,480
have an iteration map that we need to

530
00:24:07,600 --> 00:24:16,039
add for this text right we want to match

531
00:24:11,480 --> 00:24:18,159
this text and map it to uh to something

532
00:24:16,039 --> 00:24:22,520
else uh so I'm going to give you some

533
00:24:18,159 --> 00:24:25,039
Secret Sauce first is that um in Jason

534
00:24:22,520 --> 00:24:26,640
uh you need to escape slashes that's why

535
00:24:25,039 --> 00:24:29,799
that's doing that weird underline so if

536
00:24:26,640 --> 00:24:32,559
I put another slash in we've escaped it

537
00:24:29,799 --> 00:24:36,039
uh but because this left hand side is a

538
00:24:32,559 --> 00:24:39,399
regular expression uh we need to add we

539
00:24:36,039 --> 00:24:42,399
need to escape this the Escape slashes

540
00:24:39,399 --> 00:24:45,320
so we need another two slashes to escape

541
00:24:42,399 --> 00:24:48,080
so when this goes through uh the Json it

542
00:24:45,320 --> 00:24:50,000
will turn into two slashes uh to go into

543
00:24:48,080 --> 00:24:54,039
the r x and the r x will turn it into

544
00:24:50,000 --> 00:24:57,080
one slash for it matching um I know

545
00:24:54,039 --> 00:25:00,200
Madness but there you go um and what we

546
00:24:57,080 --> 00:25:03,000
want to do is we only you know we might

547
00:25:00,200 --> 00:25:06,080
have an iteration path that has skyo

548
00:25:03,000 --> 00:25:10,080
cloud in it like old project SL

549
00:25:06,080 --> 00:25:11,960
something/ skypoint cloud/ Sprint one

550
00:25:10,080 --> 00:25:15,480
and that would match that so just to

551
00:25:11,960 --> 00:25:17,880
protect ourselves it's better to put a

552
00:25:15,480 --> 00:25:20,039
hat at where you want the start of the

553
00:25:17,880 --> 00:25:22,440
string IE this has to be at the

554
00:25:20,039 --> 00:25:25,120
beginning Sky Point cloud and then you

555
00:25:22,440 --> 00:25:27,399
can put a dollar at the end to say that

556
00:25:25,120 --> 00:25:29,679
is the end of the string don't match

557
00:25:27,399 --> 00:25:33,360
anything after that uh so it will only

558
00:25:29,679 --> 00:25:37,360
match this exact text and then our uh

559
00:25:33,360 --> 00:25:39,399
Target project is migration Target three

560
00:25:37,360 --> 00:25:41,600
so what we where we want it to go is M

561
00:25:39,399 --> 00:25:44,640
duration Target three we need to escape

562
00:25:41,600 --> 00:25:48,039
that slash and then Sprint Sprint one

563
00:25:44,640 --> 00:25:51,159
maybe I guess it could be uh uh Sprint

564
00:25:48,039 --> 00:25:52,720
one let's check uh so

565
00:25:51,159 --> 00:25:56,080
migration

566
00:25:52,720 --> 00:25:56,080
Target Target

567
00:25:56,679 --> 00:25:59,840
three

568
00:25:58,200 --> 00:26:02,840
let's go

569
00:25:59,840 --> 00:26:04,760
project iterations oh there's a Sprint

570
00:26:02,840 --> 00:26:06,640
and there's an iteration that's all

571
00:26:04,760 --> 00:26:10,039
messed up but you know that's what there

572
00:26:06,640 --> 00:26:13,000
is uh so we'll put it in Sprint one and

573
00:26:10,039 --> 00:26:15,799
then just to give you a super secret uh

574
00:26:13,000 --> 00:26:18,120
thing there's a a bug at the moment

575
00:26:15,799 --> 00:26:22,679
where it doesn't

576
00:26:18,120 --> 00:26:25,559
list the root as a problem and you'll uh

577
00:26:22,679 --> 00:26:29,240
if you remember from uh viewing the

578
00:26:25,559 --> 00:26:32,399
history uh you'll note that the area

579
00:26:29,240 --> 00:26:35,360
path was also skypoint Cloud so we

580
00:26:32,399 --> 00:26:39,200
actually need to match just skypoint

581
00:26:35,360 --> 00:26:43,120
Cloud on its own and map it uh to

582
00:26:39,200 --> 00:26:45,559
migration Target three for the area maps

583
00:26:43,120 --> 00:26:48,360
Okay so just need to remember uh at the

584
00:26:45,559 --> 00:26:52,120
moment that if you're doing a project to

585
00:26:48,360 --> 00:26:56,200
project map um sorry a project rename or

586
00:26:52,120 --> 00:27:01,520
change then you need to move these in

587
00:26:56,200 --> 00:27:04,360
okay uh so now if I go back and run this

588
00:27:01,520 --> 00:27:09,679
migration you'll see it

589
00:27:04,360 --> 00:27:09,679
will skip past um

590
00:27:10,720 --> 00:27:14,600
that there's loading the work items it's

591
00:27:13,559 --> 00:27:17,720
getting a

592
00:27:14,600 --> 00:27:20,240
list just going to check it

593
00:27:17,720 --> 00:27:21,880
twice there we go now it's migrating

594
00:27:20,240 --> 00:27:24,240
work items so it's iterating through

595
00:27:21,880 --> 00:27:27,200
each of the work items creating them we

596
00:27:24,240 --> 00:27:30,320
iterate through each work item in turn

597
00:27:27,200 --> 00:27:31,919
let that smaller so it makes looks nicer

598
00:27:30,320 --> 00:27:34,240
uh we work iterate through each work

599
00:27:31,919 --> 00:27:37,080
item in turn so when you're doing work

600
00:27:34,240 --> 00:27:39,279
if work item a links to work Item B

601
00:27:37,080 --> 00:27:40,559
we're going to process work item a first

602
00:27:39,279 --> 00:27:42,840
and we're not going to be able to create

603
00:27:40,559 --> 00:27:46,360
the links you'll see on the first work

604
00:27:42,840 --> 00:27:49,919
item it will actually usually say uh you

605
00:27:46,360 --> 00:27:52,840
know migrating link skip skip skip right

606
00:27:49,919 --> 00:27:55,159
that's absolutely fine because the other

607
00:27:52,840 --> 00:27:56,559
side the target side doesn't exist yet

608
00:27:55,159 --> 00:28:00,440
the target work item has not been

609
00:27:56,559 --> 00:28:04,279
migrated yet but as it goes through um

610
00:28:00,440 --> 00:28:07,200
so you'll see skips and then as we go

611
00:28:04,279 --> 00:28:09,240
further down we'll start to see creates

612
00:28:07,200 --> 00:28:11,000
right it's going to create them so when

613
00:28:09,240 --> 00:28:13,799
it creates the other side of the link

614
00:28:11,000 --> 00:28:15,760
it's going to link it back together and

615
00:28:13,799 --> 00:28:18,080
if I go down to the bottom it's probably

616
00:28:15,760 --> 00:28:20,519
pretty close to finished it is finished

617
00:28:18,080 --> 00:28:25,519
so we have just migrated all the work

618
00:28:20,519 --> 00:28:27,600
items and uh links uh for those those

619
00:28:25,519 --> 00:28:30,399
work items and we did it fairly quickly

620
00:28:27,600 --> 00:28:32,799
took 48 seconds there we go so let's

621
00:28:30,399 --> 00:28:35,159
take a look at what we what we created

622
00:28:32,799 --> 00:28:38,000
so in our migration

623
00:28:35,159 --> 00:28:39,679
Target I'm going to look load up work

624
00:28:38,000 --> 00:28:42,279
items

625
00:28:39,679 --> 00:28:43,919
um migration Target three I'm pretty

626
00:28:42,279 --> 00:28:44,370
sure that's what I called it so let's

627
00:28:43,919 --> 00:28:47,510
have a

628
00:28:44,370 --> 00:28:47,510
[Music]

629
00:28:47,840 --> 00:28:53,240
look there we go they are there it was

630
00:28:50,559 --> 00:28:55,440
just a cashing issue so if I go back can

631
00:28:53,240 --> 00:28:58,399
I

632
00:28:55,440 --> 00:29:02,279
uh there we go so here are the work

633
00:28:58,399 --> 00:29:04,840
items uh that we just created uh you can

634
00:29:02,279 --> 00:29:07,760
see there's the one that was moved from

635
00:29:04,840 --> 00:29:09,519
Sky Point cloud and in the history all

636
00:29:07,760 --> 00:29:12,640
the way back in the source it now just

637
00:29:09,519 --> 00:29:15,200
says migration uh three right because we

638
00:29:12,640 --> 00:29:17,559
did that we did that core

639
00:29:15,200 --> 00:29:20,480
mapping um so we got all the work items

640
00:29:17,559 --> 00:29:23,399
if I go to the

641
00:29:20,480 --> 00:29:26,799
backlog close that you able to see that

642
00:29:23,399 --> 00:29:31,039
it's uh linking linking things in and if

643
00:29:26,799 --> 00:29:32,919
I change this to look at parents as well

644
00:29:31,039 --> 00:29:37,080
you'll see there's the feature the

645
00:29:32,919 --> 00:29:39,000
backlog item and the tasks coming in as

646
00:29:37,080 --> 00:29:45,039
well and we did have some other work

647
00:29:39,000 --> 00:29:47,320
items on there right we had uh ppis we

648
00:29:45,039 --> 00:29:49,600
have uh some tasks and stuff so we're

649
00:29:47,320 --> 00:29:51,519
not we're not particularly worried and

650
00:29:49,600 --> 00:29:54,440
there's all the the stuff

651
00:29:51,519 --> 00:29:59,200
there so there you go we just

652
00:29:54,440 --> 00:30:01,519
migrated uh our first set of work items

653
00:29:59,200 --> 00:30:04,000
uh so this operated fairly fairly

654
00:30:01,519 --> 00:30:07,039
quickly um it brought them all across if

655
00:30:04,000 --> 00:30:09,120
you want to run it again uh you can run

656
00:30:07,039 --> 00:30:11,760
it again um and what it will do is it

657
00:30:09,120 --> 00:30:13,799
will go checks everything twice thinking

658
00:30:11,760 --> 00:30:15,760
about how we might resolve that but it

659
00:30:13,799 --> 00:30:18,159
checks everything

660
00:30:15,760 --> 00:30:21,919
twice um so it's going to go through

661
00:30:18,159 --> 00:30:23,640
each of the it's actually not going to

662
00:30:21,919 --> 00:30:25,519
check all of those work items again it's

663
00:30:23,640 --> 00:30:29,440
just going to say that all all work

664
00:30:25,519 --> 00:30:31,799
items were found but what will happen is

665
00:30:29,440 --> 00:30:36,919
at some point somebody will go to the

666
00:30:31,799 --> 00:30:40,600
source okay and they'll go on the

667
00:30:36,919 --> 00:30:43,120
board and they'll whoop drop that item

668
00:30:40,600 --> 00:30:46,039
from resolved to active right because it

669
00:30:43,120 --> 00:30:49,880
because it regressed so now when we run

670
00:30:46,039 --> 00:30:52,240
this we actually want it to um migrate

671
00:30:49,880 --> 00:30:55,320
that extra change but it will not

672
00:30:52,240 --> 00:30:58,080
because at the moment we've got a a a

673
00:30:55,320 --> 00:31:00,639
thing that will remove all found work

674
00:30:58,080 --> 00:31:02,600
items so what you need to do is go in

675
00:31:00,639 --> 00:31:03,840
here filter work items that already

676
00:31:02,600 --> 00:31:07,200
exist in

677
00:31:03,840 --> 00:31:10,120
Target false once you've turned that to

678
00:31:07,200 --> 00:31:12,600
false uh let me do

679
00:31:10,120 --> 00:31:16,240
clear rerun the

680
00:31:12,600 --> 00:31:17,960
migration and what it will do is instead

681
00:31:16,240 --> 00:31:21,760
just going to check it twice again

682
00:31:17,960 --> 00:31:23,960
instead of just not trying to run all

683
00:31:21,760 --> 00:31:25,840
those work items it will run through

684
00:31:23,960 --> 00:31:28,480
each of the work items it will check the

685
00:31:25,840 --> 00:31:30,240
number of revisions and it's found one

686
00:31:28,480 --> 00:31:33,000
work item that has one revision that

687
00:31:30,240 --> 00:31:35,919
needs to be updated and there you go it

688
00:31:33,000 --> 00:31:37,799
is moved that revision across it's going

689
00:31:35,919 --> 00:31:39,519
to check the links as well and make sure

690
00:31:37,799 --> 00:31:41,679
they're all up to date and it skips it

691
00:31:39,519 --> 00:31:43,440
because they're already existing um so

692
00:31:41,679 --> 00:31:45,960
it's checking every revision of every

693
00:31:43,440 --> 00:31:51,279
work item that it exists that it's

694
00:31:45,960 --> 00:31:55,919
correct uh um that all the links work so

695
00:31:51,279 --> 00:31:58,159
it will eventually find that work item

696
00:31:55,919 --> 00:32:00,679
there we go run the whole thing

697
00:31:58,159 --> 00:32:04,440
um and if I go back to so that was the

698
00:32:00,679 --> 00:32:04,440
source if we go to the

699
00:32:04,960 --> 00:32:09,760
Target go to the board it should have

700
00:32:06,840 --> 00:32:12,720
moved across there you go it's now uh

701
00:32:09,760 --> 00:32:16,080
moved across so we reran the migration

702
00:32:12,720 --> 00:32:17,679
uh wow that's aoop oop oop there's a

703
00:32:16,080 --> 00:32:19,360
there there's a bug shouldn't do two of

704
00:32:17,679 --> 00:32:22,080
those but that's the different migration

705
00:32:19,360 --> 00:32:24,760
run that uh we can turn that off in the

706
00:32:22,080 --> 00:32:27,880
config uh but there's that additional

707
00:32:24,760 --> 00:32:30,919
change that came across we changed state

708
00:32:27,880 --> 00:32:34,559
um and then it's adding this text which

709
00:32:30,919 --> 00:32:38,200
it shouldn't do but uh in here uh uh

710
00:32:34,559 --> 00:32:40,559
migration comment B St won't do that

711
00:32:38,200 --> 00:32:43,320
again it can be handy if you want to do

712
00:32:40,559 --> 00:32:46,519
it for the first run because in the

713
00:32:43,320 --> 00:32:49,200
actual work item um it creates a link

714
00:32:46,519 --> 00:32:51,200
back to the old work item so you can

715
00:32:49,200 --> 00:32:52,960
quite easily just click it and go oh

716
00:32:51,200 --> 00:32:54,480
what was the old work item again oh it

717
00:32:52,960 --> 00:32:58,080
was this one does it match yes it

718
00:32:54,480 --> 00:33:02,919
matches right um so people can find that

719
00:32:58,080 --> 00:33:06,360
so there you go that was um a pretty

720
00:33:02,919 --> 00:33:08,760
straightforward uh migration between uh

721
00:33:06,360 --> 00:33:12,360
two Azure devops projects moving the

722
00:33:08,760 --> 00:33:16,639
work items don't forget to check out uh

723
00:33:12,360 --> 00:33:16,639
the git repole for any updates and

724
00:33:19,200 --> 00:33:22,200
changes


