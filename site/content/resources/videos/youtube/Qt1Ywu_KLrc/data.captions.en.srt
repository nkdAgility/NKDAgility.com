1
00:00:02,800 --> 00:00:08,639
we are going to take a look at how to do

2
00:00:06,480 --> 00:00:11,200
a migration with the Azure devops

3
00:00:08,639 --> 00:00:13,480
migration tools um I'm going to take a

4
00:00:11,200 --> 00:00:16,160
very straightforward simple migration

5
00:00:13,480 --> 00:00:19,279
and walk you through it um we're also

6
00:00:16,160 --> 00:00:21,960
going to take care of any exceptions or

7
00:00:19,279 --> 00:00:23,680
issues and all those little things uh

8
00:00:21,960 --> 00:00:27,560
that come up at least the common ones

9
00:00:23,680 --> 00:00:30,080
that come up so let me switch to my

10
00:00:27,560 --> 00:00:32,360
desktop there we go uh so first first

11
00:00:30,080 --> 00:00:34,760
thing I'm going to do is um

12
00:00:32,360 --> 00:00:38,719
install uh the Azure devops tools we

13
00:00:34,760 --> 00:00:43,079
need to get them first um if we go to

14
00:00:38,719 --> 00:00:48,120
GitHub the tool repo uh you'll find just

15
00:00:43,079 --> 00:00:52,440
down on the right hand side you'll find

16
00:00:48,120 --> 00:00:54,840
a little list of all of the releases and

17
00:00:52,440 --> 00:00:58,239
the latest release will be at the top um

18
00:00:54,840 --> 00:01:00,160
so you can use this release here um

19
00:00:58,239 --> 00:01:01,960
whatever the latest one is is the one

20
00:01:00,160 --> 00:01:03,480
you should be using we only support uh

21
00:01:01,960 --> 00:01:06,360
the latest one we have one going through

22
00:01:03,480 --> 00:01:07,880
the pipeline at the moment uh but if you

23
00:01:06,360 --> 00:01:11,000
open up that

24
00:01:07,880 --> 00:01:12,600
release uh if you're in an environment

25
00:01:11,000 --> 00:01:15,280
where you can't you don't really have

26
00:01:12,600 --> 00:01:19,479
internet access you don't have any of

27
00:01:15,280 --> 00:01:21,560
those things then you can use uh this

28
00:01:19,479 --> 00:01:25,920
version of the file

29
00:01:21,560 --> 00:01:28,560
here and you just download that and you

30
00:01:25,920 --> 00:01:30,520
will be able to unzip it to any location

31
00:01:28,560 --> 00:01:33,920
any folder and then run

32
00:01:30,520 --> 00:01:35,960
the migration from that folder um so you

33
00:01:33,920 --> 00:01:38,200
can you can do that I'm not going to do

34
00:01:35,960 --> 00:01:40,360
that today uh because if you check out

35
00:01:38,200 --> 00:01:42,040
the documentation which if you scroll

36
00:01:40,360 --> 00:01:45,240
down a little bit you will

37
00:01:42,040 --> 00:01:46,320
find a link here to the documentation in

38
00:01:45,240 --> 00:01:49,360
the

39
00:01:46,320 --> 00:01:51,680
documentation it talks about how you uh

40
00:01:49,360 --> 00:01:53,360
install and configure the tools and

41
00:01:51,680 --> 00:01:55,320
there a little getting started link up

42
00:01:53,360 --> 00:01:58,640
here in the top left um and it talks

43
00:01:55,320 --> 00:02:01,280
about the install now we deploy uh to

44
00:01:58,640 --> 00:02:04,799
winget and and

45
00:02:01,280 --> 00:02:07,280
chocolatey so if you are on a Windows

46
00:02:04,799 --> 00:02:10,679
Server uh you need to use chocolatey you

47
00:02:07,280 --> 00:02:12,879
can use chocolatey anywhere in fact uh

48
00:02:10,679 --> 00:02:16,200
that you're running Windows uh but we

49
00:02:12,879 --> 00:02:20,000
also have wi get as well uh for those of

50
00:02:16,200 --> 00:02:25,599
us that are on Windows 10 or Windows 11

51
00:02:20,000 --> 00:02:29,120
um so let's uh put this in the other

52
00:02:25,599 --> 00:02:30,680
mode I'll switch over here there we go

53
00:02:29,120 --> 00:02:33,760
so what I'm going to do

54
00:02:30,680 --> 00:02:39,680
is I'm going to open uh a command

55
00:02:33,760 --> 00:02:42,760
prompt and one thing uh to note is that

56
00:02:39,680 --> 00:02:46,440
you want to use a non-admin command

57
00:02:42,760 --> 00:02:48,360
prompt there's actually a bug in winget

58
00:02:46,440 --> 00:02:51,800
uh that if you use an admin command

59
00:02:48,360 --> 00:02:54,920
prompt it doesn't add the app folder to

60
00:02:51,800 --> 00:02:55,959
the path um you don't have to worry

61
00:02:54,920 --> 00:02:57,640
about what that means but they don't

62
00:02:55,959 --> 00:03:00,440
addit to the path which means that you

63
00:02:57,640 --> 00:03:03,680
get a missing file so I'm just going to

64
00:03:00,440 --> 00:03:07,840
find the package so if you do Wing get

65
00:03:03,680 --> 00:03:10,760
uh search then I'm going to do um Azure

66
00:03:07,840 --> 00:03:12,799
devops um and pull up the list of tools

67
00:03:10,760 --> 00:03:14,280
that are available for aure devops and

68
00:03:12,799 --> 00:03:17,480
I'm just going to

69
00:03:14,280 --> 00:03:22,360
copy that uh uh ID

70
00:03:17,480 --> 00:03:25,640
there and I'm going to do uh Wing get

71
00:03:22,360 --> 00:03:31,400
install that tool and you'll find that

72
00:03:25,640 --> 00:03:33,120
will uh shoot off and go do go do that

73
00:03:31,400 --> 00:03:35,480
it'll take a a minute or so it's going

74
00:03:33,120 --> 00:03:38,319
in downloading the package verifying it

75
00:03:35,480 --> 00:03:40,120
and then unpacking it and setting up uh

76
00:03:38,319 --> 00:03:42,720
uh some stuff but again it is just a

77
00:03:40,120 --> 00:03:46,000
portable uh uh portable setup while

78
00:03:42,720 --> 00:03:48,200
that's running um you can go to uh do I

79
00:03:46,000 --> 00:03:49,480
have the chocolatey Link in here no I

80
00:03:48,200 --> 00:03:51,680
maybe don't have the chocolatey link

81
00:03:49,480 --> 00:03:54,480
anymore cuz we want to use we want to

82
00:03:51,680 --> 00:03:55,920
use the the the new stuff so there we go

83
00:03:54,480 --> 00:03:59,239
starting the install of the package and

84
00:03:55,920 --> 00:04:02,840
it's it's set it up uh so now if I uh

85
00:03:59,239 --> 00:04:05,400
switch to uh

86
00:04:02,840 --> 00:04:09,280
C

87
00:04:05,400 --> 00:04:10,959
imp and do di you'll see that I've got a

88
00:04:09,280 --> 00:04:13,079
config file in there I'm actually just

89
00:04:10,959 --> 00:04:16,840
going to overwrite it and create a new

90
00:04:13,079 --> 00:04:22,880
one um by calling the tools so if I go

91
00:04:16,840 --> 00:04:25,680
CLS right so if I I want to use the

92
00:04:22,880 --> 00:04:27,560
tools I just call devops migration uh

93
00:04:25,680 --> 00:04:28,840
that will initially show you uh because

94
00:04:27,560 --> 00:04:30,680
you've not selected like what do you

95
00:04:28,840 --> 00:04:32,960
want it to do it will say what the

96
00:04:30,680 --> 00:04:35,199
options are and there's in it and

97
00:04:32,960 --> 00:04:38,320
there's execute execute is for executing

98
00:04:35,199 --> 00:04:42,320
a a migration and in it is for creating

99
00:04:38,320 --> 00:04:45,080
config files so if I do in it and then

100
00:04:42,320 --> 00:04:48,479
do help H you'll see it's got some

101
00:04:45,080 --> 00:04:52,120
helpful options there uh for for what

102
00:04:48,479 --> 00:04:55,960
things are available

103
00:04:52,120 --> 00:04:57,000
um but we're just going to call in it

104
00:04:55,960 --> 00:05:00,320
and it will

105
00:04:57,000 --> 00:05:03,240
create there we go it's updated and

106
00:05:00,320 --> 00:05:06,280
created this config file in C temp so if

107
00:05:03,240 --> 00:05:09,479
I just pop that open and go to Temp

108
00:05:06,280 --> 00:05:11,639
there we go I have that configuration

109
00:05:09,479 --> 00:05:14,240
file here I'm going to open it in visual

110
00:05:11,639 --> 00:05:17,320
studio and there we go I'm all set up

111
00:05:14,240 --> 00:05:21,360
with this is the default out of the box

112
00:05:17,320 --> 00:05:23,800
uh configuration file um we've got some

113
00:05:21,360 --> 00:05:26,919
changes to the default configuration

114
00:05:23,800 --> 00:05:28,520
file coming down the pipeline just now

115
00:05:26,919 --> 00:05:30,280
they're not quite here yet so there's a

116
00:05:28,520 --> 00:05:33,080
couple of fixies that I have to make so

117
00:05:30,280 --> 00:05:35,000
if you have an older config file or

118
00:05:33,080 --> 00:05:36,600
you've generated one before uh there's

119
00:05:35,000 --> 00:05:39,440
some fixes that you're going to want to

120
00:05:36,600 --> 00:05:43,919
make uh the first fix is going to be to

121
00:05:39,440 --> 00:05:47,919
remove all of the um field maps here

122
00:05:43,919 --> 00:05:50,160
field maps are great uh for for when you

123
00:05:47,919 --> 00:05:52,039
want to move from one process to another

124
00:05:50,160 --> 00:05:53,600
process uh but they get in the way

125
00:05:52,039 --> 00:05:56,639
especially the default ones do get in

126
00:05:53,600 --> 00:05:59,440
the way uh so we've we've changed that

127
00:05:56,639 --> 00:06:00,440
um so when you create uh although we're

128
00:05:59,440 --> 00:06:02,639
on

129
00:06:00,440 --> 00:06:02,639
uh

130
00:06:03,600 --> 00:06:08,680
2.23 I think if you do

131
00:06:05,919 --> 00:06:11,440
2.2.3 which has already been updated

132
00:06:08,680 --> 00:06:14,960
while the package is being deployed um

133
00:06:11,440 --> 00:06:16,319
then you will uh have these things will

134
00:06:14,960 --> 00:06:19,560
already been removed so you need to

135
00:06:16,319 --> 00:06:21,800
remove that and then down down here uh

136
00:06:19,560 --> 00:06:24,759
there's a skip to final revised work

137
00:06:21,800 --> 00:06:27,840
item type uh that should be false by

138
00:06:24,759 --> 00:06:30,240
default is currently set to True um and

139
00:06:27,840 --> 00:06:34,360
the other one is these node paths

140
00:06:30,240 --> 00:06:36,560
just get in the way so you uh best way

141
00:06:34,360 --> 00:06:40,199
is just to delete them and replace it

142
00:06:36,560 --> 00:06:41,759
with null and then they are gone we

143
00:06:40,199 --> 00:06:44,840
don't have to worry about them those are

144
00:06:41,759 --> 00:06:46,400
the two things that you have to that

145
00:06:44,840 --> 00:06:50,039
that will be the default what you see

146
00:06:46,400 --> 00:06:52,400
here um will be the default in by

147
00:06:50,039 --> 00:06:54,319
tomorrow by tomorrow let's

148
00:06:52,400 --> 00:06:57,440
say all so what we're going to do is

149
00:06:54,319 --> 00:07:01,960
we're going to set up um this for

150
00:06:57,440 --> 00:07:06,680
us so we have a source project and we

151
00:07:01,960 --> 00:07:09,520
have a Target project okay now the

152
00:07:06,680 --> 00:07:11,680
source project uh we're going to use

153
00:07:09,520 --> 00:07:13,199
prompt to connect to it um and we're

154
00:07:11,680 --> 00:07:18,000
going to connect to an Azure devops

155
00:07:13,199 --> 00:07:20,120
instance in uh preview but uh not this

156
00:07:18,000 --> 00:07:22,639
project that one doesn't exist so I'm

157
00:07:20,120 --> 00:07:22,639
just going to

158
00:07:22,720 --> 00:07:30,520
open that and go to migration Source

159
00:07:26,840 --> 00:07:33,080
this is my uh default uh uh migration

160
00:07:30,520 --> 00:07:39,080
source project here and something to

161
00:07:33,080 --> 00:07:40,919
note here is that um you will need both

162
00:07:39,080 --> 00:07:46,240
the URL of the

163
00:07:40,919 --> 00:07:48,680
collection and the URL of the project so

164
00:07:46,240 --> 00:07:52,680
this one here is the project and this

165
00:07:48,680 --> 00:07:54,120
here is the collection so if I take I'm

166
00:07:52,680 --> 00:07:56,319
just going to copy the project because I

167
00:07:54,120 --> 00:07:58,720
already have the collection in there and

168
00:07:56,319 --> 00:08:00,599
you'll see here's the collection and I'm

169
00:07:58,720 --> 00:08:03,120
going to update the project

170
00:08:00,599 --> 00:08:04,919
now for the source you don't actually

171
00:08:03,120 --> 00:08:08,120
have to worry about reflected work item

172
00:08:04,919 --> 00:08:10,560
ID is not required for you to update

173
00:08:08,120 --> 00:08:12,919
this it can be anything uh you like it's

174
00:08:10,560 --> 00:08:14,599
not going to use it on here and you can

175
00:08:12,919 --> 00:08:16,680
leave this as prompt because we're only

176
00:08:14,599 --> 00:08:19,840
going to read from the source we never

177
00:08:16,680 --> 00:08:21,599
write to the source we only read from it

178
00:08:19,840 --> 00:08:24,039
um so I'm just going to use prompt there

179
00:08:21,599 --> 00:08:25,919
because it's just easier just now and

180
00:08:24,039 --> 00:08:28,560
then we need a Target project so what

181
00:08:25,919 --> 00:08:29,960
I'm going to do is I'm going to create a

182
00:08:28,560 --> 00:08:34,039
brand new Target

183
00:08:29,960 --> 00:08:37,200
project um and I'm going to call it uh

184
00:08:34,039 --> 00:08:41,640
migration Target three cuz I have lots

185
00:08:37,200 --> 00:08:44,200
of Ingenuity on what to call things um

186
00:08:41,640 --> 00:08:46,760
so I'm going to use the same process so

187
00:08:44,200 --> 00:08:49,720
the source is also this process and I'm

188
00:08:46,760 --> 00:08:51,399
going to create that project here so

189
00:08:49,720 --> 00:08:53,080
while this goes off and creates the the

190
00:08:51,399 --> 00:08:55,680
project this is going to create an empty

191
00:08:53,080 --> 00:08:59,079
project um it is worth noting there we

192
00:08:55,680 --> 00:09:02,519
go uh so this has no work items work

193
00:08:59,079 --> 00:09:06,200
items nothing here uh recently updated

194
00:09:02,519 --> 00:09:12,040
nothing uh recently created nothing

195
00:09:06,200 --> 00:09:13,240
okay but it does have uh the process

196
00:09:12,040 --> 00:09:15,040
here and if you're looking for the

197
00:09:13,240 --> 00:09:17,560
process I just clicked the project

198
00:09:15,040 --> 00:09:19,760
settings on the bottom left and then uh

199
00:09:17,560 --> 00:09:22,320
once you've got that open uh you will

200
00:09:19,760 --> 00:09:24,920
see the process that's connected to your

201
00:09:22,320 --> 00:09:27,760
project in here and if you click on it

202
00:09:24,920 --> 00:09:29,680
that will go into the definition of the

203
00:09:27,760 --> 00:09:31,120
process so you can take a look even if

204
00:09:29,680 --> 00:09:32,839
you can't edit this you will be able to

205
00:09:31,120 --> 00:09:35,959
read it but you will need to be able to

206
00:09:32,839 --> 00:09:39,440
edit it on the target environment uh for

207
00:09:35,959 --> 00:09:42,079
sure okay uh because every work item

208
00:09:39,440 --> 00:09:45,440
type that's in scope needs a special

209
00:09:42,079 --> 00:09:47,360
field on it so that we can track which

210
00:09:45,440 --> 00:09:49,320
work items we've created and what

211
00:09:47,360 --> 00:09:51,880
they're related to in the source

212
00:09:49,320 --> 00:09:55,839
environment and so for that we actually

213
00:09:51,880 --> 00:09:59,399
add a field H called reflected work item

214
00:09:55,839 --> 00:10:02,000
id if you are migrating work items

215
00:09:59,399 --> 00:10:04,920
restructuring your Azure devops or just

216
00:10:02,000 --> 00:10:07,160
needs some help my team at naked agility

217
00:10:04,920 --> 00:10:10,160
can help you or we can help you find a

218
00:10:07,160 --> 00:10:12,279
consultant or expert who can you can set

219
00:10:10,160 --> 00:10:15,920
up a free consultation using the links

220
00:10:12,279 --> 00:10:18,160
below and don't forget to like And

221
00:10:15,920 --> 00:10:19,680
subscribe so I'm just going to add a new

222
00:10:18,160 --> 00:10:21,279
one just to show you what it would look

223
00:10:19,680 --> 00:10:23,480
like for you so I'm going to create a

224
00:10:21,279 --> 00:10:23,480
new

225
00:10:24,480 --> 00:10:29,720
field ID uh I'm just going to call it

226
00:10:27,519 --> 00:10:31,279
reflected workout let's call it cuz I

227
00:10:29,720 --> 00:10:33,839
think I already created one called two

228
00:10:31,279 --> 00:10:36,959
reflect work item id 3 it's a single

229
00:10:33,839 --> 00:10:38,600
text line it can go anywhere no default

230
00:10:36,959 --> 00:10:40,560
value and it can go anywhere so I'm just

231
00:10:38,600 --> 00:10:44,320
going to stick it in details CU I don't

232
00:10:40,560 --> 00:10:46,760
care okay so there is added it if you go

233
00:10:44,320 --> 00:10:49,880
to edit again and go to options you'll

234
00:10:46,760 --> 00:10:51,839
see what the name of that field is okay

235
00:10:49,880 --> 00:10:53,639
so this is the ref name rather than the

236
00:10:51,839 --> 00:10:56,160
friendly name this is the friendly name

237
00:10:53,639 --> 00:10:58,959
here and then the under the covers name

238
00:10:56,160 --> 00:11:02,480
is the custom uh do reflected work Item

239
00:10:58,959 --> 00:11:04,560
ID 3 if you've added or had already got

240
00:11:02,480 --> 00:11:07,399
a reflected work item ID in your system

241
00:11:04,560 --> 00:11:10,120
like I do would you remove that one

242
00:11:07,399 --> 00:11:13,959
which is this one you can go check in

243
00:11:10,120 --> 00:11:17,240
options what the ref name is and you can

244
00:11:13,959 --> 00:11:18,959
see this was created quite some time ago

245
00:11:17,240 --> 00:11:20,600
and as your devops has changed the way

246
00:11:18,959 --> 00:11:23,200
this works yours will probably say

247
00:11:20,600 --> 00:11:24,920
custom if you're adding it recently um

248
00:11:23,200 --> 00:11:27,360
if you've added a long time ago it will

249
00:11:24,920 --> 00:11:30,440
say the name of the process within which

250
00:11:27,360 --> 00:11:33,839
it was added so that's M NK scrum so I'm

251
00:11:30,440 --> 00:11:37,560
just going to copy that go back in uh

252
00:11:33,839 --> 00:11:40,000
here and now I can update uh the target

253
00:11:37,560 --> 00:11:44,160
element to mkd scrum that reflected work

254
00:11:40,000 --> 00:11:47,079
item id okay uh the other thing that's

255
00:11:44,160 --> 00:11:51,160
worth noting is that in the Target if

256
00:11:47,079 --> 00:11:55,480
you're using uh uh

257
00:11:51,160 --> 00:11:58,200
Azure as your target um you will need to

258
00:11:55,480 --> 00:12:02,000
fill out a personal access token there

259
00:11:58,200 --> 00:12:05,959
are certain capab cap abilities in Ado

260
00:12:02,000 --> 00:12:09,200
um that require us to do some weird

261
00:12:05,959 --> 00:12:12,760
patchy things that require a pat token

262
00:12:09,200 --> 00:12:15,240
um so all you do is on your environment

263
00:12:12,760 --> 00:12:17,800
uh click on the little uh person Cog

264
00:12:15,240 --> 00:12:19,440
with personal access tokens and create a

265
00:12:17,800 --> 00:12:20,920
personal access token you see I created

266
00:12:19,440 --> 00:12:22,760
one earlier so I'm just going to

267
00:12:20,920 --> 00:12:25,760
regenerate that

268
00:12:22,760 --> 00:12:28,440
one and there we go I've got my personal

269
00:12:25,760 --> 00:12:30,880
access boken h now you'll notice I have

270
00:12:28,440 --> 00:12:33,160
it set up as full access you can try

271
00:12:30,880 --> 00:12:36,199
other stuff but we tend to use full

272
00:12:33,160 --> 00:12:38,600
access when uh creating these so now all

273
00:12:36,199 --> 00:12:41,399
I need to do is put in my personal

274
00:12:38,600 --> 00:12:43,880
access token in there and if you want to

275
00:12:41,399 --> 00:12:47,199
only use the pat token and not use

276
00:12:43,880 --> 00:12:49,920
prompt um you can

277
00:12:47,199 --> 00:12:51,720
say access token in the authentication

278
00:12:49,920 --> 00:12:52,880
mode and it will just use the token so

279
00:12:51,720 --> 00:12:55,199
we can set that up here so we're going

280
00:12:52,880 --> 00:12:58,800
to use prompt for the source and access

281
00:12:55,199 --> 00:13:00,920
token for the Target um prompt just pops

282
00:12:58,800 --> 00:13:03,440
uh as your active directory

283
00:13:00,920 --> 00:13:05,480
authentication and that's that's easy

284
00:13:03,440 --> 00:13:08,120
peasy you don't need to worry about

285
00:13:05,480 --> 00:13:10,160
these language Maps if you have uh you

286
00:13:08,120 --> 00:13:13,120
may need to worry about it in the source

287
00:13:10,160 --> 00:13:18,120
if you're migrating from uh let's say a

288
00:13:13,120 --> 00:13:20,880
German uh installation of uh TFS where

289
00:13:18,120 --> 00:13:23,560
it the database is set up as a German

290
00:13:20,880 --> 00:13:26,079
collation then uh you'll need to fill

291
00:13:23,560 --> 00:13:27,880
out whatever the German is for area and

292
00:13:26,079 --> 00:13:31,120
whatever the German is for iteration cuz

293
00:13:27,880 --> 00:13:32,760
that's uh uh how the system uh stores it

294
00:13:31,120 --> 00:13:34,920
and then that will make sure all the

295
00:13:32,760 --> 00:13:38,040
mappings work uh so you just fill out

296
00:13:34,920 --> 00:13:40,720
your language specific uh terminology in

297
00:13:38,040 --> 00:13:42,480
here uh but 90% of the time you're not

298
00:13:40,720 --> 00:13:44,079
going to need to uh you're not going to

299
00:13:42,480 --> 00:13:47,560
need to do that at

300
00:13:44,079 --> 00:13:50,160
all so then everything else is kind of

301
00:13:47,560 --> 00:13:51,839
uh uh not needed for a simple migration

302
00:13:50,160 --> 00:13:53,800
if you're changing the process or you

303
00:13:51,839 --> 00:13:57,360
want to move data from one field to

304
00:13:53,800 --> 00:14:01,279
another um I've done things like I had a

305
00:13:57,360 --> 00:14:04,959
customer who had uh the version number

306
00:14:01,279 --> 00:14:07,800
as Year Dot number I think it was year

307
00:14:04,959 --> 00:14:09,279
do month in uh their Source system and

308
00:14:07,800 --> 00:14:12,079
in the Target system they wanted two

309
00:14:09,279 --> 00:14:15,199
Fields one with year and one with month

310
00:14:12,079 --> 00:14:17,360
so I just added a field map to Reg X

311
00:14:15,199 --> 00:14:20,079
those out into the individual Fields no

312
00:14:17,360 --> 00:14:22,079
problem at all uh the documentation uh

313
00:14:20,079 --> 00:14:25,040
has a list I jump to the

314
00:14:22,079 --> 00:14:28,480
docks the docs have a list on the left

315
00:14:25,040 --> 00:14:31,360
hand side under under V1 under ref V1

316
00:14:28,480 --> 00:14:34,279
you'll find a list of field maps here so

317
00:14:31,360 --> 00:14:36,839
there's the regx field map um and all I

318
00:14:34,279 --> 00:14:39,399
did was set up a source field being my

319
00:14:36,839 --> 00:14:42,759
version Target Field my version year

320
00:14:39,399 --> 00:14:45,320
only pattern match the year out and put

321
00:14:42,759 --> 00:14:46,759
it in the new field right that's that's

322
00:14:45,320 --> 00:14:50,880
pretty pretty straightforward so you

323
00:14:46,759 --> 00:14:52,920
would just copy this um obviously change

324
00:14:50,880 --> 00:14:56,600
it to what you need and put it into the

325
00:14:52,920 --> 00:14:58,160
field map okay so it's just a a list of

326
00:14:56,600 --> 00:14:59,759
field maps and the field maps are run in

327
00:14:58,160 --> 00:15:01,120
the order that they're listed there

328
00:14:59,759 --> 00:15:02,440
right so you can control the order a

329
00:15:01,120 --> 00:15:06,120
little

330
00:15:02,440 --> 00:15:10,920
bit if you have links from your work

331
00:15:06,120 --> 00:15:13,880
items to get repos then um you will need

332
00:15:10,920 --> 00:15:16,959
to have those links fixed so that in the

333
00:15:13,880 --> 00:15:20,240
new system um they will match up it's

334
00:15:16,959 --> 00:15:23,199
worth noting that we only fix the work

335
00:15:20,240 --> 00:15:25,079
item connection to the git repo we don't

336
00:15:23,199 --> 00:15:30,279
fix the git repo connection to the work

337
00:15:25,079 --> 00:15:32,800
item so in your git uh permit text uh

338
00:15:30,279 --> 00:15:34,839
you might have IDs or work items that no

339
00:15:32,800 --> 00:15:38,560
longer exist they're not links it's kind

340
00:15:34,839 --> 00:15:40,639
of invalid it's just text but uh um the

341
00:15:38,560 --> 00:15:42,880
link from the work item to the git

342
00:15:40,639 --> 00:15:45,880
commit will be fixed with the tool so if

343
00:15:42,880 --> 00:15:48,079
you've changed the name of the git repo

344
00:15:45,880 --> 00:15:51,040
um you just create a name list of name

345
00:15:48,079 --> 00:15:53,759
value mappings in here similar to the

346
00:15:51,040 --> 00:15:57,199
language map right uh and have the

347
00:15:53,759 --> 00:16:00,040
original G repo and the target G repo um

348
00:15:57,199 --> 00:16:02,240
under here um at only you only need it

349
00:16:00,040 --> 00:16:04,279
if you've changed the name of your git

350
00:16:02,240 --> 00:16:06,560
repo during the migration if it's the

351
00:16:04,279 --> 00:16:08,880
same name on both sides doesn't matter

352
00:16:06,560 --> 00:16:13,519
you don't have to do anything in there

353
00:16:08,880 --> 00:16:16,639
okay so then uh the main uh body in here

354
00:16:13,519 --> 00:16:18,800
is the processor that's the bit that's

355
00:16:16,639 --> 00:16:21,519
got all the goens for actually doing the

356
00:16:18,800 --> 00:16:24,399
migration and we're actually pretty

357
00:16:21,519 --> 00:16:26,680
close to being able to run a migration

358
00:16:24,399 --> 00:16:29,639
at the moment so we've set up the the

359
00:16:26,680 --> 00:16:31,800
connection and and then in here uh we

360
00:16:29,639 --> 00:16:35,880
have the the the migration the important

361
00:16:31,800 --> 00:16:38,399
bits are what type of processor it is

362
00:16:35,880 --> 00:16:40,680
and then you've got your work item query

363
00:16:38,399 --> 00:16:42,920
bit here that's one of the most

364
00:16:40,680 --> 00:16:45,240
important uh sections here we're going

365
00:16:42,920 --> 00:16:47,600
to run into a few problems when we do

366
00:16:45,240 --> 00:16:49,199
our migration we're going to fix them in

367
00:16:47,600 --> 00:16:51,040
here uh so I can show you what that

368
00:16:49,199 --> 00:16:54,720
looks like so what I'm going to do is

369
00:16:51,040 --> 00:16:58,480
just show you this uh this query so in

370
00:16:54,720 --> 00:17:00,199
this query here you can see it excludes

371
00:16:58,480 --> 00:17:03,040
certain work item types these are work

372
00:17:00,199 --> 00:17:06,360
item types that we do not migrate at

373
00:17:03,040 --> 00:17:08,400
this point using this tool um there are

374
00:17:06,360 --> 00:17:10,480
things you can do with shared steps and

375
00:17:08,400 --> 00:17:12,480
shared parameters uh but that is

376
00:17:10,480 --> 00:17:14,079
definitely more advanced feedback

377
00:17:12,480 --> 00:17:15,880
requests test plans and test Suites

378
00:17:14,079 --> 00:17:17,520
should never be migrated with the work

379
00:17:15,880 --> 00:17:20,799
item migration processor there's a

380
00:17:17,520 --> 00:17:24,319
separate tool um for for for doing that

381
00:17:20,799 --> 00:17:28,120
stuff so in here uh this is this bit at

382
00:17:24,319 --> 00:17:30,080
the front um and Clos date equals

383
00:17:28,120 --> 00:17:32,840
nothing means that it will only migrate

384
00:17:30,080 --> 00:17:35,240
things that aren't closed uh but I can

385
00:17:32,840 --> 00:17:37,039
just delete that and I will just not

386
00:17:35,240 --> 00:17:38,840
migrate those types of work items

387
00:17:37,039 --> 00:17:41,200
everything else will come across that's

388
00:17:38,840 --> 00:17:42,679
basically everything uh this is great if

389
00:17:41,200 --> 00:17:45,000
you have a really big migration if

390
00:17:42,679 --> 00:17:46,360
you've got more than 10,000 Things uh

391
00:17:45,000 --> 00:17:48,360
that come back from your query you're

392
00:17:46,360 --> 00:17:51,360
going to get an error um and what you're

393
00:17:48,360 --> 00:17:53,880
going to have to do is shape your query

394
00:17:51,360 --> 00:17:57,320
so that you bring back chunks of smaller

395
00:17:53,880 --> 00:18:00,840
than 10,000 work items um so you might

396
00:17:57,320 --> 00:18:03,679
do that with date rangy p uh uh you know

397
00:18:00,840 --> 00:18:05,840
let's migrate everything that's that's

398
00:18:03,679 --> 00:18:07,679
uh been changed in the last 90 days

399
00:18:05,840 --> 00:18:11,640
migrate everything that's been changed

400
00:18:07,679 --> 00:18:15,840
between 19 120 days and then keep making

401
00:18:11,640 --> 00:18:18,559
those chunks uh in order to migrate it

402
00:18:15,840 --> 00:18:22,240
across

403
00:18:18,559 --> 00:18:23,679
um and yeah so that's that's it we've

404
00:18:22,240 --> 00:18:27,240
set up our query we've set up our

405
00:18:23,679 --> 00:18:29,000
connection uh we should be good to go so

406
00:18:27,240 --> 00:18:32,039
I'm going to run the migration so I'm

407
00:18:29,000 --> 00:18:34,720
going to switch back to my codes there

408
00:18:32,039 --> 00:18:38,280
we go and what we're going to do is

409
00:18:34,720 --> 00:18:40,120
we're going to do devops

410
00:18:38,280 --> 00:18:43,600
migration

411
00:18:40,120 --> 00:18:49,640
execute uh minus C for the for the

412
00:18:43,600 --> 00:18:49,640
config file and it's c m um and

413
00:18:52,159 --> 00:18:59,760
it's is it Jason I actually can't

414
00:18:55,799 --> 00:19:00,640
remember what is that configuration jent

415
00:18:59,760 --> 00:19:04,200
there we

416
00:19:00,640 --> 00:19:07,760
go so I'm going to run

417
00:19:04,200 --> 00:19:09,880
that there we go so it's loaded the file

418
00:19:07,760 --> 00:19:11,080
and it's done nothing so this is the

419
00:19:09,880 --> 00:19:13,120
first thing that will happen when you

420
00:19:11,080 --> 00:19:15,520
try and run it because you have

421
00:19:13,120 --> 00:19:18,360
forgotten something uh in the config

422
00:19:15,520 --> 00:19:21,080
file you'll notice that it has processor

423
00:19:18,360 --> 00:19:23,520
enabled equals false we need to change

424
00:19:21,080 --> 00:19:27,559
that through for it to do anything uh

425
00:19:23,520 --> 00:19:31,960
this is so that you can actually um you

426
00:19:27,559 --> 00:19:34,280
can set this up so that um you can have

427
00:19:31,960 --> 00:19:36,720
multiple configs in there and then

428
00:19:34,280 --> 00:19:39,679
enable and disable them as needed I tend

429
00:19:36,720 --> 00:19:41,880
to have multiple files um just to make

430
00:19:39,679 --> 00:19:46,720
things less confusing uh but now going

431
00:19:41,880 --> 00:19:46,720
to go back and run it so this

432
00:19:48,080 --> 00:19:53,919
boom okay so now it's you can see oh

433
00:19:51,520 --> 00:19:56,679
it's went quite quickly there and I got

434
00:19:53,919 --> 00:19:58,360
an unhandled exception I maybe messed

435
00:19:56,679 --> 00:20:00,640
something up so I will need to check

436
00:19:58,360 --> 00:20:00,640
that

437
00:20:04,720 --> 00:20:09,550
so it connected

438
00:20:08,320 --> 00:20:10,799
here

439
00:20:09,550 --> 00:20:15,520
[Music]

440
00:20:10,799 --> 00:20:18,400
to the source Grant it then it tried to

441
00:20:15,520 --> 00:20:22,320
connect to the

442
00:20:18,400 --> 00:20:22,320
target with access

443
00:20:23,240 --> 00:20:30,120
token and then I got access

444
00:20:26,039 --> 00:20:32,720
granted and oh look what I did

445
00:20:30,120 --> 00:20:35,880
see there we go what I did was I forgot

446
00:20:32,720 --> 00:20:39,120
to update the project name always

447
00:20:35,880 --> 00:20:42,960
something that Martin does that things

448
00:20:39,120 --> 00:20:46,720
up there we go let's go back to so it's

449
00:20:42,960 --> 00:20:48,440
migration Target 3 was our empty empty

450
00:20:46,720 --> 00:20:51,600
project there it is Market migration

451
00:20:48,440 --> 00:20:52,760
Target three so there we go I forgot to

452
00:20:51,600 --> 00:20:57,320
update

453
00:20:52,760 --> 00:20:59,360
that so clear there we go let's run it

454
00:20:57,320 --> 00:21:01,880
again and see what happens

455
00:20:59,360 --> 00:21:02,600
so connected to the source connected to

456
00:21:01,880 --> 00:21:05,559
the

457
00:21:02,600 --> 00:21:08,640
Target um and then it's doing a node

458
00:21:05,559 --> 00:21:11,080
migration so it's creating the area and

459
00:21:08,640 --> 00:21:14,159
iteration nodes in the Target all of

460
00:21:11,080 --> 00:21:18,440
these little things here um and they

461
00:21:14,159 --> 00:21:21,320
have to match that's we use a a thing um

462
00:21:18,440 --> 00:21:22,960
called rules

463
00:21:21,320 --> 00:21:25,840
overrides can't remember what it's

464
00:21:22,960 --> 00:21:29,640
called by rules bypass we bypass the

465
00:21:25,840 --> 00:21:31,440
rules engine um which means that uh all

466
00:21:29,640 --> 00:21:33,279
of the areas and iterations that are on

467
00:21:31,440 --> 00:21:35,960
the work items must exist so the first

468
00:21:33,279 --> 00:21:38,080
thing we do is we go through if I make

469
00:21:35,960 --> 00:21:40,880
that smaller there we go uh we go

470
00:21:38,080 --> 00:21:43,600
through and this is uh checking and

471
00:21:40,880 --> 00:21:45,720
validating all of the areas and

472
00:21:43,600 --> 00:21:47,679
iterations that are in the source and

473
00:21:45,720 --> 00:21:52,960
checking that they're in and valid in

474
00:21:47,679 --> 00:21:55,080
the Target okay um but what we also do

475
00:21:52,960 --> 00:21:57,480
is after we've loaded the work items and

476
00:21:55,080 --> 00:22:00,440
you see there's 10 work items we

477
00:21:57,480 --> 00:22:03,159
actually go through the full history of

478
00:22:00,440 --> 00:22:06,039
all of the work items and we pull out

479
00:22:03,159 --> 00:22:08,080
all the area and iteration paths and we

480
00:22:06,039 --> 00:22:11,080
check that they all

481
00:22:08,080 --> 00:22:12,880
exist okay we check that they all exist

482
00:22:11,080 --> 00:22:14,919
because in the history there's two

483
00:22:12,880 --> 00:22:16,960
things that might have happened uh you

484
00:22:14,919 --> 00:22:19,440
might have an area or iteration path

485
00:22:16,960 --> 00:22:21,360
that's from a previous project if

486
00:22:19,440 --> 00:22:23,000
somebody has moved a work item from one

487
00:22:21,360 --> 00:22:25,480
project to another only happens in is

488
00:22:23,000 --> 00:22:27,840
your devops but it's possible and the

489
00:22:25,480 --> 00:22:30,120
other issue is that you might have an

490
00:22:27,840 --> 00:22:33,080
area or it ation path that has

491
00:22:30,120 --> 00:22:35,200
subsequently been deleted right so then

492
00:22:33,080 --> 00:22:37,840
it doesn't exist anymore in the source

493
00:22:35,200 --> 00:22:40,360
so when we create the main set it

494
00:22:37,840 --> 00:22:41,640
doesn't exist so what we're what we're

495
00:22:40,360 --> 00:22:43,799
going to have to do is we're going to

496
00:22:41,640 --> 00:22:48,760
have to create a mapping for these the

497
00:22:43,799 --> 00:22:52,559
system will stop and say the missing uh

498
00:22:48,760 --> 00:22:54,799
um missing iteration uh there there's

499
00:22:52,559 --> 00:22:57,559
one that is missing that we need to deal

500
00:22:54,799 --> 00:22:59,200
with actually there's two right cuz what

501
00:22:57,559 --> 00:23:03,279
it's what it's actually done here is

502
00:22:59,200 --> 00:23:05,000
it's created these two um which it

503
00:23:03,279 --> 00:23:07,559
didn't didn't exist before so it's

504
00:23:05,000 --> 00:23:09,400
generated them on the fly but we're

505
00:23:07,559 --> 00:23:11,520
still missing this one called Sky Point

506
00:23:09,400 --> 00:23:13,760
Cloud because it doesn't recognize what

507
00:23:11,520 --> 00:23:16,760
to do with it right it's from a older

508
00:23:13,760 --> 00:23:19,039
older project uh so if I open up work

509
00:23:16,760 --> 00:23:22,480
item

510
00:23:19,039 --> 00:23:25,200
414 in here so if I just go 414 it

511
00:23:22,480 --> 00:23:26,640
should let me just oh I might need to go

512
00:23:25,200 --> 00:23:29,720
to the source

513
00:23:26,640 --> 00:23:31,840
project source

514
00:23:29,720 --> 00:23:35,080
414 there it

515
00:23:31,840 --> 00:23:36,640
is so here's 414 and you can see well

516
00:23:35,080 --> 00:23:39,559
looks like it's got perfectly valid

517
00:23:36,640 --> 00:23:41,120
iterations but if I go in here and all

518
00:23:39,559 --> 00:23:43,559
the way back to the past you'll see that

519
00:23:41,120 --> 00:23:46,559
the team project that it was created in

520
00:23:43,559 --> 00:23:48,640
was skypoint Cloud that is not this

521
00:23:46,559 --> 00:23:50,720
project this is migration source so it's

522
00:23:48,640 --> 00:23:55,640
been moved from one project to another

523
00:23:50,720 --> 00:23:58,120
but that data is still in the history

524
00:23:55,640 --> 00:24:00,440
okay so it's had history and then it's

525
00:23:58,120 --> 00:24:03,120
been changed and moved to this this

526
00:24:00,440 --> 00:24:05,440
project so we need to go deal with that

527
00:24:03,120 --> 00:24:07,320
in the config so the config has been

528
00:24:05,440 --> 00:24:11,039
helpful and just said here's the missing

529
00:24:07,320 --> 00:24:13,120
thing you need to add um so I'm going to

530
00:24:11,039 --> 00:24:16,039
grab that because that's what we need to

531
00:24:13,120 --> 00:24:18,760
create and go into the config so down in

532
00:24:16,039 --> 00:24:20,720
the config under the processor uh you've

533
00:24:18,760 --> 00:24:21,720
got area maps and iteration Maps I'm

534
00:24:20,720 --> 00:24:23,360
going to give you some secret

535
00:24:21,720 --> 00:24:28,720
information as well that you need to

536
00:24:23,360 --> 00:24:28,720
need to add so effectively we have

537
00:24:28,799 --> 00:24:34,919
an iteration map that we need to add for

538
00:24:32,120 --> 00:24:40,159
this text right we want to match this

539
00:24:34,919 --> 00:24:41,640
text and map it to uh to something else

540
00:24:40,159 --> 00:24:45,960
uh so I'm going to give you some Secret

541
00:24:41,640 --> 00:24:48,360
Sauce first is that um in Jason you need

542
00:24:45,960 --> 00:24:50,039
to escape slashes that's why that's

543
00:24:48,360 --> 00:24:53,480
doing that weird underline so if I put

544
00:24:50,039 --> 00:24:56,600
another slash in we've escaped it uh but

545
00:24:53,480 --> 00:24:59,080
because this left hand side is a regular

546
00:24:56,600 --> 00:25:02,760
expression uh we need to add

547
00:24:59,080 --> 00:25:05,840
we need to escape the Escape slashes so

548
00:25:02,760 --> 00:25:08,480
we need another two slashes to escape so

549
00:25:05,840 --> 00:25:11,240
when this goes through uh the Json it

550
00:25:08,480 --> 00:25:13,159
will turn into two slashes uh to go into

551
00:25:11,240 --> 00:25:17,200
the r x and the r x will turn it into

552
00:25:13,159 --> 00:25:20,240
one slash for it matching um I know

553
00:25:17,200 --> 00:25:23,399
Madness but there you go um and what we

554
00:25:20,240 --> 00:25:26,159
want to do is we only you know we might

555
00:25:23,399 --> 00:25:29,279
have an iteration path that has skyo

556
00:25:26,159 --> 00:25:33,240
cloud in it like old project SL

557
00:25:29,279 --> 00:25:35,159
something/ skypoint cloud/ Sprint one

558
00:25:33,240 --> 00:25:38,679
and that would match that so just to

559
00:25:35,159 --> 00:25:41,080
protect ourselves it's better to put a

560
00:25:38,679 --> 00:25:43,240
hat at where you want the start of the

561
00:25:41,080 --> 00:25:45,760
string IE this has to be at the

562
00:25:43,240 --> 00:25:48,480
beginning skyo cloud and then you can

563
00:25:45,760 --> 00:25:50,600
put a dollar at the end to say that is

564
00:25:48,480 --> 00:25:53,200
the end of the string don't match

565
00:25:50,600 --> 00:25:57,120
anything after that so we only match

566
00:25:53,200 --> 00:26:00,840
this exact text and then our uh Target

567
00:25:57,120 --> 00:26:02,360
project is is migration Target three so

568
00:26:00,840 --> 00:26:04,760
what we where we want it to go is

569
00:26:02,360 --> 00:26:07,799
migration Target three we need to escape

570
00:26:04,760 --> 00:26:11,200
that slash and then Sprint Sprint one

571
00:26:07,799 --> 00:26:14,320
maybe I guess it could be uh uh Sprint

572
00:26:11,200 --> 00:26:15,880
one let's check uh so

573
00:26:14,320 --> 00:26:19,279
migration

574
00:26:15,880 --> 00:26:19,279
Target Target

575
00:26:20,360 --> 00:26:26,000
three let's go

576
00:26:23,000 --> 00:26:27,880
project iterations H there's a Sprint

577
00:26:26,000 --> 00:26:29,840
and there's an iteration that's all

578
00:26:27,880 --> 00:26:33,200
messed up but you know that's what there

579
00:26:29,840 --> 00:26:36,120
is uh so we'll put it in Sprint one and

580
00:26:33,200 --> 00:26:38,960
then just to give you a super secret

581
00:26:36,120 --> 00:26:41,320
thing there's a a bug at the moment

582
00:26:38,960 --> 00:26:45,840
where it doesn't

583
00:26:41,320 --> 00:26:48,760
list the root as a problem and you'll uh

584
00:26:45,840 --> 00:26:52,440
if you remember from uh viewing the

585
00:26:48,760 --> 00:26:55,559
history uh you'll note that the area

586
00:26:52,440 --> 00:26:58,399
path was also skypoint Cloud so we

587
00:26:55,559 --> 00:27:02,399
actually need to match just sky High

588
00:26:58,399 --> 00:27:06,200
Point Cloud on its own and map it uh to

589
00:27:02,399 --> 00:27:08,600
migration Target three for the area maps

590
00:27:06,200 --> 00:27:11,039
Okay so you just need to remember uh at

591
00:27:08,600 --> 00:27:13,880
the moment that if you're doing a a

592
00:27:11,039 --> 00:27:16,799
project to project map um sorry a

593
00:27:13,880 --> 00:27:19,399
project rename or change then you need

594
00:27:16,799 --> 00:27:24,720
to move these in

595
00:27:19,399 --> 00:27:28,440
okay uh so now if I go back and run this

596
00:27:24,720 --> 00:27:32,799
migration you'll see it will

597
00:27:28,440 --> 00:27:32,799
skip past um

598
00:27:33,880 --> 00:27:37,760
that there's loading the work items it's

599
00:27:36,640 --> 00:27:40,880
getting a

600
00:27:37,760 --> 00:27:43,399
list it's going to check it

601
00:27:40,880 --> 00:27:45,000
twice there we go now it's migrating

602
00:27:43,399 --> 00:27:47,360
work items so it's iterating through

603
00:27:45,000 --> 00:27:50,399
each of the work items creating them we

604
00:27:47,360 --> 00:27:52,440
iterate through each work item in turn

605
00:27:50,399 --> 00:27:54,840
let me make that smaller so makes looks

606
00:27:52,440 --> 00:27:57,159
nicer uh we work iterate through each

607
00:27:54,840 --> 00:28:00,240
work item in turn so when you're doing

608
00:27:57,159 --> 00:28:02,440
work if work item a links to work Item B

609
00:28:00,240 --> 00:28:03,679
we're going to process work item a first

610
00:28:02,440 --> 00:28:05,960
and we're not going to be able to create

611
00:28:03,679 --> 00:28:09,519
the links you'll see on the first work

612
00:28:05,960 --> 00:28:13,039
item it will actually usually say uh you

613
00:28:09,519 --> 00:28:16,000
know migrating link skip skip skip right

614
00:28:13,039 --> 00:28:18,279
that's absolutely fine because the other

615
00:28:16,000 --> 00:28:19,720
side the target side doesn't exist yet

616
00:28:18,279 --> 00:28:23,559
the target work item has not been

617
00:28:19,720 --> 00:28:27,399
migrated yet but as it goes through um

618
00:28:23,559 --> 00:28:30,360
so you'll see skips and then as we go

619
00:28:27,399 --> 00:28:32,360
further down will start to see creates

620
00:28:30,360 --> 00:28:34,159
right it's going to create them so when

621
00:28:32,360 --> 00:28:36,960
it creates the other side of the link

622
00:28:34,159 --> 00:28:38,919
it's going to link it back together and

623
00:28:36,960 --> 00:28:41,240
if I go down to the bottom it's probably

624
00:28:38,919 --> 00:28:43,640
pretty close to finished it is finished

625
00:28:41,240 --> 00:28:48,679
so we have just migrated all the work

626
00:28:43,640 --> 00:28:50,559
items and uh links uh for those those

627
00:28:48,679 --> 00:28:53,559
work items and we did it fairly quickly

628
00:28:50,559 --> 00:28:56,000
it took 48 seconds there we go so let's

629
00:28:53,559 --> 00:28:59,360
take a look at what we what we created

630
00:28:56,000 --> 00:29:02,840
so when our migration Target

631
00:28:59,360 --> 00:29:05,480
I'm going to look load up work items

632
00:29:02,840 --> 00:29:07,120
um migration Target three I'm pretty

633
00:29:05,480 --> 00:29:09,480
sure that's what I called it so let's

634
00:29:07,120 --> 00:29:09,480
have a

635
00:29:11,000 --> 00:29:18,640
look there we go they are there it was

636
00:29:13,720 --> 00:29:22,480
just a caching issue if I go back can I

637
00:29:18,640 --> 00:29:25,799
uh there go here are the work items uh

638
00:29:22,480 --> 00:29:28,760
that we just created uh you can see

639
00:29:25,799 --> 00:29:31,240
there's the one that was moved from skyo

640
00:29:28,760 --> 00:29:33,240
cloud and in the history all the way

641
00:29:31,240 --> 00:29:35,960
back in the source it now just says

642
00:29:33,240 --> 00:29:38,399
migration uh three right because we did

643
00:29:35,960 --> 00:29:40,720
that we did that core

644
00:29:38,399 --> 00:29:43,600
mapping um so we got all the work items

645
00:29:40,720 --> 00:29:46,600
if I go to the

646
00:29:43,600 --> 00:29:50,159
backlog close that you able to see that

647
00:29:46,600 --> 00:29:53,399
it's uh linking linking things in if I

648
00:29:50,159 --> 00:29:56,120
change this to look at appearance as

649
00:29:53,399 --> 00:29:58,919
well you'll see there's the feature the

650
00:29:56,120 --> 00:30:01,679
backlog item and the task

651
00:29:58,919 --> 00:30:05,679
coming in as well and we did have some

652
00:30:01,679 --> 00:30:10,200
other work items on there right we had

653
00:30:05,679 --> 00:30:11,840
uh ppis we have uh some tasks and stuff

654
00:30:10,200 --> 00:30:14,679
so we're not we're not particularly

655
00:30:11,840 --> 00:30:17,640
worried and there's all the stuff

656
00:30:14,679 --> 00:30:19,919
there so there you go we just

657
00:30:17,640 --> 00:30:23,159
migrated uh our

658
00:30:19,919 --> 00:30:25,760
first set of work items uh so this

659
00:30:23,159 --> 00:30:27,559
operated fairly fairly quickly um it

660
00:30:25,760 --> 00:30:31,440
brought them all across if you want to

661
00:30:27,559 --> 00:30:33,360
run it again uh you can run it again um

662
00:30:31,440 --> 00:30:35,519
and what it will do is it will go checks

663
00:30:33,360 --> 00:30:37,279
everything twice thinking about how we

664
00:30:35,519 --> 00:30:38,919
might resolve that but it checks

665
00:30:37,279 --> 00:30:41,320
everything

666
00:30:38,919 --> 00:30:45,080
twice um so it's going to go through

667
00:30:41,320 --> 00:30:46,799
each of the it's actually not going to

668
00:30:45,080 --> 00:30:48,679
check all of those work items again it's

669
00:30:46,799 --> 00:30:52,600
just going to say that all all work

670
00:30:48,679 --> 00:30:54,919
items were found but what will happen is

671
00:30:52,600 --> 00:30:59,919
at some point somebody will go to the

672
00:30:54,919 --> 00:30:59,919
source okay and they'll go on to the

673
00:31:00,039 --> 00:31:04,799
Board and

674
00:31:01,880 --> 00:31:07,960
they'll drop that item from resolved to

675
00:31:04,799 --> 00:31:10,279
active right because it CU it regressed

676
00:31:07,960 --> 00:31:14,360
so now when we run this we actually want

677
00:31:10,279 --> 00:31:16,720
it to um migrate that extra change but

678
00:31:14,360 --> 00:31:20,320
it will not because at the moment we've

679
00:31:16,720 --> 00:31:23,159
got a a a thing that will remove all

680
00:31:20,320 --> 00:31:25,440
found work items so what you need to do

681
00:31:23,159 --> 00:31:28,240
is go in here filter work items that

682
00:31:25,440 --> 00:31:31,360
already exist in Target

683
00:31:28,240 --> 00:31:33,240
false once you've turned that to false

684
00:31:31,360 --> 00:31:35,760
uh let me do

685
00:31:33,240 --> 00:31:39,399
clear rerun the

686
00:31:35,760 --> 00:31:41,120
migration and what it will do is instead

687
00:31:39,399 --> 00:31:44,919
just going to check it twice again

688
00:31:41,120 --> 00:31:47,120
instead of just not trying to run all

689
00:31:44,919 --> 00:31:49,000
those work items it will run through

690
00:31:47,120 --> 00:31:51,600
each of the work items it will check the

691
00:31:49,000 --> 00:31:53,360
number of revisions and it's found one

692
00:31:51,600 --> 00:31:56,120
work item that has one revision that

693
00:31:53,360 --> 00:31:59,039
needs to be updated and there you go it

694
00:31:56,120 --> 00:32:00,960
is moved that revision across it's going

695
00:31:59,039 --> 00:32:02,679
to check the links as well and make sure

696
00:32:00,960 --> 00:32:05,039
they're all up to date and it skips it

697
00:32:02,679 --> 00:32:06,840
cuz they're already existing um so it's

698
00:32:05,039 --> 00:32:10,600
checking every revision of every work

699
00:32:06,840 --> 00:32:14,440
item that it exists that it's correct uh

700
00:32:10,600 --> 00:32:19,080
um that all the links work so

701
00:32:14,440 --> 00:32:21,559
it will eventually find that work item

702
00:32:19,080 --> 00:32:24,840
there we go run the whole thing um and

703
00:32:21,559 --> 00:32:28,559
if I go back to so that was the source

704
00:32:24,840 --> 00:32:28,559
we go to the Target

705
00:32:29,120 --> 00:32:33,320
go to the board it should have moved

706
00:32:30,320 --> 00:32:36,600
across there you go it's now uh moved

707
00:32:33,320 --> 00:32:39,559
across so we rerun the migration uh well

708
00:32:36,600 --> 00:32:41,200
that's aoop oop there's a there there's

709
00:32:39,559 --> 00:32:43,960
a bug shouldn't do two of those but

710
00:32:41,200 --> 00:32:46,240
that's the different migration run that

711
00:32:43,960 --> 00:32:48,760
uh we can turn that off in the config uh

712
00:32:46,240 --> 00:32:51,399
but there's that additional change that

713
00:32:48,760 --> 00:32:54,200
came across we changed the state um and

714
00:32:51,399 --> 00:32:57,840
then it's adding this text which it

715
00:32:54,200 --> 00:33:01,440
shouldn't do but uh in here uh uh my

716
00:32:57,840 --> 00:33:03,720
migration comment F stay won't do that

717
00:33:01,440 --> 00:33:06,519
again it can be handy if you want to do

718
00:33:03,720 --> 00:33:09,720
it for the first run because in the

719
00:33:06,519 --> 00:33:12,399
actual work item um it creates a link

720
00:33:09,720 --> 00:33:14,360
back to the old work item so you can

721
00:33:12,399 --> 00:33:16,159
quite easily just click it and go oh

722
00:33:14,360 --> 00:33:17,679
what was the old work item again oh it

723
00:33:16,159 --> 00:33:21,240
was this one does it match yes it

724
00:33:17,679 --> 00:33:26,080
matches right um so people can find that

725
00:33:21,240 --> 00:33:28,519
so there you go that was um a pretty

726
00:33:26,080 --> 00:33:31,799
straightforward uh migration

727
00:33:28,519 --> 00:33:35,200
between two Azure devops projects moving

728
00:33:31,799 --> 00:33:35,200
the work items


