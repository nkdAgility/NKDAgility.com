post:
  title: Managing your Azure VM's with your Phone
  link: https://nkdagility.com/blog/managing-azure-vms-phone/
  pubDate: Wed, 28 Jan 2015 16:50:00 +0000
  creator: MrHinsh
  guid:
    _: http://nakedalmweb.wpengine.com/?p=11152
    $:
      isPermaLink: 'false'
  description: ''
  encoded:
  - "<p>I have been doing quite a bit of <a href=\"http://nkdagility.com/training/\">ALM Training</a> recently and have been trying to figure out how best to manage my training VM's.</p>\r\n<div class=\"bs-callout\">\r\n<p><a href=\"http://www.windowsphone.com/en-us/store/app/mobile-azure-manager/5fa3d0e0-181c-4d0b-ad2c-e5b08d4658b6\">Download Mobile Azure Manager from US Store</a></p>\r\n<p><a href=\"http://www.windowsphone.com/en-gb/store/app/mobile-azure-manager/5fa3d0e0-181c-4d0b-ad2c-e5b08d4658b6\">Download Mobile Azure Manager from UK store</a></p>\r\n</div>\r\n<p>In the last few months I have taught both the <a href=\"http://nkdagility.com/training/courses/managing-projects-microsoft-visual-studio-team-foundation-server-2013/\">Managing Projects with Microsoft Visual Studio Team Foundation Server 2013</a> and <a href=\"http://nkdagility.com/training/courses/tfs-2013-developer-fundamentals/\">TFS 2013 Developer Fundamentals</a> a number of times and this week was no exception. I was in Luton with an awesome customer getting their coders up to speed with the features in TFS 2013. For all of the ALM courses I <a href=\"http://nkdagility.com/creating-training-virtual-machines-azure/\">create training machines in Azure</a> based on the Microsoft provided all in one demo box. I have a number of PowerShell scripts for setting up, shutting down and starting up the VM's.</p>\r\n<p>However, at the end of my course I am usually heading to the airport and don’t sometimes have time to run the PowerShell required. You can only execute one command at a time and shutting down each VM takes a few minutes… with 7-14 VM's to shutdown, that can take some time.</p>\r\n<p><img style=\"background-image: none; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border: 0px;\" title=\"clip_image001\" src=\"https://nkdagility.com/wp-content/uploads/2015/01/clip_image0016.png\" alt=\"clip_image001\" width=\"1000\" height=\"593\" border=\"0\" /></p>\r\n<p>Managing your virtual machines and cloud services now becomes a piece of cake using the Mobile Azure Manager! Easily start and stop your Virtual Machines on the go and keep track of the virtual machines core information. Reducing your cloud services costs has never been easier before!</p>\r\n<p><img style=\"background-image: none; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border: 0px;\" title=\"clip_image002\" src=\"https://nkdagility.com/wp-content/uploads/2015/01/clip_image002.jpg\" alt=\"clip_image002\" width=\"334\" height=\"593\" border=\"0\" /></p>\r\n<p>I went searching for a solution and found the Mobile Azure Manager in the store. This is a fantastic app that does exactly what I need. You can manage individual virtual machines as well as whole Cloud Services. Indeed, you can create a groups. You start by adding a subscription, here is my default one above, and it shows some nice overview information for it. You can see that I had my default 20 cores increased to 64, which is for spinning up fast demo machines.</p>\r\n<p><img style=\"background-image: none; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border: 0px;\" title=\"clip_image003\" src=\"https://nkdagility.com/wp-content/uploads/2015/01/clip_image003.jpg\" alt=\"clip_image003\" width=\"334\" height=\"593\" border=\"0\" /></p>\r\n<p>If you hit Virtual Machines then you get a simple flat list of all of your VM's within that subscription. You can quickly, depending on your internet speed, head down that list and stop or start any one of your VM's. If you stop one it will be de-allocated, so you will get a new IP when they are started. The app also tries to have a go at calculating the cost. However I have found it to be inaccurate and have fed that back to the support team.</p>\r\n<p>The support team are awesome. I have had every one of my questions and issues dealt with quickly and efficiently.</p>\r\n<p><img style=\"background-image: none; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border: 0px;\" title=\"clip_image004\" src=\"https://nkdagility.com/wp-content/uploads/2015/01/clip_image004.jpg\" alt=\"clip_image004\" width=\"334\" height=\"593\" border=\"0\" /></p>\r\n<p>Your Cloud Services list is similar to your VM list, however each entry may represent more than one entity. When you start and stop at this level you need to be aware that you are stopping the whole thing. Fantastic if you have large groups of machines configured for training as I have.</p>\r\n<p><img style=\"background-image: none; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border: 0px;\" title=\"clip_image005\" src=\"https://nkdagility.com/wp-content/uploads/2015/01/clip_image005.jpg\" alt=\"clip_image005\" width=\"334\" height=\"593\" border=\"0\" /></p>\r\n<p>My favourite feature is the Groups. I had been creating multiple VM's in a single Cloud Service for training but I found that this makes it difficult to RDP to the machines. You effectively need to know the auto generated RDP port for each VM. This is because a single Cloud Service gets a single URL ( mycloudservice.cloudservice.com ) which means that you need to map ports to machines. Azure takes care of this complexity, but now you need to know the port for each VM rather than just the name of the Cloud Service.</p>\r\n<p>But if we create separate Cloud Services, and add a 3389 mapping, we now loose the single entity for stopping or deleting all of the VM's later. Groups to the rescue.</p>\r\n<p><img style=\"background-image: none; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border: 0px;\" title=\"clip_image006\" src=\"https://nkdagility.com/wp-content/uploads/2015/01/clip_image006.jpg\" alt=\"clip_image006\" width=\"334\" height=\"593\" border=\"0\" /></p>\r\n<p>They will even try to figure out what the machines contained within the group will cost you per hour. I believe that this figure is an order of magnitude out as these machines should cost me a $1 per day, not per hour. A small bug that I have reported.</p>\r\n<h3>Conclusion</h3>\r\n<p>This application is just perfect for what I am doing and I think if you have any azure assets it can be of use to you. If you are regularly stopping and starting machines or cloud services you can.</p>\r\n<p>I was able to turn all my D2 VM's that I used for a training session (7 machines) off on the way to the airport and saved more than the cost of the application.</p>"
  - ''
  post_id: '11152'
  post_date: '2015-01-28 16:50:00'
  post_date_gmt: '2015-01-28 16:50:00'
  post_modified: '2015-01-30 08:58:37'
  post_modified_gmt: '2015-01-30 08:58:37'
  comment_status: open
  ping_status: open
  post_name: managing-azure-vms-phone
  status: publish
  post_parent: '0'
  menu_order: '0'
  post_type: post
  post_password: ''
  is_sticky: '0'
  category: {}
  postmeta:
  - meta_key: _views_template
    meta_value: '0'
  - meta_key: _edit_last
    meta_value: '3'
  - meta_key: _wpas_done_all
    meta_value: '1'
  - meta_key: _wpbitly
    meta_value: http://nkdalm.net/1CHJ31k
  - meta_key: _pagelines_gallery_slider
    meta_value: 'off'
  - meta_key: _pagelines_quote
    meta_value: ''
  - meta_key: _pagelines_link
    meta_value: ''
  - meta_key: _pagelines_video_m4v
    meta_value: ''
  - meta_key: _pagelines_video_ogv
    meta_value: ''
  - meta_key: _pagelines_video_poster
    meta_value: ''
  - meta_key: _pagelines_video_embed
    meta_value: ''
  - meta_key: _pagelines_audio_mp3
    meta_value: ''
  - meta_key: _pagelines_audio_ogg
    meta_value: ''
  - meta_key: authorsure_include_css
    meta_value: ''
  - meta_key: _mab_post_meta
    meta_value: >-
      a:2:{s:15:"post-action-box";s:7:"default";s:25:"post-action-box-placement";s:6:"bottom";}
  - meta_key: _thumbnail_id
    meta_value: '4837'
  - meta_key: dsq_thread_id
    meta_value: '3454641279'
  - meta_key: _pl_karma
    meta_value: '0'
  - meta_key: _jetpack_related_posts_cache
    meta_value: >-
      a:1:{s:32:"8f6677c9d6b0f903e98ad32ec61f8deb";a:2:{s:7:"expires";i:1474885049;s:7:"payload";a:3:{i:0;a:1:{s:2:"id";i:11120;}i:1;a:1:{s:2:"id";i:10771;}i:2;a:1:{s:2:"id";i:11158;}}}}
  - meta_key: _wpghs_github_path
    meta_value: _posts/2015-01-28-managing-azure-vms-phone.md
  - meta_key: _sha
    meta_value: ''
  - meta_key: _wpml_media_has_media
    meta_value: '1'
  - meta_key: _tribe_ticket_capacity
    meta_value: '0'
  - meta_key: _tribe_ticket_version
    meta_value: 4.12.1.2
  - meta_key: ekit_post_views_count
    meta_value: '934'
  comment:
  - comment_id: '10508'
    comment_author: Graham Smith
    comment_author_email: graham.david.smith@gmail.com
    comment_author_url: ''
    comment_author_IP: 80.229.15.180
    comment_date: '2015-01-29 00:14:00'
    comment_date_gmt: '2015-01-29 00:14:00'
    comment_content: >-
      You can also use Azure Automation - my blog post
      (http://pleasereleaseme.net/use-azure-automation-to-shut-down-vms-automatically)
      has a walkthrough. You can then call this from PS: 


      Select-AzureSubscription $YourSubscriptionName

      start-AzureAutomationRunbook -AutomationAccountName $AutomationAccountName
      -Name $RunbookName


      Of course, you can also use PowerShell on mobile devices (see module six:
      http://www.microsoftvirtualacademy.com/training-courses/getting-started-with-powershell-3-0-jump-start).
      Ideal for the beach :)
    comment_approved: '1'
    comment_type: comment
    comment_parent: '0'
    comment_user_id: '0'
    commentmeta:
    - meta_key: dsq_parent_post_id
      meta_value: ''
    - meta_key: dsq_post_id
      meta_value: '1822529853'
  - comment_id: '10522'
    comment_author: Shawn C
    comment_author_email: shawn@cicoria.com
    comment_author_url: ''
    comment_author_IP: 108.35.107.32
    comment_date: '2015-01-29 13:16:00'
    comment_date_gmt: '2015-01-29 13:16:00'
    comment_content: >-
      For those of you in the US, the link is :
      http://www.windowsphone.com/en-us/store/app/mobile-azure-manager/5fa3d0e0-181c-4d0b-ad2c-e5b08d4658b6
    comment_approved: '1'
    comment_type: comment
    comment_parent: '0'
    comment_user_id: '0'
    commentmeta:
    - meta_key: dsq_parent_post_id
      meta_value: ''
    - meta_key: dsq_post_id
      meta_value: '1823388860'
  - comment_id: '10523'
    comment_author: Dew Drop &#8211; January 29, 2015 (#1943) | Morning Dew
    comment_author_email: ''
    comment_author_url: http://www.alvinashcraft.com/2015/01/29/dew-drop-january-29-2015-1943/
    comment_author_IP: 168.62.48.19
    comment_date: '2015-01-29 14:06:14'
    comment_date_gmt: '2015-01-29 14:06:14'
    comment_content: >-
      [&#8230;] Managing your Azure VM’s with your Phone (Martin Hinshelwood)
      [&#8230;]
    comment_approved: '1'
    comment_type: pingback
    comment_parent: '0'
    comment_user_id: '0'
    commentmeta:
    - meta_key: akismet_result
      meta_value: 'false'
    - meta_key: akismet_history
      meta_value: >-
        a:4:{s:4:"time";d:1422540374.422466;s:7:"message";s:28:"Akismet cleared
        this comment";s:5:"event";s:9:"check-ham";s:4:"user";s:0:"";}
    - meta_key: akismet_history
      meta_value: >-
        a:4:{s:4:"time";d:1423492697.018507;s:7:"message";s:46:"MrHinsh changed
        the comment status to
        approved";s:5:"event";s:15:"status-approved";s:4:"user";s:7:"MrHinsh";}
