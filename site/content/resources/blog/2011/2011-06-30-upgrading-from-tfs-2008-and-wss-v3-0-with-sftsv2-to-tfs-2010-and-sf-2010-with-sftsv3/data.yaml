post:
  title: >-
    Upgrading from TFS 2008 and WSS v3.0 with SfTSv2 to TFS 2010 and SF 2010
    with SfTSv3
  link: >-
    https://nkdagility.com/blog/upgrading-from-tfs-2008-and-wss-v3-0-with-sftsv2-to-tfs-2010-and-sf-2010-with-sftsv3/
  pubDate: Thu, 30 Jun 2011 15:00:00 +0000
  creator: MrHinsh
  guid:
    _: http://blog.hinshelwood.com/?p=3279
    $:
      isPermaLink: 'false'
  description: ''
  encoded:
  - "<p><a href=\"http://blog.hinshelwood.com/files/2011/05/VS2008Upgrade.gif\"><img style=\"background-image: none; border-right-width: 0px; margin: 0px 10px 10px 0px; padding-left: 0px; padding-right: 0px; display: inline; float: left; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px\" title=\"VS2008Upgrade\" border=\"0\" alt=\"VS2008Upgrade\" src=\"http://blog.hinshelwood.com/files/2011/05/VS2008Upgrade_thumb.gif\" width=\"240\" height=\"87\" /></a></p>  <p>I have been working with a rather large customer that have over 150GB in Team Foundation Server with over 10GB in SharePoint. They are also using the Scrum for Team System v2 (SfTSv2) Process template that is not supported under TFS 2010 so I need to upgrade those process templates to Scrum for Team System v3 (SfTSv3).</p>  <h4>Acknowledgements</h4>  <ul>   <li>Jullian Fitzgibbons - Jullian managed to figure out the SharePoint authentication issues that we were having </li> </ul>  <hr />  <p>I will be breaking this upgrade process into two parts:</p>  <ul>   <li>Upgrading the Applications      <ol>       <li><strong>Windows SharePoint Services 2007</strong> upgrade to <strong>SharePoint Foundation 2010</strong> </li>        <li><strong>Team Foundation Server 2008</strong> upgrade to <strong>Visual Studio 2010 Team Foundation Server</strong> </li>     </ol>   </li>    <li>Upgrading the Team Projects      <ol>       <li><strong>Scrum for Team System v2</strong> upgrade to <strong>Scrum for Team System v3</strong> </li>     </ol>   </li> </ul>  <p>The Server upgrade only happens once, but we need to run the Team Project for each of the the Team Projects that we want to move to a new Process Template. Although EMC has stated that SfTSv3 will be the last version that they will build it is the easiest migration route. When we do get to the stage of upgrading Team Foundation Server to the v.Next there will undoubtedly be many people needing to move from SfTSv3 to another supported Process Template. I am confident that at that time there will be a path from SfTSv3 to one of the other templates, most likely the Visual Studio Scrum v1.</p>  <h2>Upgrading the Server (13 hours)</h2>  <p>This common section represents all the work that relates</p>  <ol>   <li>     <h3>Migrate Data (~4 hours)</h3>      <p>This would be the least painful part of the migration if it were not for the large size of the databases.</p>      <ol>       <li>Backup Team Foundation server 2008 and Windows SharePoint Services 2007 Databases (1 hour) </li>        <li>Copy Team Foundation server 2008 and Windows SharePoint Services 2007 Databases to new server (3 hours) </li>     </ol>   </li>    <li>     <h3>Upgrade Windows SharePoint Services 2007 to SharePoint Foundation 2010 (~2 hours)</h3>      <p>Although I approach any SharePoint upgrade or even tweak with not just trepidation but outright fear everything could&#160; not have gone better. With the exception of needing to quickly get downtime to install Service Pack 2 for SharePoint 2007 there was very few issues.</p>      <p><em>Note: Make sure you have Service Pack 2 installed for SharePoint 2007</em></p>      <ol>       <li><strong>Upgrade SharePoint 2007 –&gt; 2010 (2 hours) </strong>          <pre class=\"brush: plain; collapse: true;\">Mount-SPContentDatabase -Name Tfs2_WSS_Content -DatabaseServer [servername] -WebApplication http://[servername] -Updateuserexperience</pre>\r\n\r\n        <p><strong>Figure: Code to run from the SharePoint Foundation 2010 PowerShell prompt</strong></p>\r\n\r\n        <p>&#160;</p>\r\n\r\n        <p><a href=\"http://blog.hinshelwood.com/files/2011/05/SNAGHTML5e35b1.png\"><img style=\"background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px\" title=\"SNAGHTML5e35b1\" border=\"0\" alt=\"SNAGHTML5e35b1\" src=\"http://blog.hinshelwood.com/files/2011/05/SNAGHTML5e35b1_thumb.png\" width=\"600\" height=\"202\" /></a></p>\r\n\r\n        <p><strong>Figure: Completed with errors</strong></p>\r\n\r\n        <p>&#160;</p>\r\n\r\n        <pre class=\"brush: plain; collapse: true;\">[powershell] [SPContentDatabaseSequence] [INFO] [5/6/2011 9:55:12 AM]: SPContentDatabase Name=Tfs_WSS_Content\r\n[powershell] [SPContentDatabaseSequence] [ERROR] [5/6/2011 9:55:12 AM]: Found 14 web(s) using missing web template 11254 (lcid: 1033) in ContentDatabase Tfs_WSS_Content.\r\n[powershell] [SPContentDatabaseSequence] [INFO] [5/6/2011 9:55:12 AM]: SPContentDatabase Name=Tfs_WSS_Content\r\n[powershell] [SPContentDatabaseSequence] [ERROR] [5/6/2011 9:55:12 AM]: The site definitions with Id 11254 is referenced in the database [Tfs_WSS_Content], but is not installed on the current farm. The missing site definition may cause upgrade to fail. Please install any solution which contains the site definition and restart upgrade if necessary.\r\n[powershell] [SPContentDatabaseSequence] [INFO] [5/6/2011 9:55:12 AM]: SPContentDatabase Name=Tfs_WSS_Content\r\n[powershell] [SPContentDatabaseSequence] [ERROR] [5/6/2011 9:55:12 AM]: Found a missing feature Id = [367b94a9-4a15-42ba-b4a2-32420363e018]\r\n[powershell] [SPContentDatabaseSequence] [INFO] [5/6/2011 9:55:12 AM]: SPContentDatabase Name=Tfs_WSS_Content\r\n[powershell] [SPContentDatabaseSequence] [ERROR] [5/6/2011 9:55:12 AM]: The feature with Id 367b94a9-4a15-42ba-b4a2-32420363e018 is referenced in the database [Tfs_WSS_Content], but is not installed on the current farm. The missing feature may cause upgrade to fail. Please install any solution which contains the feature and restart upgrade if necessary.\r\n[powershell] [SPContentDatabaseSequence] [INFO] [5/6/2011 9:55:13 AM]: SPContentDatabase Name=Tfs_WSS_Content\r\n[powershell] [SPContentDatabaseSequence] [ERROR] [5/6/2011 9:55:13 AM]: Found a missing feature Id = [afce6e61-333a-475e-bc1f-b25a64dbc026]\r\n[powershell] [SPContentDatabaseSequence] [INFO] [5/6/2011 9:55:13 AM]: SPContentDatabase Name=Tfs_WSS_Content\r\n[powershell] [SPContentDatabaseSequence] [ERROR] [5/6/2011 9:55:13 AM]: The feature with Id afce6e61-333a-475e-bc1f-b25a64dbc026 is referenced in the database [Tfs_WSS_Content], but is not installed on the current farm. The missing feature may cause upgrade to fail. Please install any solution which contains the feature and restart upgrade if necessary.\r\n[powershell] [SPContentDatabaseSequence] [INFO] [5/6/2011 9:55:21 AM]: SPContentDatabase Name=Tfs_WSS_Content\r\n[powershell] [SPContentDatabaseSequence] [WARNING] [5/6/2011 9:55:21 AM]: File [SiteTemplatesSCRUMlistManager.aspx] is referenced [14] times in the database [Tfs_WSS_Content], but is not installed on the current farm. Please install any feature/solution which contains this file.\r\n[powershell] [SPContentDatabaseSequence] [INFO] [5/6/2011 9:55:21 AM]: SPContentDatabase Name=Tfs_WSS_Content\r\n[powershell] [SPContentDatabaseSequence] [WARNING] [5/6/2011 9:55:21 AM]: One or more setup files are referenced in the database [Tfs_WSS_Content], but are not installed on the current farm. Please install any feature or solution which contains these files.\r\n[powershell] [SPContentDatabaseSequence] [INFO] [5/6/2011 9:55:39 AM]: SPContentDatabase Name=Tfs_WSS_Content\r\n[powershell] [SPContentDatabaseSequence] [WARNING] [5/6/2011 9:55:39 AM]: WebPart class [44a6ed85-4b0d-5a64-dd04-daa9862c8293] is referenced [27] times in the database [Tfs_WSS_Content], but is not installed on the current farm. Please install any feature/solution which contains this web part.\r\n[powershell] [SPContentDatabaseSequence] [INFO] [5/6/2011 9:55:39 AM]: SPContentDatabase Name=Tfs_WSS_Content\r\n[powershell] [SPContentDatabaseSequence] [WARNING] [5/6/2011 9:55:39 AM]: One or more web parts are referenced in the database [Tfs_WSS_Content], but are not installed on the current farm. Please install any feature or solution which contains these web parts.\r\n[powershell] [SPContentDatabaseSequence] [INFO] [5/6/2011 9:55:39 AM]: SPContentDatabase Name=Tfs_WSS_Content\r\n[powershell] [SPContentDatabaseSequence] [WARNING] [5/6/2011 9:55:39 AM]: WebPart class [0b1269b1-e24e-690d-9a4f-1a6423a31303] is referenced [32] times in the database [Tfs_WSS_Content], but is not installed on the current farm. Please install any feature/solution which contains this web part.\r\n[powershell] [SPContentDatabaseSequence] [INFO] [5/6/2011 9:55:39 AM]: SPContentDatabase Name=Tfs_WSS_Content\r\n[powershell] [SPContentDatabaseSequence] [WARNING] [5/6/2011 9:55:39 AM]: One or more web parts are referenced in the database [Tfs_WSS_Content], but are not installed on the current farm. Please install any feature or solution which contains these web parts.\r\n[powershell] [SPContentDatabaseSequence] [INFO] [5/6/2011 9:55:39 AM]: SPContentDatabase Name=Tfs_WSS_Content\r\n[powershell] [SPContentDatabaseSequence] [WARNING] [5/6/2011 9:55:39 AM]: WebPart class [597af50c-a8a2-3001-353d-f1dbe7f37f95] is referenced [22] times in the database [Tfs_WSS_Content], but is not installed on the current farm. Please install any feature/solution which contains this web part.\r\n[powershell] [SPContentDatabaseSequence] [INFO] [5/6/2011 9:55:39 AM]: SPContentDatabase Name=Tfs_WSS_Content\r\n[powershell] [SPContentDatabaseSequence] [WARNING] [5/6/2011 9:55:39 AM]: One or more web parts are referenced in the database [Tfs_WSS_Content], but are not installed on the current farm. Please install any feature or solution which contains these web parts.\r\n[powershell] [SPContentDatabaseSequence] [INFO] [5/6/2011 9:55:39 AM]: SPContentDatabase Name=Tfs_WSS_Content\r\n[powershell] [SPContentDatabaseSequence] [WARNING] [5/6/2011 9:55:39 AM]: WebPart class [7e287d59-ae87-2432-e52a-6420e81ddc91] is referenced [3] times in the database [Tfs_WSS_Content], but is not installed on the current farm. Please install any feature/solution which contains this web part.\r\n[powershell] [SPContentDatabaseSequence] [INFO] [5/6/2011 9:55:39 AM]: SPContentDatabase Name=Tfs_WSS_Content\r\n[powershell] [SPContentDatabaseSequence] [WARNING] [5/6/2011 9:55:39 AM]: One or more web parts are referenced in the database [Tfs_WSS_Content], but are not installed on the current farm. Please install any feature or solution which contains these web parts.\r\n[powershell] [SPContentDatabaseSequence] [INFO] [5/6/2011 9:55:39 AM]: SPContentDatabase Name=Tfs_WSS_Content\r\n[powershell] [SPContentDatabaseSequence] [WARNING] [5/6/2011 9:55:39 AM]: WebPart class [530cf774-77de-679d-f9a3-de8e74999ba8] is referenced [11] times in the database [Tfs_WSS_Content], but is not installed on the current farm. Please install any feature/solution which contains this web part.\r\n[powershell] [SPContentDatabaseSequence] [INFO] [5/6/2011 9:55:39 AM]: SPContentDatabase Name=Tfs_WSS_Content\r\n[powershell] [SPContentDatabaseSequence] [WARNING] [5/6/2011 9:55:39 AM]: One or more web parts are referenced in the database [Tfs_WSS_Content], but are not installed on the current farm. Please install any feature or solution which contains these web parts.\r\n[powershell] [SPContentDatabaseSequence] [INFO] [5/6/2011 10:22:08 AM]: SPContentDatabase Name=Tfs_WSS_Content\r\n[powershell] [SPContentDatabaseSequence] [WARNING] [5/6/2011 10:22:08 AM]: WebTemplate ID 11254 (lcid: 1033), provisioned in ContentDatabase Tfs_WSS_Content, is missing.\r\n[powershell] [SPSiteWssSequence2] [INFO] [5/6/2011 10:22:24 AM]: SPSite Url=http://[servername]/Sites/[sitename]\r\n[powershell] [SPSiteWssSequence2] [WARNING] [5/6/2011 10:22:24 AM]: Feature could not be upgraded. Exception: Feature definition id 'afce6e61-333a-475e-bc1f-b25a64dbc026' could not be found.\r\n[powershell] [SPSiteWssSequence2] [INFO] [5/6/2011 10:23:24 AM]: SPSite Url=http://[servername]\r\n[powershell] [SPSiteWssSequence2] [WARNING] [5/6/2011 10:23:24 AM]: Feature could not be upgraded. Exception: Feature definition id '367b94a9-4a15-42ba-b4a2-32420363e018' could not be found.</pre>\r\n\r\n        <p><strong>Figure: The errors from SharePoint are immaterial</strong></p>\r\n\r\n        <p>&#160;</p>\r\n\r\n        <p>Although there were a lot of errors they are due to the TFS 2008 and SfTSv2 templates and components not being available. This is OK and we will be resetting all of the sites and removing all of the dead components.</p>\r\n\r\n        <p>&#160;</p>\r\n      </li>\r\n\r\n      <li><strong>Reset all imported sites to their site definitions </strong>\r\n\r\n        <p>Note: refer to <a href=\"http://blogs.msdn.com/b/jjameson/archive/2010/05/04/upgrade-team-foundation-server-2008-to-tfs-2010-and-sharepoint-server-2010.aspx\">Upgrade Team Foundation Server 2008 to TFS 2010 (and SharePoint Server 2010)</a> for all your upgrade needs</p>\r\n\r\n        <p>&#160;</p>\r\n      </li>\r\n\r\n      <li><strong>Change SharePoint Foundation 2010 from Kerberos (Default) to NTLM </strong>\r\n\r\n        <p>I was able to access the TFS / SharePoint sites from the server but not from another workstation. When I tried to access a SharePoint site I would get prompted for my credentials. After providing my credentials, I would get prompted again. Adding the server name to the intranet or trusted zones did not change the behaviour. It looks like by default SharePoint 2010 is set to use Kerberos authentication instead of NTLM. Changing to NTLM resolved the issue.</p>\r\n\r\n        <h4>Steps to Resolve</h4>\r\n\r\n        <ol>\r\n          <li>Open SharePoint 2010 Central Administration &gt; Security &gt; Specify Authentication Providers &gt; Default (zone). </li>\r\n\r\n          <li>IIS Authentication Settings&gt; Integrated Windows Authentication is checked &gt; Select: NTLM . </li>\r\n\r\n          <li>Reboot server. </li>\r\n        </ol>\r\n      </li>\r\n\r\n      <li>DONE - Upgrade Windows SharePoint Services 2007 to SharePoint Foundation 2010 </li>\r\n    </ol>\r\n  </li>\r\n\r\n  <li>\r\n    <h3>Try to install the SfTSv3 Solution</h3>\r\n\r\n    <p>You need to completely disregard any hope of being able to use the SharePoint site template that is provided for the SfTSv3 template. It does not and most likely will never support SharePoint 2010 so you are on your own. But if you do want to give it a go:</p>\r\n\r\n    <ol>\r\n      <li>\r\n        <h4><strong>Install the Solution</strong></h4>\r\n\r\n        <pre class=\"brush: plain; collapse: true;\">stsadm –o addsolution –filename ScrumForteamSystem.SharePoint.Dashboards.wsp</pre>\r\n\r\n        <p><strong>Figure:&#160; The command to install the custom site template</strong></p>\r\n      </li>\r\n\r\n      <li>\r\n        <h4><strong>Deploy the Solution</strong></h4>\r\n\r\n        <p>Because this solution is not designed for SharePoint 2010 it is not deployed by default and you need to do that manually.</p>\r\n\r\n        <ol>\r\n          <li>\r\n            <h5><strong>Select the solution that you want to deploy</strong></h5>\r\n\r\n            <p><a href=\"http://blog.hinshelwood.com/files/2011/05/image13.png\"><img style=\"background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px\" title=\"image\" border=\"0\" alt=\"image\" src=\"http://blog.hinshelwood.com/files/2011/05/image13_thumb.png\" width=\"600\" height=\"296\" /></a></p>\r\n\r\n            <p><strong>Figure: Once you get it in there it does not deploy by default</strong></p>\r\n          </li>\r\n\r\n          <li>\r\n            <h5><strong>Click “Deploy Solution” to choose how it is deployed</strong></h5>\r\n\r\n            <p><a href=\"http://blog.hinshelwood.com/files/2011/05/image7.png\"><img style=\"background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px\" title=\"image\" border=\"0\" alt=\"image\" src=\"http://blog.hinshelwood.com/files/2011/05/image7_thumb.png\" width=\"600\" height=\"309\" /></a></p>\r\n\r\n            <p><strong>Figure: You can manually deploy the solution</strong></p>\r\n          </li>\r\n\r\n          <li>\r\n            <h5><strong>Choose the deployment options</strong></h5>\r\n\r\n            <p>I always choose to deploy it now, but I am rarely using a server that is actively in production.</p>\r\n\r\n            <p><a href=\"http://blog.hinshelwood.com/files/2011/05/image101.png\"><img style=\"background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px\" title=\"image\" border=\"0\" alt=\"image\" src=\"http://blog.hinshelwood.com/files/2011/05/image101_thumb.png\" width=\"600\" height=\"375\" /></a></p>\r\n\r\n            <p><strong>Figure: Select a time to deploy it</strong></p>\r\n          </li>\r\n        </ol>\r\n      </li>\r\n\r\n      <li>\r\n        <h4><strong>Give up and delete the site</strong></h4>\r\n\r\n        <p>On you create a site using this template you will see that things do not really work correctly. The layout of the site is broken and it makes it difficult to navigate.</p>\r\n\r\n        <p><a href=\"http://blog.hinshelwood.com/files/2011/05/SNAGHTML4da989.png\"><img style=\"background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px\" title=\"SNAGHTML4da989\" border=\"0\" alt=\"SNAGHTML4da989\" src=\"http://blog.hinshelwood.com/files/2011/05/SNAGHTML4da989_thumb.png\" width=\"600\" height=\"355\" /></a></p>\r\n\r\n        <p><strong>Figure: The Site Template for SfTSv3 is just plain nasty</strong></p>\r\n      </li>\r\n\r\n      <li>\r\n        <h4><strong>Create a site using the TFS 2010 Agile definition</strong></h4>\r\n\r\n        <p>Luckily you can just delete this site and create a new site using the “TFS 2010 Agile Dashboard” instead of the “SCRUM” site template.</p>\r\n\r\n        <p><a href=\"http://blog.hinshelwood.com/files/2011/05/image71.png\"><img style=\"background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px\" title=\"image\" border=\"0\" alt=\"image\" src=\"http://blog.hinshelwood.com/files/2011/05/image71_thumb.png\" width=\"600\" height=\"364\" /></a></p>\r\n\r\n        <p><strong>Figure: Creating new blank sites is easy</strong></p>\r\n\r\n        <p><em>Note: Remember to configure the Team Project to point to this new SharePoint site</em></p>\r\n      </li>\r\n\r\n      <li>\r\n        <h4><strong>Change the Team Project to reference the new Portal correctly</strong></h4>\r\n\r\n        <p><a href=\"http://blog.hinshelwood.com/files/2011/05/image10.png\"><img style=\"background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px\" title=\"image\" border=\"0\" alt=\"image\" src=\"http://blog.hinshelwood.com/files/2011/05/image10_thumb.png\" width=\"600\" height=\"355\" /></a></p>\r\n\r\n        <p><strong>Figure: Change the portal that the Team Project points to</strong></p>\r\n      </li>\r\n\r\n      <li>\r\n        <h4><strong>Verify that you have a pretty portal</strong></h4>\r\n\r\n        <p><a href=\"http://blog.hinshelwood.com/files/2011/05/image4.png\"><img style=\"background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px\" title=\"image\" border=\"0\" alt=\"image\" src=\"http://blog.hinshelwood.com/files/2011/05/image4_thumb.png\" width=\"600\" height=\"537\" /></a></p>\r\n\r\n        <p><strong>Figure: Creating a portal with the default process is much preferable</strong></p>\r\n\r\n        <p>&#160;</p>\r\n      </li>\r\n\r\n      <li>DONE <strong>- Try to install the SfTSv3 Solution</strong> </li>\r\n    </ol>\r\n  </li>\r\n</ol>\r\n\r\n<p>&#160;</p>\r\n\r\n<ol>\r\n  <li>\r\n    <h3>Upgrade Team Foundation Server 2008 to Visual Studio 2010 Team Foundation Server (~6 hours)</h3>\r\n\r\n    <ol>\r\n      <li>\r\n        <h4><strong>Upgrade TFS 2008-&gt;2010 (7 hours for 150GB+) </strong></h4>\r\n\r\n        <pre class=\"brush: plain; collapse: true;\">tfsconfig import /sqlinstance:. /collectionName:MyNewCollection /confirmed</pre>\r\n\r\n        <p><strong>Figure: Importing the TFS 2008 databases is a simple command</strong></p>\r\n\r\n        <p><a href=\"http://blog.hinshelwood.com/files/2011/06/coffee-cup.jpg\"><img style=\"background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; float: right; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px\" title=\"coffee-cup\" border=\"0\" alt=\"coffee-cup\" align=\"right\" src=\"http://blog.hinshelwood.com/files/2011/06/coffee-cup_thumb.jpg\" width=\"43\" height=\"36\" /></a>This command takes a while to run. So get some sleep or just a coffee.</p>\r\n      </li>\r\n\r\n      <li>\r\n        <h4><strong>Enable SharePoint integration </strong></h4>\r\n\r\n        <p>Although SharePoint was automatically configured for use with the TFS server, there will be no integration configured for the newly created Team Project Collection.</p>\r\n\r\n        <p><em>Note: Follow <a href=\"http://blog.hinshelwood.com/archive/2010/05/03/integrate-sharepoint-2010-with-team-foundation-server-2010.aspx\">Integrate SharePoint 2010 with Team Foundation Server 2010</a> for full details</em></p>\r\n\r\n        <p><a href=\"http://blog.hinshelwood.com/files/2011/05/image131.png\"><img style=\"background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px\" title=\"image\" border=\"0\" alt=\"image\" src=\"http://blog.hinshelwood.com/files/2011/05/image131_thumb.png\" width=\"600\" height=\"398\" /></a></p>\r\n\r\n        <p><strong>Figure: SharePoint has already been configure for the server</strong></p>\r\n\r\n        <p><a href=\"http://blog.hinshelwood.com/files/2011/05/image16.png\"><img style=\"background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px\" title=\"image\" border=\"0\" alt=\"image\" src=\"http://blog.hinshelwood.com/files/2011/05/image16_thumb.png\" width=\"600\" height=\"398\" /></a></p>\r\n\r\n        <p><strong>Figure: There is no SharePoint location configured for the imported Team Project Collection</strong></p>\r\n\r\n        <p><a href=\"http://blog.hinshelwood.com/files/2011/05/image22.png\"><img style=\"background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px\" title=\"image\" border=\"0\" alt=\"image\" src=\"http://blog.hinshelwood.com/files/2011/05/image22_thumb.png\" width=\"600\" height=\"395\" /></a></p>\r\n\r\n        <p><strong>Figure: Set the location and then click OK</strong></p>\r\n\r\n        <p>You will be asked if you want to have a site created at this level and you should agree. This will create a new SharePoint site to hold all of the Team Project Portals that are created from now on. All of your old Portals will still be in the same location.</p>\r\n      </li>\r\n\r\n      <li>\r\n        <h4><strong>Enable Reporting Services Integration</strong></h4>\r\n\r\n        <p>Enabling Reporting Services is very similar to enabling SharePoint. Just follow the configuration options.</p>\r\n\r\n        <p><a href=\"http://blog.hinshelwood.com/files/2011/05/image25.png\"><img style=\"background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px\" title=\"image\" border=\"0\" alt=\"image\" src=\"http://blog.hinshelwood.com/files/2011/05/image25_thumb.png\" width=\"600\" height=\"398\" /></a></p>\r\n\r\n        <p><strong>Figure: Configure the default reporting services location</strong></p>\r\n      </li>\r\n\r\n      <li>\r\n        <h4><strong>Fix and relink SharePoint sites (~30 minutes)</strong></h4>\r\n\r\n        <p>Because we are also upgrading WSS 3.0 to SharePoint Foundation 2010 and we ran the command line import we need to relink all of the Team Project to their respective upgraded projects. Although it would be ideal to create NEW portals with the 2010 functionality and migrate the existing SharePoint data across this is not being done at this time as the customer does not have time. That said, there is you are just using documents then there is not really a lot to a migration. Create a new site, copy the document library's using UNC paths and Windows Explorer, then repoint your Team Project to the new site.</p>\r\n\r\n        <p>Note: I will be leaving it up to each team to upgrade as they like as while this is easy, it can be disruptive.</p>\r\n\r\n        <p><a href=\"http://blog.hinshelwood.com/files/2011/05/image31.png\"><img style=\"background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px\" title=\"image\" border=\"0\" alt=\"image\" src=\"http://blog.hinshelwood.com/files/2011/05/image31_thumb.png\" width=\"600\" height=\"355\" /></a></p>\r\n\r\n        <p><strong>Figure: Change the portal that the Team Project points to</strong></p>\r\n\r\n        <p><strong></strong></p>\r\n\r\n        <p><a href=\"http://blog.hinshelwood.com/files/2011/05/image34.png\"><img style=\"background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px\" title=\"image\" border=\"0\" alt=\"image\" src=\"http://blog.hinshelwood.com/files/2011/05/image34_thumb.png\" width=\"600\" height=\"337\" /></a></p>\r\n\r\n        <p><strong>Figure: Changing the connected portal is as easy as setting a new relative path</strong></p>\r\n\r\n        <p>&#160;</p>\r\n      </li>\r\n\r\n      <li>DONE - Upgrade Team Foundation Server 2008 to Visual Studio 2010 Team Foundation Server </li>\r\n    </ol>\r\n  </li>\r\n\r\n  <li>\r\n    <h3><strong>House keeping</strong></h3>\r\n\r\n    <ol>\r\n      <li>\r\n        <h4>Tfs Customisations (1 hour)</h4>\r\n\r\n        <p>I always tend to create a team Project to hold all of the</p>\r\n\r\n        <ol>\r\n          <li>Create new team project using SfTS called “TfsCustomisations” </li>\r\n\r\n          <li>Create folder “ScrumforTeamSystem/MAIN/Source/*” </li>\r\n\r\n          <li>Drop Process Template to folder and checkin </li>\r\n\r\n          <li>Modify to support upgraded template and checkin </li>\r\n        </ol>\r\n\r\n        <p><a href=\"http://blog.hinshelwood.com/files/2011/05/image28.png\"><img style=\"background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px\" title=\"image\" border=\"0\" alt=\"image\" src=\"http://blog.hinshelwood.com/files/2011/05/image28_thumb.png\" width=\"600\" height=\"326\" /></a></p>\r\n\r\n        <p><strong>Figure: TfsCustomisations has all of the Scripts and Process Template customisation for the upgrade and beyond</strong></p>\r\n      </li>\r\n\r\n      <li>\r\n        <h4>Clean unused customisations</h4>\r\n\r\n        <p>Before we begin with the upgrade of individual Team Projects there needs to be some clean up of the TFS server itself. You need to identify:</p>\r\n\r\n        <ol>\r\n          <li>\r\n            <h5><strong>Which Team Projects can be delete</strong></h5>\r\n\r\n            <p>You should be able to have the customer identify which Team Projects can immediately be deleted.</p>\r\n\r\n            <pre class=\"brush: ps; collapse: true;\">TfsDeleteProject /q /excludewss /force /collection:%tpc%  &quot;Team Project Name&quot;</pre>\r\n\r\n            <p><strong>Figure: Command to delete a Team Project from TFS</strong></p>\r\n\r\n            <p><em>Warning: This process is not reversible</em></p>\r\n          </li>\r\n\r\n          <li>\r\n            <h5><strong>Which Work Item Type Definitions can be deleted</strong></h5>\r\n\r\n            <p>This is a little more difficult, but if you provide the customer with a list of Work Item Types for each Team Project along with the number of instances of each Work Item Type there is they should be able to make that call as well.</p>\r\n\r\n            <pre class=\"brush: ps; collapse: true;\">witadmin destroywitd /collection:%tpc% /p:&quot;e;Team Project Name&quot;e; /n:&quot;e;Sprint Backlog Item&quot;e; /noprompt</pre>\r\n\r\n            <p><strong>Figure: Command to remove a Work Item Type from the TFS server</strong></p>\r\n\r\n            <p><em>Warning: This process is not reversible</em></p>\r\n\r\n            <p>There is not really any point in keeping a Work Item Type around if it is not going to be used. Remove any that you don't need.</p>\r\n          </li>\r\n\r\n          <li>\r\n            <h5><strong>Which Work Item Fields can be deleted</strong></h5>\r\n\r\n            <p>This is even more difficult due to the quantity. We can immediately remove any that are unused:</p>\r\n\r\n            <pre class=\"brush: ps; collapse: true;\">witadmin listfields /collection:%tpc% /unused</pre>\r\n\r\n            <p><strong>Figure: Find unused Fields</strong></p>\r\n\r\n            <p>However figuring out which fields that you are going to migrate and which you are not is a very difficult task. Make sure that they customer understands the implications of not migrating a Field. i.,e. All the data will be lost.</p>\r\n\r\n            <pre class=\"brush: ps; collapse: true;\">witadmin deletefield /collection:%tpc% /n:NorthwestCadence.CustomFieldName  /noprompt</pre>\r\n\r\n            <p><strong>Figure: You can only delete fields that are not in use</strong></p>\r\n          </li>\r\n        </ol>\r\n      </li>\r\n    </ol>\r\n  </li>\r\n</ol>\r\n\r\n<h2>Upgrade each Team Project (~4 hours)</h2>\r\n\r\n<p>The Upgrade of the Team Projects is arguably the most difficult area of TFS. It is not only tedious, but it is also not supported out of the box. Once you have chosen your Process Template you are stuck with it for life. There are a number of options here for doing the upgrade:</p>\r\n\r\n<ol>\r\n  <li><strong>Stick with same template Not good as everyone wants to take advantage of the new features of TFS 2010.</strong> </li>\r\n\r\n  <li><strong>Use the SfTSv3 Upgrade tool to move to a new Team Project.</strong>This really sucks as you can never delete the old project. When you do a “move” of source code it actually does a “branch &amp; delete” under the covers, thus your “history” is actually stored where is always was and never moves. If you delete the old team project you will loose the history. \r\n\r\n    <p><em>Note: If you remove permissions to view the project you will also loose the history</em></p>\r\n  </li>\r\n\r\n  <li><strong>Use the TFS Integration Platform to move Source and Work Item history to a new team project</strong>This is an ideal solution, but it does result in “time dilation” on your source control. There is no way to fake a check-in date so all dates will be when the actual check-in happens. As the TFS Integration Platform does all of the check-ins concurrently it stores the original date in the comments. This was not possible with this customer as they use that date often in their internal tools and processes. </li>\r\n\r\n  <li><strong>Do an in place manual migration This is just plane nasty and take a lot of time. It can take over 8 hours to complete the migration once it has been planned out, and that time depends on the process template you are moving from, the one you are moving to, and the customisations you have made along the way. If all of your Team Projects have different customisations, then this is probably a non starter.</strong> </li>\r\n\r\n  <li><strong>Do an in-place <em>export</em> migration. </strong>This gives us the best of both worlds, with an export of Work Item data to another location, destroying all the existing work item types along with all of the data, then install the new Work Item Types and reload the data. This is still a horrible process, but it keeps the Source Code history in tact, and allows for the process template to be completely upgraded. </li>\r\n</ol>\r\n\r\n<p>My customer has to go with #5 and we should be able to use the SfTSv3 Migration tool that comes from EMC. It does an export to XML and then transforms the data from SfTSv2 to SfTSv3 before you import it back in. The tool was designed to work by migrating from one Team Project to another, but I am going to use it to achieve the in-place export migration I described above.</p>\r\n\r\n<h3>SfTSv3 In-Place Export Migration (~4 hours per team project)</h3>\r\n\r\n<p>As the Export Migration is the chosen route of least friction we need to follow a lot of steps to get there. I would note that for a large project, one of mine was over 400MB of XML data to import, can take a really long time. My longest was 8 hours, and yes you have to babysit the process.</p>\r\n\r\n<ol>\r\n  <li>\r\n    <h4><strong>Export TeamProjectX to XML (20 minutes)</strong></h4>\r\n\r\n    <p>Exporting is probably the easiest part of this process but that will depend on the amount of data. If the project has been around for along time then you could end up with a rather large XML file. One of the Team Projects here produced a file larger than 500mb for under 20k of Work Items. It is really the revisions that detail the amount of data and time it will take.</p>\r\n\r\n    <p><a href=\"http://blog.hinshelwood.com/files/2011/05/image.png\"><img style=\"background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px\" title=\"image\" border=\"0\" alt=\"image\" src=\"http://blog.hinshelwood.com/files/2011/05/image_thumb.png\" width=\"600\" height=\"450\" /></a></p>\r\n\r\n    <p><strong>Figure: Exporting is easy</strong></p>\r\n\r\n    <p>This is actually a process that i would contemplate using long term. Outputting all of the Work Item history behind your Team Project to an XML file is very desirable for a variety of migration scenarios. Although, if I was writing the import it would use the TFS Integration Platform which would give me the best of both worlds. In this case I do not have time to create an XML Adapter for it.</p>\r\n  </li>\r\n\r\n  <li>\r\n    <h4><strong>Transform TeamProjectX (Started 10:45) (3 hours 15 minutes for 19550 work item)</strong></h4>\r\n\r\n    <p>For the transform to work you must specify a “Rules” file that has all of the mapping in it. This file is a bit of a black box with sparse documentation, but I did manage to add the ~15&#160; custom fields that are being kept. I also had to add a bunch of mappings to “fold” some custom Work Item Types into</p>\r\n\r\n    <p><a href=\"http://blog.hinshelwood.com/files/2011/05/image1.png\"><img style=\"background-image: none; border-right-width: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px\" title=\"image\" border=\"0\" alt=\"image\" src=\"http://blog.hinshelwood.com/files/2011/05/image_thumb1.png\" width=\"600\" height=\"450\" /></a></p>\r\n\r\n    <p><strong>Figure: Transforming can take some time if there are a lot of revisions</strong></p>\r\n\r\n    <p>This is where I find the deficiencies come into the process and they have not tested the process with enough edge cases. Why do I say this? Well, lets take a look at the next step shall we…</p>\r\n  </li>\r\n\r\n  <li>\r\n    <h4><strong>Fix data before import</strong></h4>\r\n\r\n    <p>For a production ready tool the SfTSv3 Migration Tools leaves a lot to be desired. There are number of things that you need to do as part of a data validation and clean-up before you progress with the import</p>\r\n\r\n    <ol>\r\n      <li>\r\n        <h5><strong>Replace invalid characters</strong></h5>\r\n\r\n        <p>The tool completely fails to take into account that you can have characters in the old “Team” drop down that are no valid in the Iteration Path that the data has been moved to. In this case it is ‘&lt;’ and ‘&gt;’</p>\r\n\r\n        <p><a href=\"http://blog.hinshelwood.com/files/2011/05/image41.png\"><img style=\"background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px\" title=\"image\" border=\"0\" alt=\"image\" src=\"http://blog.hinshelwood.com/files/2011/05/image41_thumb.png\" width=\"600\" height=\"449\" /></a></p>\r\n\r\n        <p><strong>Figure: It does not handle the ‘&lt;’ or ‘&gt;’ </strong></p>\r\n\r\n        <p><strong><a href=\"http://blog.hinshelwood.com/files/2011/05/image2.png\"><img style=\"background-image: none; border-right-width: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px\" title=\"image\" border=\"0\" alt=\"image\" src=\"http://blog.hinshelwood.com/files/2011/05/image_thumb2.png\" width=\"600\" height=\"399\" /></a></strong> </p>\r\n\r\n        <p>Figure: I just don’t understand why the tool does not fix tis itself.</p>\r\n\r\n        <p><a href=\"http://blog.hinshelwood.com/files/2011/05/image3.png\"><img style=\"background-image: none; border-right-width: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px\" title=\"image\" border=\"0\" alt=\"image\" src=\"http://blog.hinshelwood.com/files/2011/05/image_thumb3.png\" width=\"600\" height=\"352\" /></a></p>\r\n        <strong>Figure: Although valid XML this is still not good output</strong> </li>\r\n\r\n      <li>\r\n        <h5><strong>Remove users that have been deleted from Active Directory</strong></h5>\r\n\r\n        <p>If you do not remove these account you will spend hours trying to change the inline. In one project with only ~2000 work items there were over 300 invalid user instances specified. The best thing here is to do a search for “domain” and then replace “surname, forename (domainusername)” with a selected user. In this case I found an account that was in the system aptly called “<strong><em>_GhostService</em></strong>” so I used that.</p>\r\n\r\n        <p><a href=\"http://blog.hinshelwood.com/files/2011/05/image5.png\"><img style=\"background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px\" title=\"image\" border=\"0\" alt=\"image\" src=\"http://blog.hinshelwood.com/files/2011/05/image_thumb4.png\" width=\"611\" height=\"458\" /></a></p>\r\n\r\n        <p><strong>Figure: All deleted users need to be fixed </strong></p>\r\n\r\n        <p><strong><a href=\"http://blog.hinshelwood.com/files/2011/05/image6.png\"><img style=\"background-image: none; border-right-width: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px\" title=\"image\" border=\"0\" alt=\"image\" src=\"http://blog.hinshelwood.com/files/2011/05/image_thumb5.png\" width=\"600\" height=\"353\" /></a></strong> <strong>Figure: Visual Studio is pretty good at replacing in big files (100MB+)</strong></p>\r\n\r\n        <p>It sucks very much that this is the case as the TFS Integration Platform will take care of this for you by inserting the user anyway. Thus preserving the history.</p>\r\n      </li>\r\n\r\n      <li>\r\n        <h5><strong>Add in missing Area Paths</strong></h5>\r\n\r\n        <p>There are so many missing paths that it is impossible to manually add them so I have written some VB code to parse the output XML and build the correct list of nodes:</p>\r\n\r\n        <pre class=\"brush: sql; collapse: true;\">Dim xmlDocument As New Xml.XmlDocument()\r\nxmlDocument.Load(&quot;TransformedXML.xml&quot;)\r\n\r\nDim foundIP As New List(Of String)\r\nDim nodes As XmlNodeList\r\n' Find all used nodes\r\nnodes = xmlDocument.SelectNodes(&quot;//*[local-name()='Field']&quot;)\r\nFor Each node As XmlNode In nodes\r\n    If node.Attributes(&quot;name&quot;).Value = &quot;System.IterationPath&quot; And Not String.IsNullOrEmpty(node.InnerText) Then\r\n        foundIP.Add(node.InnerText)\r\n    End If\r\nNext\r\n' Find all specified nodes\r\nnodes = xmlDocument.SelectNodes(&quot;//*[local-name()='IterationPaths']/*[local-name()='string']&quot;)\r\nFor Each node As XmlNode In nodes\r\n    foundIP.Add(node.InnerText)\r\nNext\r\n' Create Distinct list of nodes\r\nDim iterations As New System.Text.StringBuilder\r\niterations.AppendLine(&quot;&lt;IterationPaths&gt;&quot;)\r\nFor Each ip In foundIP.Distinct\r\n    iterations.AppendLine(String.Format(&quot;   &lt;string&gt;{0}&lt;/string&gt;&quot;, ip))\r\nNext\r\niterations.AppendLine(&quot;&lt;/IterationPaths&gt;&quot;)\r\nConsole.Write(iterations.ToString)\r\nConsole.ReadLine</pre>\r\n\r\n        <p><strong>Figure: The SfTSv3 Migration tool needs a little help</strong></p>\r\n\r\n        <p>I really should not have to do this and I can only think that it is some bug in the SfTSv3 Migration tool that is stopping it creating these for me.</p>\r\n      </li>\r\n    </ol>\r\n  </li>\r\n\r\n  <li>\r\n    <h4><strong>Fix Queries</strong></h4>\r\n\r\n    <p>Because we want to keep the old queries around, and you can do nothing but delete them once you delete the Work item Types we need to move them before we do anything to the Team Project. it may be that some of the teams spent a long time getting their queries “just right” and we don’t just want to delete that hard work.</p>\r\n\r\n    <ol>\r\n      <li>\r\n        <h5><strong>Create a folder called “_2008Archive”</strong></h5>\r\n\r\n        <p>TFS 2010 added the ability to have Query folders. Here is hoping that we get them on Builds as well in the future.</p>\r\n\r\n        <p><a href=\"http://blog.hinshelwood.com/files/2011/05/image8.png\"><img style=\"background-image: none; border-right-width: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px\" title=\"image\" border=\"0\" alt=\"image\" src=\"http://blog.hinshelwood.com/files/2011/05/image_thumb6.png\" width=\"382\" height=\"250\" /></a></p>\r\n\r\n        <p><strong>Figure: The folder will store all of the old queries</strong></p>\r\n      </li>\r\n\r\n      <li>\r\n        <h5><strong>Move all of the existing Queries into this folder</strong></h5>\r\n\r\n        <p>Luckily we can drag and drop Queries within the same Team Project.</p>\r\n\r\n        <p><a href=\"http://blog.hinshelwood.com/files/2011/05/image9.png\"><img style=\"background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px\" title=\"image\" border=\"0\" alt=\"image\" src=\"http://blog.hinshelwood.com/files/2011/05/image_thumb7.png\" width=\"412\" height=\"560\" /></a></p>\r\n\r\n        <p><strong>Figure: All of your queries are now saved</strong></p>\r\n      </li>\r\n\r\n      <li>\r\n        <h5><strong>Copy all of the new queries into the team project</strong></h5>\r\n\r\n        <p>We have at least one Team Project that was created with the new template (TfsCustomisations), and even more luckily we can drag and drop Queries between Team Projects.</p>\r\n\r\n        <p><a href=\"http://blog.hinshelwood.com/files/2011/05/image11.png\"><img style=\"background-image: none; border-right-width: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px\" title=\"image\" border=\"0\" alt=\"image\" src=\"http://blog.hinshelwood.com/files/2011/05/image_thumb8.png\" width=\"316\" height=\"345\" /></a></p>\r\n\r\n        <p><strong>Figure: Shiny new Queries are now waiting for the team</strong></p>\r\n      </li>\r\n    </ol>\r\n  </li>\r\n\r\n  <li>\r\n    <h4><strong>Fix Reports </strong></h4>\r\n\r\n    <p>You will need to add the new reports to TFS, but unfortunately while there is drag and drop support for moving reports within a Team Project there is no way to drag them <em>into</em> a Team Project, but there his a command line tool to support this. However, prior to running it you should again create a “_2008Archive” folder to load all of the existing reports into. Again there may be a bunch of custom reports in there that the team does not want to loose. Once you have done that you can call the command line option to install the new templates</p>\r\n\r\n    <p><a href=\"http://blog.hinshelwood.com/files/2011/05/image12.png\"><img style=\"background-image: none; border-right-width: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px\" title=\"image\" border=\"0\" alt=\"image\" src=\"http://blog.hinshelwood.com/files/2011/05/image_thumb9.png\" width=\"275\" height=\"582\" /></a></p>\r\n\r\n    <p><strong>Figure: Put all existing reports under “_2008Archive”</strong></p>\r\n\r\n    <pre class=\"brush: ps; collapse: true;\">tfpt addprojectreports /collection:%tpc% /teamproject:%tp% /processtemplate:&quot;Scrum for Team System v3.0.3784.03&quot; /force</pre>\r\n\r\n    <p><strong>Figure: Command to add all of the Reports for a Process Template to TFS</strong></p>\r\n  </li>\r\n\r\n  <li>\r\n    <h4><strong>Tare down old SfTSv2 Process Template</strong></h4>\r\n\r\n    <p>This is where the demolition expert in you gets to have a little fun. It is very complicated to build things, and not so much to destroy them. Now that we have all of our data exported and transformed we can go ahead and destroy all of the Work Item Type Definitions (WITD) that are in that Team Project.</p>\r\n\r\n    <p>Because I am running a whole lot of command against multiple Team Projects and I do not want to have to change out the Team Project Collection every time, here is a little hint for the command line.</p>\r\n\r\n    <pre class=\"brush: ps; collapse: true;\">set tpc=http://tfsServerName:8080/tfs/teamProjectCollectionName</pre>\r\n\r\n    <p>\r\n      <br /><strong>Figure: Set a variable so you don't have to add things to every command</strong> \r\n\r\n      <br /></p>\r\n\r\n    <pre class=\"brush: ps; collapse: true;\">witadmin listwitd /collection:%tpc% /p:&quot;[Team Project Name]&quot;</pre>\r\n\r\n    <p>\r\n      <br /><strong>Figure: Get a list of all the Work Item Types </strong>\r\n\r\n      <br /></p>\r\n\r\n    <pre class=\"brush: ps; collapse: true;\">witadmin destroywitd /collection:%tpc% /p:&quot;[Team Project Name]&quot; /n:&quot;Bug&quot; /noprompt\r\nwitadmin destroywitd /collection:%tpc% /p:&quot;[Team Project Name]&quot; /n:&quot;Product Backlog Item&quot; /noprompt\r\nwitadmin destroywitd /collection:%tpc% /p:&quot;[Team Project Name]&quot; /n:&quot;Sprint Backlog Item&quot; /noprompt\r\nwitadmin destroywitd /collection:%tpc% /p:&quot;[Team Project Name]&quot; /n:&quot;Impediment&quot; /noprompt\r\nwitadmin destroywitd /collection:%tpc% /p:&quot;[Team Project Name]&quot; /n:&quot;Sprint Retrospective&quot; /noprompt\r\nwitadmin destroywitd /collection:%tpc% /p:&quot;[Team Project Name]&quot; /n:&quot;Sprint&quot; /noprompt</pre>\r\n\r\n    <p><strong>Figure: Delete the default Work Items, but don’t forget any custom ones</strong></p>\r\n\r\n    <p><em>note: Because this was a Team Project that was upgraded from TFS 2008 there are no links or categories to update. You will also need to make sure that you do something with all of the custom fields and Work Item Types that have been added.</em></p>\r\n  </li>\r\n\r\n  <li>\r\n    <h4><strong>Build up new SfTSv3 Process Template</strong></h4>\r\n\r\n    <p>Building up the Work Item Types is not quite as much fun as tearing them down, but it does give you more of a sense of achievement. In order to “install” the SfTSv3 Process Template you need to:</p>\r\n\r\n    <ol>\r\n      <li>\r\n        <h5><strong>Install the SfTSv3 Work Item Type Definitions</strong></h5>\r\n\r\n        <p>These new work item types can be easily added to make it look as if the Project always had this process template. There are still more things that we will need to do later to make this a workable solution.</p>\r\n\r\n        <pre class=\"brush: ps; collapse: true;\">witadmin importwitd /collection:%tpc% /p:&quot;[Team Project Name]&quot; /f:&quot;.WorkItemTrackingTypeDefinitionsAcceptanceTest.xml&quot;\r\nwitadmin importwitd /collection:%tpc% /p:&quot;[Team Project Name]&quot; /f:&quot;.WorkItemTrackingTypeDefinitionsBug.xml&quot;\r\nwitadmin importwitd /collection:%tpc% /p:&quot;[Team Project Name]&quot; /f:&quot;.WorkItemTrackingTypeDefinitionsImpediment.xml&quot;\r\nwitadmin importwitd /collection:%tpc% /p:&quot;[Team Project Name]&quot; /f:&quot;.WorkItemTrackingTypeDefinitionsProductBacklogItem.xml&quot;\r\nwitadmin importwitd /collection:%tpc% /p:&quot;[Team Project Name]&quot; /f:&quot;.WorkItemTrackingTypeDefinitionsRelease.xml&quot;\r\nwitadmin importwitd /collection:%tpc% /p:&quot;[Team Project Name]&quot; /f:&quot;.WorkItemTrackingTypeDefinitionsSharedStep.xml&quot;\r\nwitadmin importwitd /collection:%tpc% /p:&quot;[Team Project Name]&quot; /f:&quot;.WorkItemTrackingTypeDefinitionsSprint.xml&quot;\r\nwitadmin importwitd /collection:%tpc% /p:&quot;[Team Project Name]&quot; /f:&quot;.WorkItemTrackingTypeDefinitionsSprintBacklogTask.xml&quot;\r\nwitadmin importwitd /collection:%tpc% /p:&quot;[Team Project Name]&quot; /f:&quot;.WorkItemTrackingTypeDefinitionsSprintRetrospective.xml&quot;\r\nwitadmin importwitd /collection:%tpc% /p:&quot;[Team Project Name]&quot; /f:&quot;.WorkItemTrackingTypeDefinitionsTeamSprint.xml&quot;</pre>\r\n\r\n        <p><strong>Figure: Add the Work Items that you put under version control in the TfsCustomisations Team Project</strong></p>\r\n      </li>\r\n\r\n      <li>\r\n        <h5><strong>Install the SfTSv3 Categories</strong></h5>\r\n\r\n        <p>Categories as new in TFS 2010 and all reports to load Categories rather that be hard coded to particular Work Item Types. The only stipulation / limitation is that a Work Item can only be in one Category.</p>\r\n\r\n        <pre class=\"brush: ps; collapse: true;\">witadmin importcategories /collection:%tpc% /p:&quot;[Team Project Name]&quot; /f:&quot;.WorkItemTrackingcategories.xml&quot;</pre>\r\n\r\n        <p><strong>Figure: Add categories to enable some of the TFS 2010 functionality</strong></p>\r\n      </li>\r\n\r\n      <li>\r\n        <h5><strong>Install the SfTSv3 Link Types</strong></h5>\r\n\r\n        <p>Link Types enable one of the core features of TFS 2010. The ability to have nested work items. It is worth noting that there are some built in Link Types that are not listed here that will support MS Project and other tools. These will already have been added by the upgrade process.</p>\r\n\r\n        <pre class=\"brush: ps; collapse: true;\">witadmin importLinktype /collection:%tpc% /f:&quot;.WorkItemTrackingLinkTypesFailedBy.xml&quot;\r\nwitadmin importLinktype /collection:%tpc% /f:&quot;.WorkItemTrackingLinkTypesImpededBy.xml&quot;\r\nwitadmin importLinktype /collection:%tpc% /f:&quot;.WorkItemTrackingLinkTypesImplementedBy.xml&quot;\r\nwitadmin importLinktype /collection:%tpc% /f:&quot;.WorkItemTrackingLinkTypesSharedStep.xml&quot;\r\nwitadmin importLinktype /collection:%tpc% /f:&quot;.WorkItemTrackingLinkTypesTestedBy.xml&quot;</pre>\r\n\r\n        <p><strong>Figure: Link Types only need to be added once</strong></p>\r\n      </li>\r\n    </ol>\r\n  </li>\r\n\r\n  <li>\r\n    <h4><strong>Import Data back into new SfTSv3 Work Items</strong></h4>\r\n\r\n    <ol>\r\n      <li>\r\n        <h5><strong>Stop the SfTS Process Template Services</strong></h5>\r\n\r\n        <p>So that you do not get duplicate items or any rollup going on prior to the upgrade completing you need to “Retract” the deployment from the Team Project Collection that you will be importing the data to.</p>\r\n\r\n        <p><a href=\"http://blog.hinshelwood.com/files/2011/05/image14.png\"><img style=\"background-image: none; border-right-width: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px\" title=\"image\" border=\"0\" alt=\"image\" src=\"http://blog.hinshelwood.com/files/2011/05/image_thumb10.png\" width=\"600\" height=\"375\" /></a></p>\r\n\r\n        <p><strong>Figure: You MUST stop the service from running</strong></p>\r\n\r\n        <p><a href=\"http://blog.hinshelwood.com/files/2011/05/image15.png\"><img style=\"background-image: none; border-right-width: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px\" title=\"image\" border=\"0\" alt=\"image\" src=\"http://blog.hinshelwood.com/files/2011/05/image_thumb11.png\" width=\"406\" height=\"427\" /></a></p>\r\n\r\n        <p><strong>Figure: Retract before import</strong></p>\r\n      </li>\r\n\r\n      <li>\r\n        <h5><strong>Run the import</strong></h5>\r\n\r\n        <p>This can take quite a long time, but in my experience does not take quite as long as the transformation process.</p>\r\n\r\n        <p><a href=\"http://blog.hinshelwood.com/files/2011/05/image17.png\"><img style=\"background-image: none; border-right-width: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px\" title=\"image\" border=\"0\" alt=\"image\" src=\"http://blog.hinshelwood.com/files/2011/05/image_thumb12.png\" width=\"600\" height=\"451\" /></a></p>\r\n\r\n        <p><strong>Figure: The import runs one change at a time</strong></p>\r\n      </li>\r\n\r\n      <li>\r\n        <h5><strong>Fix any errors that crop up</strong></h5>\r\n\r\n        <p>During the process there will be errors. I can guarantee this. Although I have done my very best to make sure that there are as few as possible, I still end up having to babysit the process to completion.</p>\r\n\r\n        <p><a href=\"http://blog.hinshelwood.com/files/2011/05/image18.png\"><img style=\"background-image: none; border-right-width: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px\" title=\"image\" border=\"0\" alt=\"image\" src=\"http://blog.hinshelwood.com/files/2011/05/image_thumb13.png\" width=\"600\" height=\"449\" /></a></p>\r\n      </li>\r\n\r\n      <li>\r\n        <h5><strong>Start the SfTS Processes</strong></h5>\r\n\r\n        <p><a href=\"http://blog.hinshelwood.com/files/2011/05/image19.png\"><img style=\"background-image: none; border-right-width: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px\" title=\"image\" border=\"0\" alt=\"image\" src=\"http://blog.hinshelwood.com/files/2011/05/image_thumb14.png\" width=\"404\" height=\"427\" /></a></p>\r\n\r\n        <p><strong>Figure: Redeploy the processes</strong></p>\r\n      </li>\r\n\r\n      <li>\r\n        <h5><strong>Implement Release dates rollup fix</strong></h5>\r\n\r\n        <p>&#160;</p>\r\n\r\n        <pre class=\"brush: sql; collapse: true;\">UPDATE [Tfs_SageCre20110505].[dbo].[tbl_EventSubscription]\r\nSET [Expression] =\r\n    REPLACE\r\n    (\r\n        [Expression],\r\n        '|Product Backlog Item|Sprint Backlog Task|',\r\n        '|Product Backlog Item|Sprint|Sprint Backlog Task|'\r\n    )\r\nWHERE\r\n[Expression] LIKE '%|Product Backlog Item|Sprint Backlog Task|%'</pre>\r\n\r\n        <p>Figure: You need to fix the data after</p>\r\n      </li>\r\n\r\n      <li>\r\n        <h5><strong>Run all calculations</strong></h5>\r\n\r\n        <p><a href=\"http://blog.hinshelwood.com/files/2011/05/image20.png\"><img style=\"background-image: none; border-right-width: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px\" title=\"image\" border=\"0\" alt=\"image\" src=\"http://blog.hinshelwood.com/files/2011/05/image_thumb15.png\" width=\"600\" height=\"375\" /></a></p>\r\n\r\n        <p><strong>Figure: You need to run a recalculation on all of the work items</strong></p>\r\n      </li>\r\n    </ol>\r\n\r\n    <p>&#160;</p>\r\n  </li>\r\n\r\n  <li>\r\n    <h4><strong>Rebuild the Warehouse</strong></h4>\r\n\r\n    <p><a href=\"http://blog.hinshelwood.com/files/2011/05/image21.png\"><img style=\"background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px\" title=\"image\" border=\"0\" alt=\"image\" src=\"http://blog.hinshelwood.com/files/2011/05/image_thumb16.png\" width=\"600\" height=\"399\" /></a></p>\r\n\r\n    <p><strong>Figure: You can rebuild the warehouse through the TFS Admin Console</strong></p>\r\n  </li>\r\n\r\n  <li>\r\n    <h4><strong>DONE</strong></h4>\r\n\r\n    <p>Now that we have completed the upgrade of one Team Project we can complete the process on everyone</p>\r\n\r\n    <p>How did your upgrade go?</p>\r\n  </li>\r\n</ol>\r\n\r\n<h2>REFERNECES</h2>\r\n\r\n<ul>\r\n  <li><a href=\"http://blogs.msdn.com/b/jjameson/archive/2010/05/04/upgrade-team-foundation-server-2008-to-tfs-2010-and-sharepoint-server-2010.aspx\">Upgrade Team Foundation Server 2008 to TFS 2010 (and SharePoint Server 2010) - Random Musings of Jeremy Jameson - Site Home - MSDN Blogs</a> </li>\r\n\r\n  <li><a href=\"http://stackoverflow.com/questions/1687420/how-do-i-build-a-3-5-solution-with-msbuild-4-0\">How do I build a 3.5 solution with MSBuild 4.0?</a> </li>\r\n\r\n  <li><a href=\"http://www.finalbuilder.com/new-in-finalbuilder-7.aspx\">New in FinalBuilder 7</a> </li>\r\n\r\n  <li><a href=\"http://connect.microsoft.com/VisualStudio/feedback/details/652991/breaking-change-in-vs-2010-sp1-using-key-file-for-signing-c-clr-assemblies\">Breaking Change in VS 2010 SP1: using key file for signing C++/CLR assemblies</a> </li>\r\n\r\n  <li><a href=\"http://msdn.microsoft.com/en-us/library/ms404864(v=VS.100).aspx\">List Fields That Are Not Being Used</a> </li>\r\n\r\n  <li><a href=\"http://www.google.co.uk/search?sourceid=chrome&amp;ie=UTF-8&amp;q=compatability+tfs+2010+vs2008#hl=en&amp;safe=off&amp;sa=X&amp;ei=J7DJTfCAC861twfnoOzbBw&amp;ved=0CBcQBSgA&amp;q=compatibility+tfs+2010+vs+2008&amp;spell=1&amp;fp=edc1e8e99e75b7df&amp;biw=1321&amp;bih=850\">TFS 2010 Compatibility with Older Clients - bharry's WebLog - Site Home - MSDN Blogs</a> </li>\r\n\r\n  <li><a href=\"http://www.microsoft.com/downloads/en/details.aspx?FamilyID=cf13ea45-d17b-4edc-8e6c-6c5b208ec54d\">Download details: Visual Studio Team System 2008 Service Pack 1 Forward Compatibility Update for Team Foundation Server 2010 (Installer)</a> </li>\r\n\r\n  <li><a href=\"http://blogs.msdn.com/b/teams_wit_tools/archive/2009/10/19/compatibility-matrix-for-2010-beta-2-team-foundation-server-to-team-explorer-2008-and-2005.aspx\">Compatibility Matrix for 2010 Beta 2 Team Foundation Server to Team Explorer 2008 and 2005 - Teams WIT Tools - Site Home - MSDN Blogs</a> </li>\r\n\r\n  <li><a href=\"http://blog.codeassassin.com/2007/10/14/report-services-automation-with-powershell/\">Report Services Automation With PowerShell « Code Assassin</a> </li>\r\n\r\n  <li><a href=\"http://pstfs.codeplex.com/\">PsTFS - Cmdlet for Team Foundation Server – Home</a> </li>\r\n\r\n  <li><a href=\"http://geekswithblogs.net/juang/archive/2008/09/03/delete--remove-tfs-work-item-type.aspx\">Delete / Remove TFS Work Item Type</a> </li>\r\n\r\n  <li><a href=\"http://blogs.msdn.com/b/teams_wit_tools/archive/2008/02/06/faq-5-how-do-i-destroy-work-items-or-work-item-types.aspx\">FAQ #5: How do I destroy work items or work item types? - Teams WIT Tools - Site Home - MSDN Blogs</a> </li>\r\n\r\n  <li><a title=\"http://consultingblogs.emc.com/crispinparker/archive/2010/09/07/scrum-for-team-system-v3-release-dates-rollup-fix.aspx\" href=\"http://consultingblogs.emc.com/crispinparker/archive/2010/09/07/scrum-for-team-system-v3-release-dates-rollup-fix.aspx\">Scrum for Team System v3 – Release dates rollup fix</a> </li>\r\n\r\n  <li><a href=\"http://stackoverflow.com/questions/536441/xpath-namespace-driving-me-crazy\">XPath + Namespace Driving me crazy</a> </li>\r\n\r\n  <li><a href=\"https://www.w3schools.com/xml/xpath_examples.asp\">XPath Examples</a> </li>\r\n</ul>"
  - ''
  post_id: '3279'
  post_date: '2011-06-30 08:00:00'
  post_date_gmt: '2011-06-30 15:00:00'
  post_modified: '2017-03-27 09:30:51'
  post_modified_gmt: '2017-03-27 08:30:51'
  comment_status: open
  ping_status: open
  post_name: >-
    upgrading-from-tfs-2008-and-wss-v3-0-with-sftsv2-to-tfs-2010-and-sf-2010-with-sftsv3
  status: publish
  post_parent: '0'
  menu_order: '0'
  post_type: post
  post_password: ''
  is_sticky: '0'
  category: {}
  postmeta:
  - meta_key: authorsure_include_css
    meta_value: ''
  - meta_key: _edit_last
    meta_value: '3'
  - meta_key: dsq_thread_id
    meta_value: '312856523'
  - meta_key: robotsmeta
    meta_value: index,follow
  - meta_key: _flattr_post_language
    meta_value: ''
  - meta_key: _flattr_post_category
    meta_value: ''
  - meta_key: _flattr_post_hidden
    meta_value: ''
  - meta_key: _flattr_btn_disabled
    meta_value: ''
  - meta_key: _thumbnail_id
    meta_value: '8621'
  - meta_key: authorsure_include_css
    meta_value: ''
  - meta_key: _views_template
    meta_value: '0'
  - meta_key: _wpbitly
    meta_value: http://nkdalm.net/1b3eBPg
  - meta_key: _jetpack_related_posts_cache
    meta_value: >-
      a:1:{s:32:"8f6677c9d6b0f903e98ad32ec61f8deb";a:2:{s:7:"expires";i:1474891028;s:7:"payload";a:3:{i:0;a:1:{s:2:"id";i:5702;}i:1;a:1:{s:2:"id";i:70;}i:2;a:1:{s:2:"id";i:9211;}}}}
  - meta_key: _wpghs_github_path
    meta_value: >-
      _posts/2011-06-30-upgrading-from-tfs-2008-and-wss-v3-0-with-sftsv2-to-tfs-2010-and-sf-2010-with-sftsv3.md
  - meta_key: _sha
    meta_value: ''
  - meta_key: _pl_quote
    meta_value: ''
  - meta_key: _pl_link
    meta_value: ''
  - meta_key: _pl_video
    meta_value: ''
  - meta_key: _pl_video_poster
    meta_value: ''
  - meta_key: _pl_video_embed
    meta_value: ''
  - meta_key: _pl_audio_mp3
    meta_value: ''
  - meta_key: pl_magazine_format
    meta_value: ''
  - meta_key: _wpml_media_has_media
    meta_value: '1'
  - meta_key: _tribe_ticket_capacity
    meta_value: '0'
  - meta_key: _tribe_ticket_version
    meta_value: 4.12.1.2
  - meta_key: ekit_post_views_count
    meta_value: '1119'
  comment:
  - comment_id: '986'
    comment_author: July 1, 2011 &ndash; Learn TFS Daily | Learn TFS
    comment_author_email: ''
    comment_author_url: http://learntfs.com/2011/07/01/july-1-2011-learn-tfs-daily/
    comment_author_IP: 173.201.196.93
    comment_date: '2011-07-01 14:37:29'
    comment_date_gmt: '2011-07-01 21:37:29'
    comment_content: >-
      [...] Upgrading from TFS 2008 and WSS v3.0 with SfTSv2 to TFS 2010 and SF
      2010 with SfTSv3 from Martin Hinshelwood Martin has a nice play-by-play on
      his experience upgrading a large customer from TFS 2008 with Scrum for
      Team System v2 to TFS 2010 and Scrum for Team System v3. It was not a
      trivial upgrade, and if you’re headed down a similar path it’s definitely
      worth a bookmark. [...]
    comment_approved: '1'
    comment_type: pingback
    comment_parent: '0'
    comment_user_id: '0'
    commentmeta:
      meta_key: akismet_history
      meta_value: >-
        a:4:{s:4:"time";s:15:"1309558862.9191";s:7:"message";s:46:"MrHinsh
        changed the comment status to
        approved";s:5:"event";s:15:"status-approved";s:4:"user";s:7:"MrHinsh";}
  - comment_id: '987'
    comment_author: Manish Jain
    comment_author_email: manishkj@gmail.com
    comment_author_url: ''
    comment_author_IP: ''
    comment_date: '2011-10-04 16:09:00'
    comment_date_gmt: '2011-10-04 23:09:00'
    comment_content: >-
      MrHinsh- Very good blog. Thank you. Questions:1. Did you install template
      and/or manually setup IIS vdir and SOAP listener? 2. How did you migrate
      work item attachments?3. After work item destroy, did you reseed work item
      numbers to start from zero?
    comment_approved: '1'
    comment_type: comment
    comment_parent: '0'
    comment_user_id: '0'
    commentmeta:
    - meta_key: dsq_parent_post_id
      meta_value: ''
    - meta_key: dsq_post_id
      meta_value: '326726889'
  - comment_id: '988'
    comment_author: Martin Hinshelwood
    comment_author_email: martin@hinshelwood.com
    comment_author_url: http://blog.hinshelwood.com
    comment_author_IP: ''
    comment_date: '2011-10-05 02:54:00'
    comment_date_gmt: '2011-10-05 09:54:00'
    comment_content: "I am not sure that I understand your questions in this context, but I will try my best to answer as I understand it. Before I do however I would note that I would never do a migration in this way again. It assumes too much and for the \"Process Template\"\_migration\_the tools provided by EMC are NOT effective. I would use the TFS Integration Platform in the future.\n\n\_ \_ &gt;&gt; Did you install template and/or manually setup IIS vdir and SOAP listener?\n\nI did not. The\_installation\_for the SfTSv3 Template took care of that itself and it provides a UI for enabling and disabling the Listeners on specific Team Project Collections as depicted above.\n\n\_ \_ &gt;&gt;\_How did you migrate work item attachments?\n\nI did not. My customer used predominantly \"Links\" to documents that existed on\_SharePoint. There were only 10-15 attachments and we handled them manually.\n\nnote: The TFS Integration Platform does support this\n\n\_ \_ &gt;&gt;\_After work item destroy, did you reseed work item numbers to start from zero?\n\nThis is not\_possible. Once an ID is used it is gone so all of your Work Item ID's will\_change."
    comment_approved: '1'
    comment_type: comment
    comment_parent: '0'
    comment_user_id: '0'
    commentmeta:
    - meta_key: dsq_parent_post_id
      meta_value: ''
    - meta_key: dsq_post_id
      meta_value: '327034709'
  - comment_id: '989'
    comment_author: Manish Jain
    comment_author_email: manishkj@gmail.com
    comment_author_url: ''
    comment_author_IP: ''
    comment_date: '2011-10-05 10:38:00'
    comment_date_gmt: '2011-10-05 17:38:00'
    comment_content: >-
      Thank you so much for your prompt response. Your blogs are always very
      detailed and helpful for us. I'm going through this painful process.  I'm
      trying to come up with best migration path. We have lots of
      customizations. Yes I've tried both Migration tools but plan to use TFS
      Integration platform for final migration. In my last migration I did
      similar but I migrated from projectA to projectB on same TPC. I like the
      way you did it on same project (drop data &amp; definitions and then
      import) which I would like to try but I plan to reseed work item numbers
      so even if its not same at least its not very odd/ For e.g. old number
      were at 15000 something and new number is 30000 something which is odd for
      various reasons. Thanks again!!!
    comment_approved: '1'
    comment_type: comment
    comment_parent: '988'
    comment_user_id: '0'
    commentmeta:
    - meta_key: dsq_parent_post_id
      meta_value: '327034709'
    - meta_key: dsq_post_id
      meta_value: '327289415'
  - comment_id: '990'
    comment_author: Martin Hinshelwood
    comment_author_email: martin@hinshelwood.com
    comment_author_url: http://blog.hinshelwood.com
    comment_author_IP: ''
    comment_date: '2011-10-05 12:05:00'
    comment_date_gmt: '2011-10-05 19:05:00'
    comment_content: "In order to do this in place you need to:\n\n1. do a TFS Integration Platform move from ProjectA-&gt;ProjectB\_\n2. Delete and rebuild the work items in ProjectA\n3. Do a migration from ProjectB-&gt;ProjectA\n4. Done :)\n\nhttp://blog.hinshelwood.com/do-you-know-how-to-upgrade-a-process-template-but-still-keep-your-data-intact/"
    comment_approved: '1'
    comment_type: comment
    comment_parent: '989'
    comment_user_id: '0'
    commentmeta:
    - meta_key: dsq_parent_post_id
      meta_value: '327289415'
    - meta_key: dsq_post_id
      meta_value: '327355267'
  - comment_id: '991'
    comment_author: Martin Hinshelwood
    comment_author_email: martin@hinshelwood.com
    comment_author_url: http://blog.hinshelwood.com/
    comment_author_IP: 50.135.56.181
    comment_date: '2012-01-18 08:38:00'
    comment_date_gmt: '2012-01-18 16:38:00'
    comment_content: "I have three answers for you:\_\n\_ \_ &gt;&gt;1. Did you install template and/or manually setup IIS vdir and SOAP listener?\_\nI did the install.\n\n\_ \_ \_&gt;&gt;2. How did you migrate work item attachments?\_\n\nIn this case my customer did not have any\_attachments. they used Links to SharePoint documents. You could write something against the API to move all of your\_attachments\_to\_SharePoint, or to export them prior to the destroy and\_reattach\_them afterwords.\n\n\_ \_ \_ \_&gt;&gt;3. After work item destroy, did you reseed work item numbers to start from zero?\_\n\nDO NOT EVEN TRY THIS. It will render your TFS instance \"unserviceable\".\n\nI hope that answers some of your questions..."
    comment_approved: '1'
    comment_type: comment
    comment_parent: '987'
    comment_user_id: '0'
    commentmeta:
    - meta_key: dsq_parent_post_id
      meta_value: '326726889'
    - meta_key: dsq_post_id
      meta_value: '414466568'
  - comment_id: '992'
    comment_author: Upgrading from TFS 2008 to TFS 2010 Overview - Visual Studio ALM
    comment_author_email: ''
    comment_author_url: http://blog.hinshelwood.com/upgrading-from-tfs-2008-to-tfs-2010-overview/
    comment_author_IP: 96.126.104.162
    comment_date: '2012-10-02 12:21:09'
    comment_date_gmt: '2012-10-02 19:21:09'
    comment_content: >-
      [...] Upgrading from TFS 2008 and WSS v3.0 with SfTSv2 to TFS 2010 and SF
      2010 with SfTSv3This was probably the largest upgrade I have been
      responsible for with nearly 500GB of data and servers with 24 cores . I
      will get to the process template upgrade woes later… [...]
    comment_approved: '1'
    comment_type: pingback
    comment_parent: '0'
    comment_user_id: '0'
    commentmeta:
    - meta_key: akismet_result
      meta_value: 'false'
    - meta_key: akismet_history
      meta_value: >-
        a:4:{s:4:"time";s:13:"1349205669.36";s:7:"message";s:28:"Akismet cleared
        this comment";s:5:"event";s:9:"check-ham";s:4:"user";s:0:"";}
    - meta_key: akismet_history
      meta_value: >-
        a:4:{s:4:"time";s:13:"1349209706.43";s:7:"message";s:46:"MrHinsh changed
        the comment status to
        approved";s:5:"event";s:15:"status-approved";s:4:"user";s:7:"MrHinsh";}
