post:
  title: >-
    Upgrading TFS 2010 to TFS 2012 with VSS Migration and Process Template
    consolidation
  link: >-
    https://nkdagility.com/blog/upgrading-tfs-2010-to-tfs-2012-with-vss-migration-and-process-template-consolidation/
  pubDate: Sat, 30 Jun 2012 02:38:01 +0000
  creator: MrHinsh
  guid:
    _: http://blog.hinshelwood.com/?p=5702
    $:
      isPermaLink: 'false'
  description: ''
  encoded:
  - >-
    <p class="lead">Back in Seattle and another awesome engagement, this time
    with a local company to upgrade their version of TFS from 2010 to 2012 and
    migrate all of their legacy VSS databases. Additional they want to take
    advantage of the new team features of TFS 2012 and need to consolidate all
    of their team projects</p> <p>I have been looking forward to this engagement
    for a while and we have a lot to do and get through. I try to create
    documentation for each customer and for the Team Foundation Server 2012
    timeframe I have been trying to feedback as many experiences as possible to
    Microsoft. To that end these posts are more documentation of experiences
    rather than full How-To’s and I always try to link to the documentation on
    MSDN or other blog posts that I used to figure things out. This post is a
    work in progress, so I will be posting updates as we work through the
    remaining items for migration…</p> <p><span class="label
    label-warning">Warning</span> There should be code example as part of this
    post with XML configuration. Unfortunately something keeps eating them. No
    idea what...</p> <div class="hero-unit"> <p>This post is part of a series of
    posts that document a Upgrade of TFS 2010 to TFS 2012 with a VSS Migration,
    Process Template consolidation, Team Project consolidation and a FogBugz
    migration:</p>   <ol> <li><strong>Part 1: </strong><a
    href="http://blog.hinshelwood.com/upgrading-tfs-2010-to-tfs-2012-with-vss-migration-and-process-template-consolidation/"
    target="_blank"><strong>Upgrading TFS 2010 to TFS 2012 with VSS Migration
    and Process Template consolidation</strong></a>  <ol> <li><a
    href="http://blog.hinshelwood.com/vss-converter-issue-tf60014-tf60087-failed-to-initialise-user-mapper/"
    target="_blank">VSS Converter – Issue: TF60014 &amp; TF60087: Failed to
    initialise user mapper</a><br /> </li><li><a
    href="http://blog.hinshelwood.com/vss-converter-issue-tf54000-cannot-update-the-data-because-the-server-clock-may-have-been-set-incorrectly/"
    target="_blank">VSS Converter – Issue: TF54000: Cannot update the data
    because the server clock may have been set incorrectly</a> </li></ol>
    </li><li><strong>Part 2: </strong><a
    href="http://blog.hinshelwood.com/one-team-project-collection-to-rule-them-allconsolidating-team-projects/"
    target="_blank"><strong>One Team Project Collection to rule them
    all–Consolidating Team Projects</strong></a>  <ol> <li><a
    href="http://blog.hinshelwood.com/tfs-integration-platform-issue-access-denied-to-program-files/"
    target="_blank">TFS Integration Tools – Issue: Access denied to Program
    Files</a><br /> </li><li><a
    href="http://blog.hinshelwood.com/tfs-integration-tools-issue-error-occurred-during-the-code-review-of-change-group/"
    target="_blank">TFS Integration Tools – Issue: Error occurred during the
    code review of change group</a><br /> </li><li><a
    href="http://blog.nwcadence.com/tfs-integration-tools-issue-unable-to-find-a-unique-local-path/"
    target="_blank">TFS Integration Tools – Issue: “unable to find a unique
    local path”</a><br /> </li><li><a
    href="http://blog.nwcadence.com/tfs-2012-issue-get-workspace-already-exists-connecting-with-vs-2008-or-vs-2010/"
    target="_blank">TFS 2012 Issue: Get Workspace already exists connecting with
    VS 2008 or VS 2010</a> </li></ol> </li><li><strong><a
    href="http://blog.hinshelwood.com/migrating-data-from-fogbugz-to-tfs-2012-using-the-tfs-integration-platform/">Part
    3: Migrating data from FogBugz to TFS 2012 using the TFS Integration
    Platform</a></strong>  <ol> <li><a
    href="http://blog.hinshelwood.com/tfs-integration-toolsissue-analysisprovider-not-found/"
    target="_blank">TFS Integration Tools–Issue: AnalysisProvider not
    found</a><br /> </li><li><a
    href="http://blog.hinshelwood.com/tfs-integration-tools-tf237165-the-team-foundation-server-could-not-update-the-work-item/"
    target="_blank">TFS Integration Tools: TF237165: The Team Foundation Server
    could not update the work item</a> </li></ol></li></ol></div> <ul> <li><span
    class="label label-important">Updated 2012-06-30</span> - <a
    href="https://twitter.com/PGHodgson" target="_blank">Phil Hodgson</a> one of
    the developers for TFS has been able to repo my <span style="color:
    #ff0000">typeNames</span>&nbsp; issue and resolved it by clearing the
    browser cache. While that was one of the first things that I tried onsite, I
    will need to give it a further look. This will most likely be the solution
    and I just did not do it right on the day <img class="wlEmoticon
    wlEmoticon-smile" style="border-top-style: none; border-left-style: none;
    border-bottom-style: none; border-right-style: none" alt="Smile"
    src="http://blog.hinshelwood.com/files/2012/07/wlEmoticon-smile3.png"/>
    Kudos to Phil…  </li><li><span class="label label-important">Updated
    2012-07-05</span> - <a href="https://twitter.com/PGHodgson"
    target="_blank">Phil Hodgson</a> hit it right on the nose and this let us
    complete the Process Template Consolidation this morning. </li></ul>
    <h4>Summary</h4> <p>What we are essentially trying to do is consolidate all
    of the Version Control, Work item Tracking and any other data used by the
    development team into a single supportable solution.</p> <p><a
    href="http://blog.hinshelwood.com/files/2012/06/image66.png"><img
    title="Physical structure of environment" style="border-left-width: 0px;
    border-right-width: 0px; background-image: none; border-bottom-width: 0px;
    padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px;
    border-top-width: 0px" border="0" alt="Physical structure of environment"
    src="http://blog.hinshelwood.com/files/2012/06/image_thumb48.png"
    width="640" height="360"/></a><br /><strong>Figure: Physical structure of
    environment</strong></p> <p>We have 3 separate systems that we want to merge
    and luckily there are out-of-the-box tools for two of them but we will have
    to see what the story is with Fogbugz.</p> <p><a
    href="http://blog.hinshelwood.com/files/2012/06/image67.png"><img
    title="Logical grouping of Systems" style="border-left-width: 0px;
    border-right-width: 0px; background-image: none; border-bottom-width: 0px;
    padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px;
    border-top-width: 0px" border="0" alt="Logical grouping of Systems"
    src="http://blog.hinshelwood.com/files/2012/06/image_thumb49.png"
    width="640" height="360"/></a><br /><strong>Figure: Logical grouping of
    Systems</strong></p> <p>We have a whole bunch of steps that need to be
    preformed in a certain order to be successful. With the VS 2012 RC the only
    supported way to move source from VSS to TFS is to do a tip migration only.
    If you want the full history you are going to have to migrate your VSS data
    into TFS 2010 and then upgrade. This is not a big deal, but it does delay
    the production TFS upgrade a little.</p> <ol> <li><strong><span class="label
    label-success">DONE</span> - Day 1- <s>Trial Upgrade of TFS 2010 SP1 to TFS
    2012 RC in Test Environment</s></strong><br />This was completed as a
    “disaster recovery” migration and tool little more than 20 minutes. 
    </li><li><strong><span class="label label-success">DONE</span> - Day 1 -
    <s>Plan for upgrade of TFS 2010 SP1 to TFS 2012 RC</s></strong><br />We have
    a plan detailed below to achieve this tomorrow.  </li><li><strong><span
    class="label label-success">DONE</span> - Day 1 - <s>Plan for upgrade of VSS
    2005 to TFS 2010 SP1 with Configuration files&nbsp; </s></strong><s><br
    /></s>We have successfully created the mapping files and a plan to migrate
    this tomorrow morning.  </li><li><strong><span class="label
    label-success">DONE</span> - Day 1 - <s>Trial upgrade of VSS 2005 to TFS
    2010 SP1</s><br /></strong>We have successfully migrated your largest VSS
    database to a trial collection in TFS 2010..  </li><li><strong><span
    class="label label-success">DONE</span> - Day 1 - <s>Verify migration from
    XP to TFS 2010 using the MSSCCI Provider</s></strong> 
    </li><li><strong><span class="label label-success">DONE</span> – Day 2 -
    <s>Production upgrade of VSS to TFS 2010</s></strong> 
    </li><li><strong><span class="label label-success">DONE</span> – Day 2 -
    <s>Production upgrade of TFS 2010 SP1 to TFS 2012 RC</s></strong> 
    </li><li><strong><span class="label label-success">DONE</span> – Day 3 -
    <s>Customisation of Process Template</s></strong>  </li><li><strong><span
    class="label label-success">DONE</span> – Day 3 - <s>Upgrade of existing
    Team Projects to Visual Studio Scrum 2.0 Process Template
    </s></strong></li></ol> <p>This is just the summary the implementation is
    way more fun…</p> <h4>Implementation</h4> <p>I always like to test
    everything first so I do trials of everything before I start doing the real
    thing. So I tend to have all of the errors, exceptions and wackier things as
    part of the and it should then just be a case of following the steps and
    dealing with the know errors and issues.</p> <ol> <li><strong><span
    class="label label-success">DONE</span> - Trial Upgrade of TFS 2010 SP1 to
    TFS 2012 RC in Test Environment</strong>  <p>As per <a
    href="http://blog.hinshelwood.com/installing-tfs-2012-with-lab-management-2012/">Installing
    TFS 2012 with Lab Management</a> the install was easy and flawless. We did
    have to reboot to install .NET 4.5, but that is common. We did a full
    configuration of TFS 2012 in its native state to verify that we could get
    everything working in the environment before trying an upgrade.</p> <p>[ARG…
    The Problem Steps recorder does not record Admin apps unless running in
    admin!]</p> <blockquote> <p>Warn when you hit the default number of screen
    shots so that I know that I have to save and start recording again. Better
    yet, do that automatically as I hit the limit. because of this I am having
    to mock my documentation.<br /><strong>-Suggestion for Problem Steps
    Recorder Team</strong></p></blockquote> <p>As part of any upgrade I like to
    do a trial upgrade on the new hardware before I do anything else. There are
    many reasons for this but the two that spring to mind are problems, and
    timing. We need to take the current TFS environment offline in order to do
    an upgrade and that can take time… but how much? Well, that depends on two
    things, the problems and the time it takes to execute the upgrade. Due to
    the PSR issue I have created a suggestion for above I have had to create
    screenshots by doing an Upgrade locally but all of the other screenshots are
    from the customers own environment. I did however follow exactly the same
    steps…</p> <p><a
    href="http://blog.hinshelwood.com/files/2012/06/image68.png"><img
    title="image" style="border-left-width: 0px; border-right-width: 0px;
    background-image: none; border-bottom-width: 0px; padding-top: 0px;
    padding-left: 0px; margin: 0px; display: inline; padding-right: 0px;
    border-top-width: 0px" border="0" alt="image"
    src="http://blog.hinshelwood.com/files/2012/06/image_thumb50.png"
    width="640" height="360"/></a><br /><strong>Figure: Un-configuring TFS is
    easy with tfsconfig setup /uninstall:all</strong></p> <p>Just in case you
    need it, TFS 2012 has an Uninstall option that really just un-configures it.
    This is a fantastic feature that helps after a trial upgrade to reset things
    so that you can follow the same steps.</p> <p><a
    href="http://blog.hinshelwood.com/files/2012/06/image69.png"><img
    title="image" style="border-left-width: 0px; border-right-width: 0px;
    background-image: none; border-bottom-width: 0px; padding-top: 0px;
    padding-left: 0px; margin: 0px; display: inline; padding-right: 0px;
    border-top-width: 0px" border="0" alt="image"
    src="http://blog.hinshelwood.com/files/2012/06/image_thumb51.png"
    width="640" height="360"/></a><br /><strong>Figure: Backing up TFS
    2010</strong></p> <p>Some folks script this out… I am old school and clicked
    away for the 5 db’s that I needed. Once you have everything backed up, head
    on over to new TFS 2012 server and restore all of the 2010 DB’s there. SQL
    Server 2012 will automatically upgrade them to its new format. Remember to
    take across the tfs_Warehouse as well as this will be upgraded as well.</p>
    <p><a href="http://blog.hinshelwood.com/files/2012/06/image70.png"><img
    title="image" style="border-left-width: 0px; border-right-width: 0px;
    background-image: none; border-bottom-width: 0px; padding-top: 0px;
    padding-left: 0px; margin: 0px; display: inline; padding-right: 0px;
    border-top-width: 0px" border="0" alt="image"
    src="http://blog.hinshelwood.com/files/2012/06/image_thumb52.png"
    width="640" height="360"/></a><br /><strong>Figure: Upgrading and moving
    server at the same time… the Upgrade Wizard is your friend</strong></p>
    <p>Even though we are moving server, same as <a
    href="http://blog.hinshelwood.com/presenting-visual-studio-alm-upgrading-tfs-2010-to-tfs-2012-in-production-done/"
    target="_blank">my previous TFS 2010 to TFS 2012 upgrade</a>, I did not
    require to do a TFS 2010 move first as I did before. I think that this was a
    simpler install as it was single server with the DB local and I was not
    changing configuration, just hardware. I did everything in one go.</p> <p><a
    href="http://blog.hinshelwood.com/files/2012/06/image71.png"><img
    title="image" style="border-left-width: 0px; border-right-width: 0px;
    background-image: none; border-bottom-width: 0px; padding-top: 0px;
    padding-left: 0px; display: inline; padding-right: 0px; border-top-width:
    0px" border="0" alt="image"
    src="http://blog.hinshelwood.com/files/2012/06/image_thumb53.png"
    width="640" height="360"/></a><br /><strong>Figure: New database
    restore</strong></p> <p>You can use the new database restore if you are
    currently using the <a
    href="http://blog.hinshelwood.com/creating-a-backup-in-team-foundation-server-2010-using-the-power-tools/"
    target="_blank">TFS 2010 Power Tools backup</a> facility to backup you
    server, but as I did a manual backup I need to do a manual restore. However
    this new feature makes it far easier and faster to get up and running in a
    disaster recovery scenario…</p> <p><a
    href="http://blog.hinshelwood.com/files/2012/06/image72.png"><img
    title="image" style="border-left-width: 0px; border-right-width: 0px;
    background-image: none; border-bottom-width: 0px; padding-top: 0px;
    padding-left: 0px; display: inline; padding-right: 0px; border-top-width:
    0px" border="0" alt="image"
    src="http://blog.hinshelwood.com/files/2012/06/image_thumb54.png"
    width="640" height="360"/></a><br /><strong>Figure: Even better than TFS
    2010</strong></p> <p>I don’t know how the product team managed it after the
    awesomeness that was a TFS 2010 upgrade, but they have made it even slicker.
    The feel of the install is one of spit and polish applied in abundance. All
    other product installs pale in comparison when you consider what it is
    doing…</p> <p><a
    href="http://blog.hinshelwood.com/files/2012/06/image73.png"><img
    title="image" style="border-left-width: 0px; border-right-width: 0px;
    background-image: none; border-bottom-width: 0px; padding-top: 0px;
    padding-left: 0px; display: inline; padding-right: 0px; border-top-width:
    0px" border="0" alt="image"
    src="http://blog.hinshelwood.com/files/2012/06/image_thumb55.png"
    width="640" height="360"/></a><br /><strong>Figure: Set your TFS Service
    Account</strong></p> <p>As we are working in a single server environment we
    need not use a Domain Account. I usually do anyway, but there is more setup
    on the domain front and although I had a tame domain admin available, it is
    not worth the extra hassle unless you are branching out to multi server. It
    is easy to change later, so I took the easy path…</p> <p><a
    href="http://blog.hinshelwood.com/files/2012/06/image74.png"><img
    title="image" style="border-left-width: 0px; border-right-width: 0px;
    background-image: none; border-bottom-width: 0px; padding-top: 0px;
    padding-left: 0px; display: inline; padding-right: 0px; border-top-width:
    0px" border="0" alt="image"
    src="http://blog.hinshelwood.com/files/2012/06/image_thumb56.png"
    width="640" height="360"/></a><br /><strong>Figure: Connecting to Reporting
    Services</strong></p> <p>There are a lot of cool features that Reporting
    Services and Analysis services offers so it is worth configuring it, and
    this should be painless as long as you have permission and access to both RS
    and AS. If they are managed / shared services you will be in for a world of
    hurt if the respective owners are not cooperative. That hurt not being the
    TFS teams fault is no consolation to that mess. This being a Single-Server
    deployment, we have a much easier time..</p> <p><a
    href="http://blog.hinshelwood.com/files/2012/06/image75.png"><img
    title="image" style="border-left-width: 0px; border-right-width: 0px;
    background-image: none; border-bottom-width: 0px; padding-top: 0px;
    padding-left: 0px; display: inline; padding-right: 0px; border-top-width:
    0px" border="0" alt="image"
    src="http://blog.hinshelwood.com/files/2012/06/image_thumb57.png"
    width="640" height="360"/></a><br /><strong>Figure: Auto detect the
    warehouse</strong></p> <p>I love the green ticks that let you see that you
    have all of the information correct before you either get an error
    installing, or get to the end and something does not work..</p> <p><a
    href="http://blog.hinshelwood.com/files/2012/06/image76.png"><img
    title="image" style="border-left-width: 0px; border-right-width: 0px;
    background-image: none; border-bottom-width: 0px; padding-top: 0px;
    padding-left: 0px; display: inline; padding-right: 0px; border-top-width:
    0px" border="0" alt="image"
    src="http://blog.hinshelwood.com/files/2012/06/image_thumb58.png"
    width="640" height="360"/></a><br /><strong>Figure: Verification
    Step</strong></p> <p>As well as validation at each and every stage of the
    wizard the product team have done an extensive verification system that
    checks everything it can to make sure that the actual configuration goes
    smoothly.</p> <p><a
    href="http://blog.hinshelwood.com/files/2012/06/image77.png"><img
    title="image" style="border-left-width: 0px; border-right-width: 0px;
    background-image: none; border-bottom-width: 0px; padding-top: 0px;
    padding-left: 0px; margin: 0px; display: inline; padding-right: 0px;
    border-top-width: 0px" border="0" alt="image"
    src="http://blog.hinshelwood.com/files/2012/06/image_thumb59.png"
    width="640" height="360"/></a><br /><strong>Figure: The green tick of
    Success</strong></p> <p>The full process for upgrading from beginning the
    backup process to having TFS 2012 up and running too less than 1 hour… yes
    that's 60 minutes. We only had around 3GB of data in 4 collections so that
    is not unusual and your times may vary. That is why I always insist on a
    trial upgrade first.</p> </li><li><strong><span class="label
    label-success">DONE</span> - Plan for upgrade of TFS 2010 SP1 to TFS 2012
    RC</strong>  <p>The trial upgrade took around 10 minutes to backup and copy
    all of the data across to the new server and then only 20 minutes to do the
    actual Upgrade to TFS 2012. This means that at most the upgrade will take 1
    hour and then the developers can get access to start coding away again.</p>
    <p>We will plan for 2 hours worth of down time to complete:</p> <ol>
    <li>Reset environment to an un-configured state <pre class="brush: ps;
    ruler: true;">tfsconfig setup /uninstall:ALL</pre>

    <p><strong>Figure: Uninstalling is really un-configuring</strong></p>

    <p>I have found the uninstall feature particularly useful in the upgrade
    scenarios where I want to run through a trial upgrade first and then do a
    production one. This way I can run both the same way and from the same
    starting state.</p>

    <p><a href="http://blog.hinshelwood.com/files/2012/06/image78.png"><img
    title="image" style="border-left-width: 0px; border-right-width: 0px;
    background-image: none; border-bottom-width: 0px; padding-top: 0px;
    padding-left: 0px; margin: 0px; display: inline; padding-right: 0px;
    border-top-width: 0px" border="0" alt="image"
    src="http://blog.hinshelwood.com/files/2012/06/image_thumb60.png"
    width="628" height="168"/></a><br /><strong>Figure: You can un-configure
    your TFS environment easily</strong></p>

    </li><li>Delete all configuration and collection databases from TFS
    including tfs_warehouse 

    </li><li>Email all TFS user to get off the system 

    </li><li>Stop all user access to TFS 2010 (wait 10 minutes for the usual
    last minute check-in screams)<br />Quesee the TFS 2010 server 

    </li><li>Backup all TFS 2010 databases 

    </li><li>Copy to TFS 2012 server and restore to SQL 2012 

    </li><li>Run “Upgrade Wizard” for TFS 2012 

    </li><li>Done </li></ol>

    <p><small>Note: Based off <a
    href="http://msdn.microsoft.com/en-us/library/ms404883(v=vs.100).aspx">http://msdn.microsoft.com/en-us/library/ms404883(v=vs.100).aspx</a></small></p>

    </li><li><strong><span class="label label-success">DONE</span> - Plan for
    migrations of VSS 2005 to TFS 2010 SP1 with Configuration files</strong> 

    <p>As with all migrations of data from one system to another this can be
    fraught with dangers. For a VSS to TFS migration you first need to find the
    documentation, which is no easy matter when all you get are 2005 and 2008
    documentation and you are using 2010. Which if you look hard enough you can
    find as the <a
    href="http://msdn.microsoft.com/en-us/library/ms253060.aspx">Migrate from
    Visual SourceSafe</a> document that comes in many flavours.</p>

    <p>If however you <span style="text-decoration: line-through">google</span>
    bing “VSS to TFS 2010” none of the top items will get you to 2010
    documentation, although it will very much look like it.</p>

    <p><img title="SNAGHTML1a513bf0" style="border-left-width: 0px;
    border-right-width: 0px; background-image: none; border-bottom-width: 0px;
    padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px;
    border-top-width: 0px" border="0" alt="SNAGHTML1a513bf0"
    src="http://blog.hinshelwood.com/files/2012/06/SNAGHTML1a513bf0.png"
    width="640" height="360"/><br /><strong>Figure: <img
    title="metro-icon-cross" style="border-left-width: 0px; border-right-width:
    0px; background-image: none; border-bottom-width: 0px; padding-top: 0px;
    padding-left: 0px; display: inline; padding-right: 0px; border-top-width:
    0px" border="0" alt="metro-icon-cross"
    src="http://blog.hinshelwood.com/files/2012/06/metro-icon-cross.png"
    width="16" height="16"/>The wrong VSS to TFS migration
    documentation</strong></p>

    <p>You need to spell out what you need a little more specifically. This just
    a case of the right keywords for the task not resulting in the correct
    document.</p>

    <p><img title="SNAGHTML1a4f3dc4" style="border-left-width: 0px;
    border-right-width: 0px; background-image: none; border-bottom-width: 0px;
    padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px;
    border-top-width: 0px" border="0" alt="SNAGHTML1a4f3dc4"
    src="http://blog.hinshelwood.com/files/2012/06/SNAGHTML1a4f3dc4.png"
    width="640" height="360"/><br /><strong>Figure: <img title="metro-icon-tick"
    style="border-left-width: 0px; border-right-width: 0px; background-image:
    none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px;
    display: inline; padding-right: 0px; border-top-width: 0px" border="0"
    alt="metro-icon-tick"
    src="http://blog.hinshelwood.com/files/2012/06/metro-icon-tick.png"
    width="16" height="16"/>The Correct VSS to TFS migration
    documentation</strong></p>

    <blockquote>

    <p>Make sure that your documentation cross references, or redirects to the
    right thing. In the TFS Teams defence the content on MSDN is both extensive
    and detailed. I don’t know how they keep it all strait.<br />-Suggestion to
    TFS Team</p></blockquote>

    <p>Once you have this figured out you have a few things to do. First things
    first, make sure that your VSS databases are valid and have very little
    inconsistencies. In this case my customer takes great pains (as any VSS user
    should) to check their VSS databases often. There were only a few errors and
    hopefully they will not impact the migration itself.</p>

    <p>In order to bring the VSS data across you need a couple of configuration
    files and a command line. Some of the bits are however done for you and are
    relatively easy. If you follow the documentation described above it will
    lead you through all of the big steps.</p>

    <p>The main thing is to make sure that you create the correct settings file
    and then modify it for the final run with the TFS server and mapping
    information.</p><pre class="brush: xml; ruler: true;">&lt; ?xml
    version="1.0" encoding="utf-8"?&gt;

          
                <source name="VSS" />
                      
                      
                      
                
                
                
                
          
          
                
         

    </pre>

    <p><strong>Figure: The convertor takes lost of parameters, not all are
    needed for both Analysis and Migration </strong></p>

    <p>The first time you run this it should be in “analysis” mode before you
    run it in “migrate”. To do that just run:</p><pre class="brush: ps; ruler:
    true;">vssconverter Analyse settings.xml</pre>

    <p><strong>Figure: Analyse and generate the User Settings file</strong></p>

    <p>The usermap file has a list of all of the Users in VSS and how the should
    be mapped to Active Directory.</p><pre class="brush: xml; ruler: true;">&lt;
    ?xml version="1.0" encoding="utf-8"?&gt;

      <!--
    This file is automatically created by VSS Converter. You can optionally use
    the file to map

    a VSS user to a Team Foundation user. For example, <UserMap From="Jane"
    To="MyDomainJanep"> 

    This mapping causes all actions logged by VSS user “Jane” to be changed to
    Team

    Foundation user “ MyDomainJanep ” during migration. 

    -->
      
      
      
      
      ...

    </pre>

    <p><strong>Figure: The usermap.xml file is generated</strong></p>

    <p>You can map any user that does not exist to a single account. That
    includes deceived and deleted Active Directory users.</p>

    <p><a
    href="http://blog.hinshelwood.com/files/2012/06/SNAGHTML1a9dd0d1.png"><img
    title="SNAGHTML1a9dd0d1" style="border-left-width: 0px; border-right-width:
    0px; background-image: none; border-bottom-width: 0px; padding-top: 0px;
    padding-left: 0px; display: inline; padding-right: 0px; border-top-width:
    0px" border="0" alt="SNAGHTML1a9dd0d1"
    src="http://blog.hinshelwood.com/files/2012/06/SNAGHTML1a9dd0d1_thumb.png"
    width="561" height="480"/></a><br /><strong>Figure: Detailed Analysis
    Report</strong></p>

    <p>You may get a few errors here that you can do something bout, but I found
    that the TF227010 could be gotten rid of by following the instructions and
    installing a patch, but that the TF227026 could be safely ignored unless you
    want to get everyone to check in.</p>

    <p>After the analysis you can run the migration for real and I would suggest
    that you do this to a test collection first so that you can verify and rerun
    to your hearts content until you get it write.</p>

    </li><li><strong><span class="label label-success">DONE</span> - Trial
    migration of VSS 2005 to TFS 2010 SP1</strong> 

    <p>Actually running the migration was fairly simple and we only ran into one
    little hiccup. It should however be noted that this is a one-time
    forward-only migration of data and if it messes up you will need to delete /
    destroy the folders that you have migrated and run it again…</p>

    <p><a href="http://blog.hinshelwood.com/files/2012/06/image79.png"><img
    title="image" style="border-left-width: 0px; border-right-width: 0px;
    background-image: none; border-bottom-width: 0px; padding-top: 0px;
    padding-left: 0px; margin: 0px; display: inline; padding-right: 0px;
    border-top-width: 0px" border="0" alt="image"
    src="http://blog.hinshelwood.com/files/2012/06/image_thumb61.png"
    width="640" height="322"/></a><br /><strong>Figure: You will always get the
    BuildProcessTemplates exists as… well… it does</strong></p>

    <p>Make sure that your references are correct and much of the settings.xml
    file is case sensitive. I don’t know why, and one of my pet hates is case
    sensitivity, but it is there so watch it…</p>

    <p>Make sure that you have all of the users added as contributors on your
    target TFS Collection or you will get errors. This can result in a “<a
    href="http://blog.hinshelwood.com/vss-converter-issue-tf60014-tf60087-failed-to-initialise-user-mapper/"
    target="_blank">TF60014 &amp; TF60087: Failed to initialise user mapper</a>”
    error which is easily resolved. In addition you need to watch out for a
    server clock issue that can have an affect. As you are hammering the server
    with check-ins your clock may be automatically reset by Active Directory.
    Now while this is not normally an issue you may get a&nbsp; “<a
    href="http://blog.hinshelwood.com/vss-converter-issue-tf54000-cannot-update-the-data-because-the-server-clock-may-have-been-set-incorrectly/">TF54000:
    Cannot update the data because the server clock may have been set
    incorrectly</a>” that you will need to resolve.</p>

    <p>The actual migration of this 1.2 GB set of data took around 40 minutes to
    complete once it got all the way through. This is the largest of the 4 VSS’s
    that we need to migrate and the smallest is 25mb…</p>

    </li><li><strong><span class="label label-success">DONE</span> - Verify
    migration from XP to TFS 2010 using the MSSCCI Provider</strong> 

    <p>Just to make sure that we are still able to connect from the legacy
    system. As we are using XP, everything takes ages to install <img
    class="wlEmoticon wlEmoticon-winkingsmile" style="border-top-style: none;
    border-left-style: none; border-bottom-style: none; border-right-style:
    none" alt="Winking smile"
    src="http://blog.hinshelwood.com/files/2012/06/wlEmoticon-winkingsmile.png"/></p>

    <ol>

    <li>Install .NET 4.0 

    </li><li>Install Team Explorer 2010 SP1 

    <p><small>Note: SP1 takes AGES on Windows XP!</small></p>

    </li><li>Install MSSCCI Provider (<a
    href="http://visualstudiogallery.msdn.microsoft.com/bce06506-be38-47a1-9f29-d3937d3d88d6"
    target="_blank">Team Foundation Server MSSCCI Provider 2010</a>) 

    </li><li>Connect from “File | Source Control | Team Foundation Server MSSCCI
    Provider” </li></ol>

    <p>While it was painful to use XP the customer does still have some code in
    Visual Studio 2003 which is not supported on Windows 7.</p>

    </li><li><strong><span class="label label-success">DONE</span> - Production
    upgrade of VSS to TFS 2010</strong> 

    <p>Now that we have the Trial complete and the tests performed it is time to
    motor on with the production upgrade. The first task is to mark all of the
    users as read-only. This is likely to go just like the trial, except
    hopefully we will not have that annoying datetime issue. It is just a case
    of running thorough all three of the databases on after another and watching
    the scrolling status.</p>

    <ol>

    <li><strong>VssDb1</strong>– 1.02 GB 

    <p>This DB contains mostly Visual Studio 2003 projects and resulted in 49880
    actions that took about 65 minutes to commit to TFS 2010.</p>

    </li><li><strong>VssDb2</strong>– 527mb 

    <p>This DB contains mostly Visual Studio 2008 projects and resulted in 30657
    action that took about 37 minutes to commit to TFS 2010. It did have a bunch
    of errors, but they were due to known corruptions in the VSS database and
    will need to be managed manually if at all.</p>

    </li><li><strong>VssDb3</strong>– 39.6mb 

    <p>This DB contains mostly Visual Studio 2010 projects and resulted in 5830
    actions that took about 6 minutes to commit to TFS 2010.</p></li></ol>

    <p>Its all bout the number of actions and not just the size of the data.</p>

    </li><li><strong><span class="label label-success">DONE</span> - Production
    upgrade of TFS 2010 SP1 to TFS 2012 RC</strong> 

    <p>We have around 2 GB of data in TFS 2010 so the upgrade is a little
    trivial from a size perspective. This was a totally uneventful upgrade that
    just worked as we did it in the Trial.</p>

    </li><li><strong><span class="label label-success">DONE</span> -
    Customisation of Process Template</strong> 

    <p>If you are going to be customising work item then you need to make sure
    that you have the Power Tools installed for your version of Visual Studio.
    This is what you will be using to do the customisation unless you can see
    xml like matrix code <img class="wlEmoticon wlEmoticon-smile"
    style="border-top-style: none; border-left-style: none; border-bottom-style:
    none; border-right-style: none" alt="Smile"
    src="http://blog.hinshelwood.com/files/2012/06/wlEmoticon-smile4.png"/></p>

    <p><a href="http://blog.hinshelwood.com/files/2012/06/image83.png"><img
    title="image" style="border-left-width: 0px; border-right-width: 0px;
    background-image: none; border-bottom-width: 0px; padding-top: 0px;
    padding-left: 0px; margin: 0px; display: inline; padding-right: 0px;
    border-top-width: 0px" border="0" alt="image"
    src="http://blog.hinshelwood.com/files/2012/06/image_thumb65.png"
    width="640" height="360"/></a><br /><strong>Figure: Adding customer fields
    is relatively easy</strong></p>

    <p>The key to adding fields is to not think about fields. What? But I want
    fields… well no… not quite.. You want reports. That’s a subtle difference
    but a difference none the less. Look at what reports that you want to have
    and loop back to fields from there. You will be surprised at home many
    fields you just don't need.</p>

    <p><a href="http://blog.hinshelwood.com/files/2012/06/image84.png"><img
    title="image" style="border-left-width: 0px; border-right-width: 0px;
    background-image: none; border-bottom-width: 0px; padding-top: 0px;
    padding-left: 0px; margin: 0px; display: inline; padding-right: 0px;
    border-top-width: 0px" border="0" alt="image"
    src="http://blog.hinshelwood.com/files/2012/06/image_thumb66.png"
    width="640" height="360"/></a><br /><strong>Figure: Always test against a
    development server</strong></p>

    <p>I just installed a new TFS 2012 server in a VM in order to test their
    process template. While the validation rules are good, they do not always
    catch everything and I like to make sure that I can create and walk through
    the work item before I push it to the production server!</p>

    <p><a href="http://blog.hinshelwood.com/files/2012/06/image85.png"><img
    title="image" style="border-left-width: 0px; border-right-width: 0px;
    background-image: none; border-bottom-width: 0px; padding-top: 0px;
    padding-left: 0px; margin: 0px; display: inline; padding-right: 0px;
    border-top-width: 0px" border="0" alt="image"
    src="http://blog.hinshelwood.com/files/2012/06/image_thumb67.png"
    width="640" height="360"/></a><br /><strong>Figure: Everything should be
    under Version Control</strong></p>

    <p>Make sure that you check in your changes to the process template. I like
    to download the entire process template and put that under version control
    so that any changes going forward are captured. Even though I encourage most
    customers to have very few Team Projects it still makes sense to do this.
    The single point of truth should always be version control.</p>

    </li><li><strong><span class="label label-success">DONE</span> - Upgrade of
    existing Team Projects to Visual Studio Scrum 2.0 Process Template</strong> 

    <p>For this I am going to create a hybrid of <a
    href="http://blog.hinshelwood.com/process-template-upgrade-7-overwrite-retaining-history-with-limited-migration/"
    target="_blank">Process Template Upgrade #7 – Rename Work Items and Import
    new ones</a> and <a
    href="http://blog.hinshelwood.com/process-template-upgrade-3-destroy-all-work-items-and-import-new-ones/">Process
    Template Upgrade #3 – Destroy all Work Items and Import new ones</a>. The
    customer is only using a few Tasks and a handful of Test Cases that they
    needs to keep.</p>

    <p>I created a little batch file to upgrade from one of the MSF for Agile
    4.x Templates to the Visual Studio Scrum 2.0 without losing any data.</p>

    <p><span style="color: #ff0000"><small>Warning: Data will disappear wen we
    upload the new work item types, but it is still all there as orphan fields
    in the TFS database. You can follow the instructions in #7 to make the data
    visible gain. This script is provided with no warranties and guarantees.
    Make really sure by running it against a mock up or clone of your Team
    Project.</small></span></p><pre class="brush: ps; ruler: true;">set
    tpc=http://kraken:8080/tfs/DefaultCollection

    set pt=C:wsNwCadencePCustomer1ProcessTemplateR1Source

    set tp=TestWipe1

    //witadmin listwitd /collection:%tpc% /p:%tp% 

    // Do Renames

    witadmin renamewitd /collection:%tpc% /p:%tp% /n:"User Story" /new:"Product
    Backlog Item"

    witadmin renamewitd /collection:%tpc% /p:%tp% /n:"Issue" /new:"Impediment"

    // Apply new Template

    witadmin importwitd /collection:%tpc% /p:%tp% /f:"%pt%WorkItem
    TrackingTypeDefinitionsBug.xml"

    witadmin importwitd /collection:%tpc% /p:%tp% /f:"%pt%WorkItem
    TrackingTypeDefinitionsCodeReviewRequest.xml"

    witadmin importwitd /collection:%tpc% /p:%tp% /f:"%pt%WorkItem
    TrackingTypeDefinitionsCodeReviewResponse.xml"

    witadmin importwitd /collection:%tpc% /p:%tp% /f:"%pt%WorkItem
    TrackingTypeDefinitionsFeedbackRequest.xml"

    witadmin importwitd /collection:%tpc% /p:%tp% /f:"%pt%WorkItem
    TrackingTypeDefinitionsFeedbackResponse.xml"

    witadmin importwitd /collection:%tpc% /p:%tp% /f:"%pt%WorkItem
    TrackingTypeDefinitionsImpediment.xml"

    witadmin importwitd /collection:%tpc% /p:%tp% /f:"%pt%WorkItem
    TrackingTypeDefinitionsProductBacklogItem.xml"

    witadmin importwitd /collection:%tpc% /p:%tp% /f:"%pt%WorkItem
    TrackingTypeDefinitionsSharedStep.xml"

    witadmin importwitd /collection:%tpc% /p:%tp% /f:"%pt%WorkItem
    TrackingTypeDefinitionsTask.xml"

    witadmin importwitd /collection:%tpc% /p:%tp% /f:"%pt%WorkItem
    TrackingTypeDefinitionsTestCase.xml"

    // Import Link Types just in case comming from 2008

    witadmin importlinktype /collection:%tpc% /f:"%pt%WorkItem
    TrackingLinkTypesSharedStep.xml"

    witadmin importlinktype /collection:%tpc% /f:"%pt%WorkItem
    TrackingLinkTypesTestedBy.xml"

    // Import Categories

    witadmin importcategories /collection:%tpc% /p:%tp% /f:"%pt%WorkItem
    Trackingcategories.xml"

    // Upload the new Common Config and Agile Config

    witadmin importcommonprocessconfig /collection:%tpc% /p:%tp%
    /f:"%pt%WorkItem TrackingProcessCommonConfiguration.xml"

    witadmin importagileprocessconfig /collection:%tpc% /p:%tp% /f:"%pt%WorkItem
    TrackingProcessAgileConfiguration.xml"

    Pause

    </pre>

    <p><strong>Figure: Scripting out an process template migration</strong></p>

    <p>Once you have done the process template migration you should heavily test
    it to make sure that you are not loosing anything or killing your TFS
    server.</p>

    <p>I have about 40 Team Projects to migrate over 3 Team Project Collections.
    Once everyone is on a consistent process template we will then begin the
    process of consolidating all of those into a single Collection, but that is
    a story for another day.</p>

    <p><a href="http://blog.hinshelwood.com/files/2012/06/image86.png"><img
    title="image" style="border-left-width: 0px; border-right-width: 0px;
    background-image: none; border-bottom-width: 0px; padding-top: 0px;
    padding-left: 0px; margin: 0px; display: inline; padding-right: 0px;
    border-top-width: 0px" border="0" alt="image"
    src="http://blog.hinshelwood.com/files/2012/06/image_thumb68.png"
    width="566" height="318"/></a><br /><strong>Figure: Team Home rename does
    not take (Invalid argument value: Parameter name: typeNames) </strong></p>

    <p>The only error I am getting after the migration is only for the
    Agile-&gt;Scrum migration as it required a rename of “User Story” to
    “Product Backlog Item” which seams to have confused the UI a little. I have
    tried an IIS Reset to no avail and so emailed the Product Team for advice. I
    will let you know how that turns out.</p>

    <p>Other than that everything else works. The Visual Studio Scrum 1.0 –&gt;
    Visual Studio Scrum 2.0 migration went perfectly and they now have all of
    the native work items and no Sprint item. There are really two other areas
    to worry about, which I am not right at this moment, and that is Reports and
    Queries. One the UI hiccup is fixed we are going to be consolidating all of
    the Team Projects into a single Collection so spending a lot of time on
    Report is not going to be worth it.</p>

    <p>Check out the afore mentioned <a
    href="http://blog.hinshelwood.com/process-template-upgrade-7-overwrite-retaining-history-with-limited-migration/"
    target="_blank">Process Template Upgrade #7 – Rename Work Items and Import
    new ones</a> post for a full listing of everything you need to do to
    complete the process.</p>

    </li><li><strong><span class="label label-success">DONE</span> – Outstanding
    typeNames error</strong><br />This is literally just a caching issue in IE
    as defined by <a href="https://twitter.com/PGHodgson" target="_blank">Phil
    Hodgson</a> </li></ol>

    <h3>Troubleshooting</h3>

    <ul>

    <li><a
    href="http://blog.hinshelwood.com/vss-converter-issue-tf60014-tf60087-failed-to-initialise-user-mapper/"
    target="_blank">VSS Converter – Issue: TF60014 &amp; TF60087: Failed to
    initialise user mapper</a> 

    </li><li><a
    href="http://blog.hinshelwood.com/vss-converter-issue-tf54000-cannot-update-the-data-because-the-server-clock-may-have-been-set-incorrectly/"
    target="_blank">VSS Converter – Issue: TF54000: Cannot update the data
    because the server clock may have been set incorrectly</a> </li></ul>

    <h3>References</h3>

    <p>I am always amazed at how many pages, documents and files that I use
    during an engagement:</p>

    <ul>

    <li><span class="label label-info">Blog</span> <a
    href="http://blogs.msdn.com/b/bharry/archive/2012/06/09/update-for-vs-2008-and-tfs-11.aspx"
    target="_blank">Update for VS 2008 and TFS 11</a> 

    </li><li><span class="label label-info">Download</span> <a
    href="http://www.microsoft.com/en-us/download/details.aspx?id=29082"
    target="_blank">Visual Studio 2010 SP1 Team Foundation Server 11
    Compatibility GDR</a> 

    </li><li><span class="label label-info">Download</span> <a
    href="http://www.microsoft.com/en-us/download/details.aspx?id=10834"
    target="_blank">Visual Studio Team System 2008 Service Pack 1 Forward
    Compatibility Update for Team Foundation Server 2010</a> 

    </li><li><span class="label label-info">Download</span> <a
    href="http://visualstudiogallery.msdn.microsoft.com/27832337-62ae-4b54-9b00-98bb4fb7041a"
    target="_blank">Microsoft Visual Studio Team Foundation Server 11 Beta Power
    Tools</a> (works with RC as well) 

    </li><li><span class="label label-info">Download</span> <a
    href="http://www.microsoft.com/en-us/download/details.aspx?id=29932"
    target="_blank">Team Explorer for Visual Studio 2012 RC</a> 

    </li><li><span class="label label-info">Blog</span> <a
    href="http://blog.hinshelwood.com/creating-a-backup-in-team-foundation-server-2010-using-the-power-tools/"
    target="_blank">Creating a backup in Team Foundation Server 2010 using the
    Power Tools</a> 

    </li><li><span class="label label-info">Download</span> <a
    href="http://visualstudiogallery.msdn.microsoft.com/bce06506-be38-47a1-9f29-d3937d3d88d6"
    target="_blank">Team Foundation Server MSSCCI Provider 2010 32-bit</a> 

    </li><li><span class="label label-info">Blog</span> <a
    href="http://blog.hinshelwood.com/installing-tfs-2012-with-lab-management-2012/"
    target="_blank">Installing TFS 2012 with Lab Management 2012</a> 

    </li><li><span class="label label-info">MSDN</span> <a
    href="http://msdn.microsoft.com/en-us/library/ms404883(v=vs.100).aspx"
    target="_blank">Move Team Foundation Server from One Environment to
    Another</a> 

    </li><li><span class="label label-info">MSDN</span> <a
    href="http://msdn.microsoft.com/en-us/library/bb386005.aspx"
    target="_blank">Destroy Command (Team Foundation Version Control)</a> 

    </li><li><span class="label label-info">Blog</span> <a
    href="http://blog.hinshelwood.com/full-fidelity-history-and-data-migration-are-mutually-exclusive/"
    target="_blank">Full-fidelity history and data migration are mutually
    exclusive</a> 

    </li><li><span class="label label-info">MSDN</span> <a
    href="http://msdn.microsoft.com/en-us/library/ms253060.aspx"
    target="_blank">Migrate from Visual SourceSafe</a> 

    </li><li><span class="label label-info">Videos</span> <a
    href="http://www.microsoft.com/visualstudio/en-us/upgrade-visual-sourcesafe"
    target="_blank">UPGRADE FROM VISUAL SOURCESAFE!</a> (Rennie is awesome) 

    </li><li><span class="label label-info">MSDN</span> <a
    href="http://msdn.microsoft.com/en-us/library/ms181247(v=vs.90)"
    target="_blank">Walkthrough: Migrating from Visual SourceSafe to Team
    Foundation</a> 

    </li><li><span class="label label-info">MSDN</span> <a
    href="http://msdn.microsoft.com/en-us/library/dd936158"
    target="_blank">Split a Team Project Collection</a> </li></ul>

    <h4>Conclusion</h4>

    <p>That was this week….next week we will be looking at completing the
    Process Template upgrade, importing all of the FogBugz data and it looks
    like we will also be consolidating all of the Team Project Collections, Team
    Projects and Products into a single Team Project .</p>

    <p>One project to rule them all…</p>

    <p><em>-Are you upgrading tfs from one version to another? Northwest Cadence
    has experts ready to help you upgrade from any system to TFS. Contact <a
    href="mailto:info@nwcadence.com">info@nwcadence.com</a></em><em> today to
    find out how we can help you…</em></p>
  - >-
    <p class="lead">Back in Seattle and another awesome engagement, this time
    with a local company to upgrade their version of TFS from 2010 to 2012 and
    migrate all of their legacy VSS databases. Additional they want to take
    advantage of the new team features of TFS 2012 and need to consolidate all
    of their team projects </p>
  post_id: '5702'
  post_date: '2012-06-29 19:38:01'
  post_date_gmt: '2012-06-30 02:38:01'
  post_modified: '2012-06-29 19:38:01'
  post_modified_gmt: '2012-06-30 02:38:01'
  comment_status: open
  ping_status: open
  post_name: >-
    upgrading-tfs-2010-to-tfs-2012-with-vss-migration-and-process-template-consolidation
  status: publish
  post_parent: '0'
  menu_order: '0'
  post_type: post
  post_password: ''
  is_sticky: '0'
  category: {}
  postmeta:
  - meta_key: authorsure_include_css
    meta_value: ''
  - meta_key: _yoast_wpseo_linkdex
    meta_value: '76'
  - meta_key: _edit_last
    meta_value: '3'
  - meta_key: _views_template
    meta_value: '0'
  - meta_key: _yoast_wpseo_focuskw
    meta_value: upgrading tfs
  - meta_key: _yoast_wpseo_title
    meta_value: >-
      Upgrading TFS 2010 to TFS 2012 with VSS Migration and Process Template
      consolidation
  - meta_key: _yoast_wpseo_metadesc
    meta_value: >-
      Upgrading TFS from one version to another can involve lots of moving
      parts. See how I go about upgrading tfs from one version to another with
      new features
  - meta_key: dsq_thread_id
    meta_value: '745532770'
  - meta_key: authorsure_include_css
    meta_value: ''
  - meta_key: _wpbitly
    meta_value: http://nkdalm.net/1aBMCJV
  - meta_key: _jetpack_related_posts_cache
    meta_value: >-
      a:1:{s:32:"8f6677c9d6b0f903e98ad32ec61f8deb";a:2:{s:7:"expires";i:1474925294;s:7:"payload";a:3:{i:0;a:1:{s:2:"id";i:6202;}i:1;a:1:{s:2:"id";i:6905;}i:2;a:1:{s:2:"id";i:6109;}}}}
  - meta_key: _wpghs_github_path
    meta_value: >-
      _posts/2012-06-29-upgrading-tfs-2010-to-tfs-2012-with-vss-migration-and-process-template-consolidation.md
  - meta_key: _sha
    meta_value: ''
  - meta_key: _tribe_ticket_capacity
    meta_value: '0'
  - meta_key: _tribe_ticket_version
    meta_value: 4.12.1.2
  - meta_key: ekit_post_views_count
    meta_value: '2605'
  comment:
  - comment_id: '1248'
    comment_author: >-
      Visual Studio ALM with Team Foundation Server, Visual Studio &amp; Scrum |
      One Team Project Collection to rule them all&ndash;Consolidating Team
      Projects
    comment_author_email: ''
    comment_author_url: >-
      http://blog.hinshelwood.com/one-team-project-collection-to-rule-them-allconsolidating-team-projects/
    comment_author_IP: 184.168.230.128
    comment_date: '2012-07-10 17:21:42'
    comment_date_gmt: '2012-07-11 00:21:42'
    comment_content: >-
      [...]               Upgrading TFS 2010 to TFS 2012 with VSS Migration and
      Process Template consolidation         Share &rarr;   (function(d, s, id)
      { var js, fjs = d.getElementsByTagName(s)[0]; if [...]
    comment_approved: '1'
    comment_type: pingback
    comment_parent: '0'
    comment_user_id: '0'
    commentmeta:
    - meta_key: akismet_result
      meta_value: 'false'
    - meta_key: akismet_history
      meta_value: >-
        a:4:{s:4:"time";s:13:"1341966102.92";s:7:"message";s:28:"Akismet cleared
        this comment";s:5:"event";s:9:"check-ham";s:4:"user";s:0:"";}
    - meta_key: akismet_history
      meta_value: >-
        a:4:{s:4:"time";s:13:"1341966279.83";s:7:"message";s:46:"MrHinsh changed
        the comment status to
        approved";s:5:"event";s:15:"status-approved";s:4:"user";s:7:"MrHinsh";}
  - comment_id: '1249'
    comment_author: >-
      Visual Studio 2012 RTM available &amp; installed - Visual Studio ALM from
      Martin Hinshelwood
    comment_author_email: ''
    comment_author_url: http://blog.hinshelwood.com/visual-studio-2012-rtm-available-installed/
    comment_author_IP: 96.126.104.162
    comment_date: '2012-09-19 22:53:33'
    comment_date_gmt: '2012-09-20 05:53:33'
    comment_content: >-
      [...] Upgrading TFS 2010 to TFS 2012 with VSS Migration and Process
      Template consolidation (Customer) [...]
    comment_approved: '1'
    comment_type: pingback
    comment_parent: '0'
    comment_user_id: '0'
    commentmeta:
    - meta_key: akismet_result
      meta_value: 'false'
    - meta_key: akismet_history
      meta_value: >-
        a:4:{s:4:"time";s:13:"1348120413.72";s:7:"message";s:28:"Akismet cleared
        this comment";s:5:"event";s:9:"check-ham";s:4:"user";s:0:"";}
    - meta_key: akismet_history
      meta_value: >-
        a:4:{s:4:"time";s:13:"1348120677.65";s:7:"message";s:46:"MrHinsh changed
        the comment status to
        approved";s:5:"event";s:15:"status-approved";s:4:"user";s:7:"MrHinsh";}
  - comment_id: '1250'
    comment_author: Upgrading from TFS 2008 to TFS 2010 Overview - Visual Studio ALM
    comment_author_email: ''
    comment_author_url: http://blog.hinshelwood.com/upgrading-from-tfs-2008-to-tfs-2010-overview/
    comment_author_IP: 96.126.104.162
    comment_date: '2012-09-21 23:24:41'
    comment_date_gmt: '2012-09-22 06:24:41'
    comment_content: >-
      [...] best documentation of my experience of implementing #7 was as part
      of a 2010 to 2012 upgrade, but the process is the [...]
    comment_approved: '1'
    comment_type: pingback
    comment_parent: '0'
    comment_user_id: '0'
    commentmeta:
    - meta_key: akismet_result
      meta_value: 'false'
    - meta_key: akismet_history
      meta_value: >-
        a:4:{s:4:"time";s:13:"1348295081.93";s:7:"message";s:28:"Akismet cleared
        this comment";s:5:"event";s:9:"check-ham";s:4:"user";s:0:"";}
    - meta_key: akismet_history
      meta_value: >-
        a:4:{s:4:"time";s:13:"1348295227.04";s:7:"message";s:46:"MrHinsh changed
        the comment status to
        approved";s:5:"event";s:15:"status-approved";s:4:"user";s:7:"MrHinsh";}
  - comment_id: '1251'
    comment_author: >-
      Migrating data from FogBugz to TFS 2012 using the TFS Integration Platform
      - Visual Studio ALM
    comment_author_email: ''
    comment_author_url: >-
      http://blog.hinshelwood.com/migrating-data-from-fogbugz-to-tfs-2012-using-the-tfs-integration-platform/
    comment_author_IP: 96.126.104.162
    comment_date: '2012-10-02 12:21:24'
    comment_date_gmt: '2012-10-02 19:21:24'
    comment_content: >-
      [...] Part 1: Upgrading TFS 2010 to TFS 2012 with VSS Migration and
      Process Template consolidation [...]
    comment_approved: '1'
    comment_type: pingback
    comment_parent: '0'
    comment_user_id: '0'
    commentmeta:
    - meta_key: akismet_result
      meta_value: 'false'
    - meta_key: akismet_history
      meta_value: >-
        a:4:{s:4:"time";s:13:"1349205684.92";s:7:"message";s:28:"Akismet cleared
        this comment";s:5:"event";s:9:"check-ham";s:4:"user";s:0:"";}
    - meta_key: akismet_history
      meta_value: >-
        a:4:{s:4:"time";s:12:"1349209704.7";s:7:"message";s:46:"MrHinsh changed
        the comment status to
        approved";s:5:"event";s:15:"status-approved";s:4:"user";s:7:"MrHinsh";}
  - comment_id: '1252'
    comment_author: Gary Nguyen
    comment_author_email: chaunguyen1997@yahoo.com
    comment_author_url: ''
    comment_author_IP: 206.169.203.164
    comment_date: '2012-11-07 14:44:00'
    comment_date_gmt: '2012-11-07 22:44:00'
    comment_content: >-
      Martin, thanks very much for these instructions. We're with Mitchell and
      we met and discuss regarding to our configuration in Irvine office,
      remember? 


      Have you tried to setup TFS 2012 build agent/controller in workgroup
      environment? We did have it for 2010 but since 2012, we couldn't set it up
      that way.
    comment_approved: '1'
    comment_type: comment
    comment_parent: '0'
    comment_user_id: '0'
    commentmeta:
    - meta_key: dsq_parent_post_id
      meta_value: ''
    - meta_key: dsq_post_id
      meta_value: '703308646'
  - comment_id: '1253'
    comment_author: Sirnet
    comment_author_email: Sirnet@hotmail.com
    comment_author_url: ''
    comment_author_IP: 217.35.98.167
    comment_date: '2012-11-27 12:28:00'
    comment_date_gmt: '2012-11-27 20:28:00'
    comment_content: >-
      Thanks it is very helpful guide, could u please refer some resource about
      migrating tfs sharepoint websites and data?
    comment_approved: '1'
    comment_type: comment
    comment_parent: '0'
    comment_user_id: '0'
    commentmeta:
    - meta_key: dsq_parent_post_id
      meta_value: ''
    - meta_key: dsq_post_id
      meta_value: '720636275'
  - comment_id: '1254'
    comment_author: Martin Hinshelwood
    comment_author_email: martin@hinshelwood.com
    comment_author_url: http://blog.hinshelwood.com/
    comment_author_IP: 184.78.139.42
    comment_date: '2012-11-27 12:36:00'
    comment_date_gmt: '2012-11-27 20:36:00'
    comment_content: >-
      Just like upgrading the Process Template (Blueprint) for a Team Project is
      hard, doing it for SharePoint is equily hard. Even if you upgrade from WSS
      3.0 -&gt; SharePoint Foundation 2010 -&gt; SharePoint Foundation 2013 you
      still have sites created in WSS 3.0 with WSS 3.0 templates.


      Check out:
      http://blog.hinshelwood.com/upgrading-from-tfs-2008-and-wss-v3-0-with-sftsv2-to-tfs-2010-and-sf-2010-with-sftsv3/
      Where I  describe upgrading WSS 3.0 to SharePoint Foundation 2010...
    comment_approved: '1'
    comment_type: comment
    comment_parent: '1253'
    comment_user_id: '0'
    commentmeta:
    - meta_key: dsq_parent_post_id
      meta_value: '720636275'
    - meta_key: dsq_post_id
      meta_value: '720641351'
  - comment_id: '1255'
    comment_author: Samer Adra
    comment_author_email: ''
    comment_author_url: http://www.facebook.com/sameradra
    comment_author_IP: 50.193.148.251
    comment_date: '2013-04-10 11:13:00'
    comment_date_gmt: '2013-04-10 18:13:00'
    comment_content: >-
      Thanks for the solution to the typesNames issue! I was looking all over
      trying to figure it out, not realizing I had to clear the cache on the
      client side.
    comment_approved: '1'
    comment_type: comment
    comment_parent: '0'
    comment_user_id: '0'
    commentmeta:
    - meta_key: dsq_parent_post_id
      meta_value: ''
    - meta_key: dsq_post_id
      meta_value: '858880199'
  - comment_id: '1256'
    comment_author: Marty
    comment_author_email: dauciunas@hotmail.com
    comment_author_url: ''
    comment_author_IP: 195.14.172.206
    comment_date: '2013-04-23 01:54:00'
    comment_date_gmt: '2013-04-23 08:54:00'
    comment_content: >-
      Off topic - what tool did You use to create those arrows on the first
      screens (Figure: Backing up TFS 2010) ?
    comment_approved: '1'
    comment_type: comment
    comment_parent: '0'
    comment_user_id: '0'
    commentmeta:
    - meta_key: dsq_parent_post_id
      meta_value: ''
    - meta_key: dsq_post_id
      meta_value: '873077244'
  - comment_id: '1257'
    comment_author: Martin Hinshelwood
    comment_author_email: martin@hinshelwood.com
    comment_author_url: http://blog.hinshelwood.com/
    comment_author_IP: 68.118.213.79
    comment_date: '2013-04-23 05:38:00'
    comment_date_gmt: '2013-04-23 12:38:00'
    comment_content: SnagIt from Techsmith
    comment_approved: '1'
    comment_type: comment
    comment_parent: '1256'
    comment_user_id: '0'
    commentmeta:
    - meta_key: dsq_parent_post_id
      meta_value: '873077244'
    - meta_key: dsq_post_id
      meta_value: '873181416'
  - comment_id: '1788'
    comment_author: Mick Wang
    comment_author_email: michael.k.wang@gmail.com
    comment_author_url: ''
    comment_author_IP: 220.245.18.243
    comment_date: '2013-08-08 12:52:00'
    comment_date_gmt: '2013-08-08 12:52:00'
    comment_content: >-
      Off topic - what did you use to create Figure: Physical structure of
      environment &amp; Logical grouping of Systems? Many thanks :)
    comment_approved: '1'
    comment_type: comment
    comment_parent: '0'
    comment_user_id: '0'
    commentmeta:
    - meta_key: dsq_parent_post_id
      meta_value: ''
    - meta_key: dsq_post_id
      meta_value: '992987729'
  - comment_id: '1794'
    comment_author: Martin Hinshelwood
    comment_author_email: martin@hinshelwood.com
    comment_author_url: http://blog.hinshelwood.com/
    comment_author_IP: 68.185.1.174
    comment_date: '2013-08-09 01:09:00'
    comment_date_gmt: '2013-08-09 01:09:00'
    comment_content: PowerPoint :)
    comment_approved: '1'
    comment_type: comment
    comment_parent: '1788'
    comment_user_id: '0'
    commentmeta:
    - meta_key: dsq_parent_post_id
      meta_value: '992987729'
    - meta_key: dsq_post_id
      meta_value: '993825821'
  - comment_id: '1795'
    comment_author: Mick Wang
    comment_author_email: michael.k.wang@gmail.com
    comment_author_url: ''
    comment_author_IP: 61.8.107.14
    comment_date: '2013-08-09 01:45:00'
    comment_date_gmt: '2013-08-09 01:45:00'
    comment_content: Thanks, would you be able to send me a copy? :)
    comment_approved: '1'
    comment_type: comment
    comment_parent: '1794'
    comment_user_id: '0'
    commentmeta:
    - meta_key: dsq_parent_post_id
      meta_value: '993825821'
    - meta_key: dsq_post_id
      meta_value: '993849514'
  - comment_id: '11692'
    comment_author: Moe Alkazzaz
    comment_author_email: mkazzaz@gmail.com
    comment_author_url: ''
    comment_author_IP: 107.197.58.10
    comment_date: '2015-04-03 16:44:00'
    comment_date_gmt: '2015-04-03 15:44:00'
    comment_content: >-
      Hi there. Thanks for sharing but I have a question. After I upgraded TFS
      from 2010 to 2012, I'm unable to upload, download or delete process
      template using Process Template Manager. I can see the list but the
      buttons are disabled. Any idea why?
    comment_approved: '1'
    comment_type: comment
    comment_parent: '0'
    comment_user_id: '0'
    commentmeta:
    - meta_key: dsq_parent_post_id
      meta_value: ''
    - meta_key: dsq_post_id
      meta_value: '1944271401'
  - comment_id: '11693'
    comment_author: Martin Hinshelwood
    comment_author_email: martin@nakedalm.com
    comment_author_url: http://nkdagility.com/blog
    comment_author_IP: 82.12.112.139
    comment_date: '2015-04-03 16:47:00'
    comment_date_gmt: '2015-04-03 15:47:00'
    comment_content: >-
      Permissions. You need to be a Team Project Collection Admin to be able to
      mess with those buttons...
    comment_approved: '1'
    comment_type: comment
    comment_parent: '11692'
    comment_user_id: '0'
    commentmeta:
    - meta_key: dsq_parent_post_id
      meta_value: '1944271401'
    - meta_key: dsq_post_id
      meta_value: '1944275451'
  - comment_id: '11694'
    comment_author: Moe Alkazzaz
    comment_author_email: mkazzaz@gmail.com
    comment_author_url: ''
    comment_author_IP: 173.224.159.21
    comment_date: '2015-04-03 17:31:00'
    comment_date_gmt: '2015-04-03 16:31:00'
    comment_content: >-
      Thanks for the reply Martin. And that's what I thought. I'm the admin (did
      the whole upgrade) and I'm already part of this group. I don't understand
      why the buttons are disabled. I also switched domains in the process of
      upgrade. I wonder if that's related to the issue.
    comment_approved: '1'
    comment_type: comment
    comment_parent: '11693'
    comment_user_id: '0'
    commentmeta:
    - meta_key: dsq_parent_post_id
      meta_value: '1944275451'
    - meta_key: dsq_post_id
      meta_value: '1944393979'
  - comment_id: '11747'
    comment_author: Martin Hinshelwood
    comment_author_email: martin@nakedalm.com
    comment_author_url: http://nkdagility.com/blog
    comment_author_IP: 82.12.112.139
    comment_date: '2015-04-13 17:57:00'
    comment_date_gmt: '2015-04-13 16:57:00'
    comment_content: It could be @moealkazzaz:disqus, how long ago did you do the upgrade?
    comment_approved: '1'
    comment_type: comment
    comment_parent: '11694'
    comment_user_id: '0'
    commentmeta:
    - meta_key: dsq_parent_post_id
      meta_value: '1944393979'
    - meta_key: dsq_post_id
      meta_value: '1965243200'
  - comment_id: '11771'
    comment_author: Moe Alkazzaz
    comment_author_email: mkazzaz@gmail.com
    comment_author_url: ''
    comment_author_IP: 107.197.58.10
    comment_date: '2015-04-16 02:57:00'
    comment_date_gmt: '2015-04-16 01:57:00'
    comment_content: >-
      Hi @MrHinsh:disqus. This was a month ago. I tried many things but no luck.
      Do you know where in the database or file system the templates are stored?
      Maybe I can manually change the template as a workaround.
    comment_approved: '1'
    comment_type: comment
    comment_parent: '11747'
    comment_user_id: '0'
    commentmeta:
    - meta_key: dsq_parent_post_id
      meta_value: '1965243200'
    - meta_key: dsq_post_id
      meta_value: '1969934270'
  - comment_id: '11776'
    comment_author: Martin Hinshelwood
    comment_author_email: martin@nakedalm.com
    comment_author_url: http://nkdagility.com/blog
    comment_author_IP: 86.178.58.20
    comment_date: '2015-04-16 13:32:00'
    comment_date_gmt: '2015-04-16 12:32:00'
    comment_content: >-
      You cant get them from there. If you have Team Project Collection Admin
      and the buttons are greyed out then you need to raise a support ticket
      with Microsoft.
    comment_approved: '1'
    comment_type: comment
    comment_parent: '11771'
    comment_user_id: '0'
    commentmeta:
    - meta_key: dsq_parent_post_id
      meta_value: '1969934270'
    - meta_key: dsq_post_id
      meta_value: '1970526038'
  - comment_id: '11778'
    comment_author: Moe Alkazzaz
    comment_author_email: mkazzaz@gmail.com
    comment_author_url: ''
    comment_author_IP: 173.224.159.21
    comment_date: '2015-04-16 16:48:00'
    comment_date_gmt: '2015-04-16 15:48:00'
    comment_content: OK thanks.
    comment_approved: '1'
    comment_type: comment
    comment_parent: '11776'
    comment_user_id: '0'
    commentmeta:
    - meta_key: dsq_parent_post_id
      meta_value: '1970526038'
    - meta_key: dsq_post_id
      meta_value: '1970846283'
