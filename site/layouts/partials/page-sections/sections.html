{{ $site := .Site }}
{{ if .Params.sections }}
  {{ range $index, $section := .Params.sections }}
    <!-- Title and Content (always shown) -->
    <section class="container my-5">
      <div class="section">
        <h2>{{ $section.title | markdownify }}</h2>
        <div class="{{ $section.contentClass }}">
          <p>{{ $section.content | markdownify }}</p>
        </div>
        <!-- Conditional rendering based on section type -->
        {{ if eq $section.type "features" }}
          <!-- Render features -->
          {{ partial "sections-features.html" . }}
        {{ else if eq $section.type "courses" }}
          {{ partial "sections-courses.html" (dict "site" $site "context" .) }}
        {{ else if eq $section.type "audiences" }}
          {{ partial "sections-audiences.html" (dict "site" $site "context" .) }}
        {{ else if eq $section.type "taxonomies" }}
          {{ partial "sections-taxonomies.html" (dict "site" $site "context" $section) }}
        {{ else if eq $section.type "videos" }}
          {{ partial "sections-videos.html" (dict "site" $site "context" .) }}
        {{ else if eq $section.type "cards" }}
          {{ partial "sections-cards.html" (dict "site" $site "context" .) }}
        {{ else if eq $section.type "counters" }}
          {{ partial "sections-counters.html" (dict "site" $site "context" .) }}
        {{ else if eq $section.type "none" }}
        {{ else }}
          <!-- Default rendering for other types if needed -->
          <div class="default-section">
            <p>Other section type content.</p>
          </div>
        {{ end }}
      </div>
    </section>
  {{ end }}
{{ else }}
  <section class="container my-5">
    {{ .Content }}
  </section>
{{ end }}
