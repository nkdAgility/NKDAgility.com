{{/* Sections Template - Renders dynamic page sections based on frontmatter configuration

  This template processes an array of sections defined in page frontmatter and renders
  each section with appropriate partial templates based on the section type.
*/}}

{{- $site := .Site }}
{{- $page := . }}
{{- $offsetForSidebar := false }}
{{- if .Params.headlines }}
  {{- $offsetForSidebar = true }}
{{- end }}

{{- if .Params.sections }}
  {{- range $index, $section := .Params.sections }}
    {{- partial "page-sections/section-wrapper.html" (dict "site" $site "page" $page "section" $section "index" $index "offsetForSidebar" $offsetForSidebar) }}
  {{- end }}
{{- else }}
  {{/* Fallback: render page content directly if no sections defined */}}
  <section class="container my-5">
    {{- .Content }}
  </section>
{{- end }}
